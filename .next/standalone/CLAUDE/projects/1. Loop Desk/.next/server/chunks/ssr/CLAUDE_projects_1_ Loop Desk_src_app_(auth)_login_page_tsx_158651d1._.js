;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="991fa62e-b1ce-74d4-6a9a-2476cd73aaf6")}catch(e){}}();
module.exports=[424876,a=>{"use strict";var b=a.i(367636),c=a.i(696555),d=a.i(393902),e=a.i(396112),f=a.i(945400),g=a.i(997074),h=a.i(434430),i=a.i(650120),j=a.i(771199),k=a.i(640613);let l=[{speedX:.22,speedY:.18,amplitudeX:3,amplitudeY:4,phaseX:0,phaseY:1.05},{speedX:.28,speedY:.2,amplitudeX:4,amplitudeY:3,phaseX:.79,phaseY:1.83},{speedX:.25,speedY:.16,amplitudeX:3.5,amplitudeY:4.5,phaseX:1.57,phaseY:2.62},{speedX:.3,speedY:.22,amplitudeX:2.5,amplitudeY:3.5,phaseX:2.36,phaseY:3.4},{speedX:.24,speedY:.19,amplitudeX:4,amplitudeY:3,phaseX:3.14,phaseY:4.19},{speedX:.26,speedY:.17,amplitudeX:3,amplitudeY:4,phaseX:3.93,phaseY:4.97},{speedX:.23,speedY:.21,amplitudeX:3.5,amplitudeY:3.5,phaseX:4.71,phaseY:5.76},{speedX:.27,speedY:.18,amplitudeX:4,amplitudeY:4,phaseX:5.5,phaseY:.52}],m=[{id:"andreas-jennische",name:"Andreas Jennische",firstName:"Andreas",role:"Nyhetschef och redaktör",image:"/avatars/andreas-jennische.png",provider:"google",loginHint:"andreas@loop.se"},{id:"johann-bernovall",name:"Johann Bernövall",firstName:"Johann",role:"Reporter och redaktör",image:"/avatars/johann-bernovall.png",provider:"google",loginHint:"johann@loop.se"},{id:"jenny-kjellen",name:"Jenny Kjellén",firstName:"Jenny",role:"Reporter",image:"/avatars/jenny-kjellen.png",provider:"google",loginHint:"jenny@loop.se"},{id:"camilla-bergman",name:"Camilla Bergman",firstName:"Camilla",role:"Chefredaktör och vd",image:"/avatars/camilla-bergman.png",provider:"google",loginHint:"camilla@loop.se"},{id:"diana-demin",name:"Diana Demin",firstName:"Diana",role:"CMO och Head of Expansion",image:"/avatars/diana-demin.png",provider:"google",loginHint:"diana@loop.se"},{id:"sandra-norberg",name:"Sandra Norberg",firstName:"Sandra",role:"Kommersiell chef",image:"/avatars/sandra-norberg.png",provider:"google",loginHint:"sandra@loop.se"},{id:"christian-von-essen",name:"Christian von Essen",firstName:"Christian",role:"Kommersiell redaktör",image:"/avatars/christian-von-essen.png",provider:"google",loginHint:"christian@loop.se"},{id:"isak-skogstad",name:"Isak Skogstad",firstName:"Isak",role:"Utvecklare",image:"/avatars/isak-skogstad.png",provider:"google",loginHint:"isak.skogstad@me.com"}];function n(){var a;let n,o=(0,g.useSearchParams)().get("callbackUrl")||"/",[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(null),[t,u]=(0,e.useState)(""),[v,w]=(0,e.useState)(null),[x,y]=(0,e.useState)(!1),[z,A]=(0,e.useState)("idle"),[B,C]=(0,e.useState)({text:"Loggar in...",progress:0}),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),H=(0,e.useRef)(null),I=(0,e.useRef)(null),J=(0,e.useRef)(null),K=(0,e.useRef)(0),[L,M]=(0,e.useState)({width:0,height:0}),[N,O]=(0,e.useState)({width:0,height:0}),[P,Q]=(0,e.useState)({x:0,y:0}),[R,S]=(0,e.useState)([]),[T,U]=(0,e.useState)({}),[V,W]=(0,e.useState)(!1),X=L.width>0&&L.width<=640,Y=L.width>640&&L.width<=1024,Z=(0,e.useMemo)(()=>X?Math.min(Math.max(.18*L.width,56),72):Y?Math.min(Math.max(.1*L.width,70),100):Math.min(Math.max(.08*L.width,80),120),[L.width,X,Y]),$=(0,e.useMemo)(()=>{if(!N.width||!N.height)return 200;let a=Math.sqrt(N.width**2+N.height**2)/2+.8*Z+Z/2;return Math.max(2.5*Z,Math.min(a,.42*Math.min(L.width,L.height)))},[N,Z,L]);(0,e.useEffect)(()=>{q(!0);let a=localStorage.getItem("theme");("dark"===a||!a&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(G(!0),document.documentElement.classList.add("dark"))},[]),(0,e.useEffect)(()=>{let a=()=>{if(M({width:window.innerWidth,height:window.innerHeight}),I.current){let a=I.current.getBoundingClientRect();O({width:a.width,height:a.height})}};a();let b=setTimeout(()=>{a(),W(!0)},100);return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a),clearTimeout(b)}},[p]),(0,e.useEffect)(()=>{if(X)return;let a=a=>{Q({x:a.clientX,y:a.clientY})};return window.addEventListener("mousemove",a),()=>window.removeEventListener("mousemove",a)},[X]),(0,e.useEffect)(()=>{if(!p||!V||X){X&&V&&S(m.map(()=>({x:0,y:0})));return}let a=L.width/2,b=L.height/2,c=d=>{let e=a>0?(P.x-a)/a:0,f=b>0?(P.y-b)/b:0;S(m.map((c,g)=>{let h=g/m.length*Math.PI*2-Math.PI/2,i=a+Math.cos(h)*$,j=b+Math.sin(h)*$,k=l[g];return{x:i+Math.sin(.001*d*k.speedX+k.phaseX)*k.amplitudeX+12*e*(g%2==0?1:-.5),y:j+Math.cos(.001*d*k.speedY+k.phaseY)*k.amplitudeY+12*f*(g%2==0?-.5:1)}})),K.current=requestAnimationFrame(c)};return K.current=requestAnimationFrame(c),()=>cancelAnimationFrame(K.current)},[p,V,P,$,L,X]);let _=a=>{s(a),u(""),w(null),setTimeout(()=>H.current?.focus(),150)},aa=(0,e.useCallback)((a,b)=>{let c=a.currentTarget.getBoundingClientRect(),d=a.clientX-c.left-c.width/2,e=a.clientY-c.top-c.height/2;U(a=>({...a,[b]:{rotateX:-(15*(e/c.height)),rotateY:d/c.width*15}}))},[]),ab=(0,e.useCallback)(a=>{U(b=>({...b,[a]:{rotateX:0,rotateY:0}}))},[]),ac=()=>{s(null),u(""),w(null),A("idle"),y(!1)},ad=a=>{w(a),u(""),H.current?.classList.add("animate-shake"),setTimeout(()=>H.current?.classList.remove("animate-shake"),500)},ae=async()=>{A("shrinking"),await new Promise(a=>setTimeout(a,300)),A("loading"),C({text:"Loggar in...",progress:20}),await new Promise(a=>setTimeout(a,400)),C({text:"Ansluter...",progress:70}),await new Promise(a=>setTimeout(a,800)),C({text:"Öppnar...",progress:100}),await new Promise(a=>setTimeout(a,400)),A("welcome")},af=async a=>{if(a.preventDefault(),r&&t&&!x){w(null),y(!0);try{let a=await fetch("/api/auth/check-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.loginHint})}),b=await a.json();if(!b.allowed){ad(b.message),y(!1);return}let c=await (0,f.signIn)("credentials",{email:r.loginHint,password:t,redirect:!1,callbackUrl:o});if(c?.error){let a=await fetch("/api/auth/check-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.loginHint})}),b=await a.json();b.allowed?void 0!==b.remainingAttempts&&b.remainingAttempts<=3?ad(`Fel l\xf6senord. ${b.remainingAttempts} f\xf6rs\xf6k kvar.`):ad("Fel lösenord"):ad(b.message),y(!1)}else c?.url&&(await ae(),window.location.assign(c.url))}catch{ad("Något gick fel. Försök igen."),y(!1)}}},ag=async()=>{r&&(y(!0),A("shrinking"),await new Promise(a=>setTimeout(a,200)),A("loading"),C({text:"Förbereder...",progress:30}),await new Promise(a=>setTimeout(a,300)),C({text:"Ansluter till Google...",progress:70}),await new Promise(a=>setTimeout(a,200)),C({text:"Omdirigerar...",progress:95}),(0,f.signIn)("google",{callbackUrl:o,...r.loginHint?{login_hint:r.loginHint}:{}}))};return p?(0,b.jsxs)("div",{ref:J,className:"relative min-h-screen w-full overflow-hidden bg-background",children:[(0,b.jsxs)("div",{className:`fixed inset-0 z-[300] flex items-center justify-center bg-background transition-opacity duration-300 ${"loading"===z||"welcome"===z?"opacity-100":"opacity-0 pointer-events-none"}`,children:["loading"===z&&(0,b.jsxs)("div",{className:"flex flex-col items-center gap-6",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground font-mono tracking-wider",children:B.text}),(0,b.jsx)("div",{className:"w-48 h-0.5 bg-border rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-foreground rounded-full transition-all duration-300 ease-out",style:{width:`${B.progress}%`}})})]}),"welcome"===z&&(0,b.jsx)("h2",{className:"text-3xl md:text-4xl font-bold tracking-tight font-mono animate-fade-in",children:"Välkommen."})]}),(0,b.jsxs)("div",{className:`relative min-h-screen flex items-center justify-center transition-opacity duration-300 ${"idle"!==z&&"shrinking"!==z?"opacity-0":"opacity-100"}`,children:[(0,b.jsxs)("h1",{ref:I,className:`absolute text-center font-mono font-bold leading-[0.85] tracking-[-0.04em] z-10 pointer-events-none select-none transition-all duration-300 ${r?"opacity-5 scale-95":"opacity-100"}`,style:{fontSize:X?"clamp(48px, 18vw, 80px)":Y?"clamp(60px, 12vw, 100px)":"clamp(80px, 10vw, 140px)"},children:[(0,b.jsx)("span",{className:"block animate-title-reveal",style:{animationDelay:"0.2s"},children:"LOOP"}),(0,b.jsx)("span",{className:"block animate-title-reveal",style:{animationDelay:"0.4s"},children:"DESK"})]}),!X&&V&&(0,b.jsx)("div",{className:"absolute inset-0 z-20",children:m.map((a,d)=>{let e=R[d];if(!e)return null;let f=T[a.id]||{rotateX:0,rotateY:0};return(0,b.jsxs)("button",{onClick:()=>_(a),onMouseMove:b=>aa(b,a.id),onMouseLeave:()=>ab(a.id),className:"absolute flex flex-col items-center gap-2 bg-transparent border-none cursor-pointer group animate-profile-enter",style:{left:e.x,top:e.y,transform:"translate(-50%, -50%)",animationDelay:`${.6+.08*d}s`,width:Z},children:[(0,b.jsx)("div",{className:"relative w-full aspect-square",style:{transformStyle:"preserve-3d",transform:`perspective(500px) rotateX(${f.rotateX}deg) rotateY(${f.rotateY}deg)`,transition:"transform 0.15s ease-out"},children:(0,b.jsx)(c.default,{src:a.image,alt:a.name,fill:!0,sizes:`${Z}px`,className:"rounded-full object-cover grayscale group-hover:grayscale-0 group-focus:grayscale-0 transition-all duration-300 shadow-avatar group-hover:shadow-avatar-hover group-hover:scale-110",priority:d<4})}),(0,b.jsx)("span",{className:"text-[10px] font-mono text-muted-foreground opacity-0 -translate-y-1 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-200 whitespace-nowrap",children:a.firstName})]},a.id)})}),X&&V&&(0,b.jsx)("div",{className:"absolute bottom-[15vh] left-0 right-0 z-20 px-6",children:(0,b.jsx)("div",{className:"grid grid-cols-4 gap-4 max-w-sm mx-auto",children:m.map((a,d)=>(0,b.jsxs)("button",{onClick:()=>_(a),className:"flex flex-col items-center gap-1 bg-transparent border-none cursor-pointer group animate-profile-enter",style:{animationDelay:`${.4+.05*d}s`},children:[(0,b.jsx)("div",{className:"relative w-full aspect-square",children:(0,b.jsx)(c.default,{src:a.image,alt:a.name,fill:!0,sizes:"80px",className:"rounded-full object-cover grayscale active:grayscale-0 transition-all duration-300 shadow-avatar active:scale-95",priority:d<4})}),(0,b.jsx)("span",{className:"text-[9px] font-mono text-muted-foreground truncate w-full text-center",children:a.firstName})]},a.id))})})]}),(0,b.jsx)("button",{onClick:()=>E(!D),className:`fixed bottom-6 right-6 w-10 h-10 flex items-center justify-center z-50 rounded-full bg-secondary/50 backdrop-blur-sm border border-border/50 transition-all duration-200 hover:bg-secondary ${D?"rotate-45":""}`,"aria-label":"Inställningar",children:(0,b.jsx)(j.Settings,{className:"w-4 h-4 text-muted-foreground"})}),(0,b.jsxs)("div",{className:`fixed bottom-20 right-6 flex flex-col gap-2 z-50 transition-all duration-200 ${D?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}`,children:[(0,b.jsx)("div",{className:"flex items-center justify-center p-2 bg-card border border-border rounded-lg shadow-lg",children:(0,b.jsxs)("button",{onClick:()=>{let a=!F;G(a),document.documentElement.classList.toggle("dark",a),localStorage.setItem("theme",a?"dark":"light")},className:"relative w-12 h-7 bg-secondary rounded-full transition-colors","aria-label":"Växla tema",children:[(0,b.jsx)(h.Sun,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-foreground transition-opacity",style:{opacity:F?.4:1}}),(0,b.jsx)(i.Moon,{className:"absolute right-1.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-foreground transition-opacity",style:{opacity:F?1:.4}}),(0,b.jsx)("span",{className:"absolute top-1 left-1 w-5 h-5 bg-card rounded-full shadow-sm transition-transform duration-200",style:{transform:F?"translateX(20px)":"translateX(0)"}})]})}),(0,b.jsx)("a",{href:"mailto:isak.skogstad@me.com?subject=Support%20för%20LoopDesk",className:"px-4 py-2 text-center font-mono text-xs text-muted-foreground bg-card border border-border rounded-lg shadow-lg hover:text-foreground transition-colors",children:"Support"})]}),(0,b.jsxs)("div",{className:`fixed inset-0 z-[100] flex items-center justify-center transition-all duration-300 ${r?"opacity-100 visible":"opacity-0 invisible pointer-events-none"}`,style:{background:"var(--modal-backdrop)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)"},onClick:a=>a.target===a.currentTarget&&ac(),children:[(0,b.jsx)("button",{onClick:ac,className:"absolute top-6 right-6 w-10 h-10 flex items-center justify-center rounded-full text-muted-foreground hover:text-foreground hover:bg-secondary/50 transition-colors","aria-label":"Stäng",children:(0,b.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,b.jsx)("path",{d:"M4 4L12 12M12 4L4 12"})})}),(0,b.jsx)("div",{className:`flex flex-col items-center gap-6 p-6 max-w-sm w-full mx-4 transition-all duration-300 ${"shrinking"===z?"scale-90 opacity-0":"scale-100 opacity-100"}`,children:r&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"relative w-24 h-24 md:w-28 md:h-28",children:(0,b.jsx)(c.default,{src:r.image,alt:r.name,fill:!0,sizes:"112px",className:"rounded-full object-cover shadow-xl",priority:!0})}),(0,b.jsx)("h2",{className:"text-2xl md:text-3xl font-bold tracking-tight font-mono text-center",children:(a=r.firstName,(n=new Date().getHours())>=5&&n<9?`Godmorgon, ${a}!`:n>=9&&n<12?`God f\xf6rmiddag, ${a}!`:n>=12&&n<14?`God dag, ${a}!`:n>=14&&n<18?`God eftermiddag, ${a}!`:n>=18&&n<22?`God kv\xe4ll, ${a}!`:`God natt, ${a}!`)}),(0,b.jsxs)("form",{onSubmit:af,className:"flex flex-col items-center gap-4 w-full",children:[(0,b.jsx)("div",{className:"relative w-full",children:(0,b.jsx)("input",{ref:H,type:"password",value:t,onChange:a=>{u(a.target.value),w(null)},placeholder:"••••••••",className:`w-full py-4 text-center font-mono text-lg tracking-[0.25em] bg-transparent border-b-2 border-border outline-none transition-all duration-200 focus:border-foreground placeholder:text-muted-foreground/30 ${v?"border-destructive":""}`,autoComplete:"current-password"})}),v&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-destructive animate-fade-in",children:[(0,b.jsx)(k.AlertCircle,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsx)("span",{children:v})]}),(0,b.jsx)("button",{type:"submit",disabled:!t||x,className:`w-full py-3.5 font-mono text-sm uppercase tracking-widest bg-foreground text-background rounded-lg transition-all duration-200 ${t&&!x?"opacity-100 hover:opacity-90 hover:shadow-lg active:scale-[0.98]":"opacity-0 pointer-events-none"}`,children:x?"Loggar in...":"Logga in"})]}),(0,b.jsx)(d.default,{href:"/forgot-password",className:"text-xs text-muted-foreground hover:text-foreground font-mono transition-colors",children:"Glömt lösenord?"}),(0,b.jsxs)("div",{className:"relative w-full flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex-1 h-px bg-border"}),(0,b.jsx)("span",{className:"text-xs uppercase tracking-widest text-muted-foreground font-mono",children:"eller"}),(0,b.jsx)("div",{className:"flex-1 h-px bg-border"})]}),(0,b.jsxs)("button",{type:"button",onClick:ag,disabled:x,className:"flex items-center justify-center gap-3 w-full py-3 rounded-lg border border-border bg-card text-sm font-medium transition-all hover:bg-secondary hover:shadow-md active:scale-[0.98] disabled:opacity-50",children:[(0,b.jsxs)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,b.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,b.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,b.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Fortsätt med Google"]})]})})]})]}):null}function o(){return(0,b.jsx)(e.Suspense,{fallback:null,children:(0,b.jsx)(n,{})})}a.s(["default",()=>o])}];

//# debugId=991fa62e-b1ce-74d4-6a9a-2476cd73aaf6
//# sourceMappingURL=CLAUDE_projects_1_%20Loop%20Desk_src_app_%28auth%29_login_page_tsx_158651d1._.js.map