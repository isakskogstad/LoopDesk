;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="cf1757d2-e48f-f050-e7d0-4a2e791cd5b8")}catch(e){}}();
module.exports=[60025,e=>{"use strict";var o=e.i(530447);let r=0,t=null;async function i(){if(!process.env.TWOCAPTCHA_API_KEY)return void console.log("[ProxyInit] Skipping proxy initialization (no API key)");if(process.env.PROXY_SERVER&&"disabled"!==process.env.PROXY_SERVER){console.log("[ProxyInit] Static proxy configured, loading..."),await o.proxyManager.fetchProxies(),await o.proxyManager.activate("Static proxy configured");let e=o.proxyManager.getStatus();console.log(`[ProxyInit] Static proxy ready - ${e.available}/${e.total} proxies`);return}console.log("[ProxyInit] Initializing proxy auto-refresh...");try{await a()}catch(e){console.error("[ProxyInit] Initial refresh failed:",e)}t&&clearInterval(t),t=setInterval(async()=>{try{await a()}catch(e){console.error("[ProxyInit] Periodic refresh failed:",e)}},144e5),console.log("[ProxyInit] Auto-refresh scheduled every 4 hours")}async function a(){let e=Date.now();if(e-r<3e5)return void console.log("[ProxyInit] Skipping refresh (too recent)");console.log("[ProxyInit] Refreshing proxies..."),await o.proxyManager.refresh(),r=e;let t=o.proxyManager.getStatus();console.log(`[ProxyInit] Refresh complete - ${t.available}/${t.total} proxies available`)}async function n(){if(console.log("[ProxyInit] Force refreshing proxies via proxyManager..."),r=0,!process.env.TWOCAPTCHA_API_KEY)return void console.log("[ProxyInit] No API key configured - cannot fetch proxies");try{let e=await o.proxyManager.fetchProxies();console.log(`[ProxyInit] ProxyManager now has ${e.length} proxies`),e.length>0&&!o.proxyManager.getStatus().isActive&&await o.proxyManager.activate("Force refresh - proxies available")}catch(e){console.error("[ProxyInit] Failed to refresh proxies:",e)}}function l(){t&&(clearInterval(t),t=null,console.log("[ProxyInit] Auto-refresh stopped"))}i().catch(e=>{console.error("[ProxyInit] Failed to initialize:",e)}),e.s(["forceRefreshProxies",()=>n,"initializeProxyManager",()=>i,"stopProxyRefresh",()=>l])}];

//# debugId=cf1757d2-e48f-f050-e7d0-4a2e791cd5b8
//# sourceMappingURL=CLAUDE_projects_LoopDesk_src_lib_kungorelser_proxy-init_ts_f47622a1._.js.map