;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="151ea81f-a37b-69f6-1c95-f39793887743")}catch(e){}}();
module.exports=[161494,a=>{"use strict";let b=(0,a.i(949258).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],161494)},446817,a=>{"use strict";let b=(0,a.i(949258).default)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);a.s(["Bookmark",()=>b],446817)},278742,a=>{"use strict";let b=(0,a.i(949258).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);a.s(["Share2",()=>b],278742)},167703,a=>{"use strict";let b=(0,a.i(949258).default)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);a.s(["Linkedin",()=>b],167703)},188095,a=>{"use strict";let b=(0,a.i(949258).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",()=>b],188095)},882619,a=>{"use strict";let b=(0,a.i(949258).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);a.s(["Mail",()=>b],882619)},678148,a=>{"use strict";let b=(0,a.i(949258).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],678148)},497325,715100,a=>{"use strict";var b=a.i(949258);let c=(0,b.default)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);a.s(["Twitter",()=>c],497325);let d=(0,b.default)("youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);a.s(["Youtube",()=>d],715100)},222594,a=>{"use strict";var b=a.i(257640),c=a.i(200417),d=a.i(631887),e=a.i(434303),f=a.i(939577),g=a.i(587739),h=a.i(102857),i=a.i(172595),j=a.i(332068),k=a.i(300611),l=a.i(890717),m=a.i(485472),n=a.i(497325),o=a.i(715100),p=a.i(167703),q=a.i(731835),r=a.i(161494),s=a.i(720752);a.i(204844);var t=a.i(118612);let u=["Affärer","Tech","Nyheter","Sport","Övrigt"],v=[{id:"twitter",name:"Twitter/X",template:"https://rsshub.rssforever.com/twitter/user/{username}",placeholder:"Användarnamn (utan @)",icon:(0,b.jsx)(n.Twitter,{className:"w-4 h-4"})},{id:"youtube",name:"YouTube-kanal",template:"https://rsshub.rssforever.com/youtube/channel/{channelId}",placeholder:"Kanal-ID eller @handle",icon:(0,b.jsx)(o.Youtube,{className:"w-4 h-4"})},{id:"linkedin",name:"LinkedIn Company",template:"https://rsshub.rssforever.com/linkedin/company/{companyName}",placeholder:"Företagsnamn (URL-slug)",icon:(0,b.jsx)(p.Linkedin,{className:"w-4 h-4"})}];function w(){let{status:a}=(0,d.useSession)(),n=(0,e.useRouter)(),[o,p]=(0,c.useState)([]),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)("Affärer"),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(null),[Q,R]=(0,c.useState)(""),S=(0,c.useCallback)(async()=>{try{x(!0),z(null);let a=await fetch("/api/feeds");if(!a.ok)throw Error("Failed to load feeds");let b=await a.json();p(b.feeds||[])}catch(a){z(a instanceof Error?a.message:"Unknown error")}finally{x(!1)}},[]);(0,c.useEffect)(()=>{"authenticated"===a?S():"unauthenticated"===a&&n.push("/login")},[a,n,S]);let T=async a=>{if(a){J(!0),N(null);try{let b=await fetch("/api/feeds/validate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:a})}),c=await b.json();N(c),c.valid&&c.feed?.title&&!E&&F(c.feed.title)}catch{N({valid:!1,error:"Validation failed"})}finally{J(!1)}}},U=async()=>{if(C&&E){L(!0);try{if(!(await fetch("/api/feeds",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:C,name:E,category:G})})).ok)throw Error("Failed to add feed");await S(),X()}catch(a){z(a instanceof Error?a.message:"Failed to add feed")}finally{L(!1)}}},V=async a=>{if(confirm("Är du säker på att du vill ta bort denna källa?"))try{if(!(await fetch(`/api/feeds/${a}`,{method:"DELETE"})).ok)throw Error("Failed to delete feed");await S()}catch(a){z(a instanceof Error?a.message:"Failed to delete feed")}},W=async()=>{try{if(x(!0),!(await fetch("/api/feeds/sync",{method:"POST"})).ok)throw Error("Sync failed");await S()}catch(a){z(a instanceof Error?a.message:"Sync failed")}finally{x(!1)}},X=()=>{B(!1),D(""),F(""),H("Affärer"),N(null),P(null),R("")};return"loading"===a||"authenticated"===a&&w&&0===o.length?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t.GradientMesh,{}),(0,b.jsx)("main",{className:"min-h-screen bg-background",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-12",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-8 bg-muted rounded w-48"}),(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-96"}),(0,b.jsx)("div",{className:"space-y-3 mt-8",children:[1,2,3,4,5].map(a=>(0,b.jsx)("div",{className:"h-16 bg-muted rounded-lg"},a))})]})})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(t.GradientMesh,{}),(0,b.jsx)("main",{className:"min-h-screen bg-background",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[(0,b.jsxs)("header",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[(0,b.jsx)(f.Rss,{className:"w-6 h-6 text-accent"}),"Nyhetskällor"]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Hantera dina RSS-feeds och nyhetskällor"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:W,disabled:w,children:[(0,b.jsx)(j.RefreshCw,{className:`w-4 h-4 mr-2 ${w?"animate-spin":""}`}),"Synka"]}),(0,b.jsxs)(s.Button,{size:"sm",onClick:()=>B(!0),children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4 mr-2"}),"Lägg till"]})]})]}),y&&(0,b.jsxs)("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3 flex items-center gap-2 text-destructive text-sm",children:[(0,b.jsx)(r.AlertCircle,{className:"w-4 h-4"}),y,(0,b.jsx)("button",{onClick:()=>z(null),className:"ml-auto",children:(0,b.jsx)(l.X,{className:"w-4 h-4"})})]})]}),A&&(0,b.jsxs)("div",{className:"bg-card border border-border rounded-xl p-6 mb-8",children:[(0,b.jsx)("h3",{className:"font-semibold mb-4",children:"Lägg till ny källa"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Snabbmallar"}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:v.map(a=>(0,b.jsxs)("button",{onClick:()=>P(O===a.id?null:a.id),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${O===a.id?"bg-accent text-white border-accent":"bg-secondary border-border hover:border-accent"}`,children:[a.icon,(0,b.jsx)("span",{className:"text-sm",children:a.name})]},a.id))})]}),O&&(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:v.find(a=>a.id===O)?.placeholder}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:Q,onChange:a=>R(a.target.value),placeholder:v.find(a=>a.id===O)?.placeholder,className:"flex-1 px-3 py-2 bg-background border border-border rounded-lg text-sm"}),(0,b.jsx)(s.Button,{size:"sm",onClick:()=>(a=>{let b=v.find(b=>b.id===a);if(b&&Q){let a=b.template.replace(/\{[^}]+\}/,Q);D(a),T(a)}})(O),disabled:!Q,children:"Applicera"})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"RSS-URL"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"url",value:C,onChange:a=>D(a.target.value),onBlur:()=>C&&T(C),placeholder:"https://example.com/feed.xml",className:"flex-1 px-3 py-2 bg-background border border-border rounded-lg text-sm"}),I&&(0,b.jsx)(m.Loader2,{className:"w-5 h-5 animate-spin text-muted-foreground self-center"}),M?.valid&&(0,b.jsx)(k.Check,{className:"w-5 h-5 text-green-500 self-center"}),M&&!M.valid&&(0,b.jsx)(l.X,{className:"w-5 h-5 text-destructive self-center"})]}),M?.error&&(0,b.jsx)("p",{className:"text-sm text-destructive mt-1",children:M.error}),M?.feed&&(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:[M.feed.itemCount," artiklar hittades"]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Namn"}),(0,b.jsx)("input",{type:"text",value:E,onChange:a=>F(a.target.value),placeholder:"Källans namn",className:"w-full px-3 py-2 bg-background border border-border rounded-lg text-sm"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"text-sm text-muted-foreground mb-2 block",children:"Kategori"}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:u.map(a=>(0,b.jsx)("button",{onClick:()=>H(a),className:`px-3 py-1.5 rounded-full text-sm transition-colors ${G===a?"bg-accent text-white":"bg-secondary hover:bg-secondary/80"}`,children:a},a))})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(s.Button,{variant:"outline",onClick:X,children:"Avbryt"}),(0,b.jsx)(s.Button,{onClick:U,disabled:!C||!E||K||null!==M&&!M.valid,children:K?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Lägger till..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Plus,{className:"w-4 h-4 mr-2"}),"Lägg till källa"]})})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:0!==o.length||w?o.map(a=>(0,b.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 flex items-center gap-4 hover:border-accent/50 transition-colors",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center",children:(0,b.jsx)(q.Globe,{className:"w-5 h-5 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h4",{className:"font-medium text-foreground truncate",children:a.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:a.url})]}),a.category&&(0,b.jsx)("span",{className:"px-2 py-1 bg-secondary rounded text-xs text-muted-foreground",children:a.category}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>window.open(a.url,"_blank"),className:"p-2 hover:bg-secondary rounded-lg transition-colors",title:"Öppna feed",children:(0,b.jsx)(i.ExternalLink,{className:"w-4 h-4 text-muted-foreground"})}),(0,b.jsx)("button",{onClick:()=>V(a.id),className:"p-2 hover:bg-destructive/10 rounded-lg transition-colors",title:"Ta bort",children:(0,b.jsx)(h.Trash2,{className:"w-4 h-4 text-destructive"})})]})]},a.id)):(0,b.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,b.jsx)(f.Rss,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,b.jsx)("p",{children:"Inga nyhetskällor ännu"}),(0,b.jsx)("p",{className:"text-sm",children:'Klicka på "Lägg till" för att lägga till din första källa'})]})})]})})]})}a.s(["default",()=>w])}];

//# debugId=151ea81f-a37b-69f6-1c95-f39793887743
//# sourceMappingURL=CLAUDE_projects_LoopDesk_3d0ae245._.js.map