{
  "version": 3,
  "sources": [],
  "debugId": "d237fd3c-b947-487b-bd30-65374257ad5e",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/src/components/company-linker.tsx","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/src/app/bolaghandelser/page.tsx","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/src/components/bolaghandelser/shareholder-chart.tsx","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/src/components/bolaghandelser/pdf-viewer-modal.tsx","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/src/components/bolaghandelser/related-events.tsx","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/src/components/bolaghandelser/event-item.tsx","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/src/hooks/use-read-status.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/src/hooks/use-notifications.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/%40tanstack/virtual-core/src/utils.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/%40tanstack/virtual-core/src/index.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/%40tanstack/react-virtual/src/index.tsx","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/lucide-react/src/icons/layout-grid.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/lucide-react/src/icons/merge.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/lucide-react/src/icons/circle-check.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/lucide-react/src/icons/bell-off.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/lucide-react/src/icons/radio.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/lucide-react/src/icons/check-check.ts","../../../../../../../CLAUDE/projects/1.%20Loop%20Desk/node_modules/lucide-react/src/icons/circle-x.ts"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState, ReactNode, useMemo } from \"react\";\nimport Link from \"next/link\";\n\ntype CompanyMap = Record<string, string>; // name -> orgNumber\n\ninterface CompanyLinkerContextType {\n  companies: CompanyMap;\n  isLoading: boolean;\n}\n\nconst CompanyLinkerContext = createContext<CompanyLinkerContextType>({\n  companies: {},\n  isLoading: true,\n});\n\nexport function CompanyLinkerProvider({ children }: { children: ReactNode }) {\n  const [companies, setCompanies] = useState<CompanyMap>({});\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchCompanies() {\n      try {\n        const res = await fetch(\"/api/bolag/company-names\");\n        if (res.ok) {\n          const data = await res.json();\n          setCompanies(data.companies || {});\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch company names:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    fetchCompanies();\n  }, []);\n\n  return (\n    <CompanyLinkerContext.Provider value={{ companies, isLoading }}>\n      {children}\n    </CompanyLinkerContext.Provider>\n  );\n}\n\nexport function useCompanyLinker() {\n  return useContext(CompanyLinkerContext);\n}\n\ninterface LinkedTextProps {\n  text: string;\n  className?: string;\n}\n\nexport function LinkedText({ text, className }: LinkedTextProps) {\n  const { companies, isLoading } = useCompanyLinker();\n\n  const linkedContent = useMemo(() => {\n    if (isLoading || !text || Object.keys(companies).length === 0) {\n      return text;\n    }\n\n    // Sort company names by length (longest first) to avoid partial matches\n    const sortedNames = Object.keys(companies).sort((a, b) => b.length - a.length);\n\n    // Build regex pattern - escape special chars and join with OR\n    const escapedNames = sortedNames.map(name =>\n      name.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    );\n\n    if (escapedNames.length === 0) return text;\n\n    const pattern = new RegExp(`(${escapedNames.join('|')})`, 'gi');\n    const parts = text.split(pattern);\n\n    return parts.map((part, index) => {\n      // Check if this part matches a company name (case-insensitive)\n      const matchedName = sortedNames.find(\n        name => name.toLowerCase() === part.toLowerCase()\n      );\n\n      if (matchedName) {\n        const orgNumber = companies[matchedName];\n        return (\n          <Link\n            key={index}\n            href={`/bolag/${orgNumber}`}\n            className=\"text-primary hover:underline font-medium\"\n          >\n            {part}\n          </Link>\n        );\n      }\n\n      return part;\n    });\n  }, [text, companies, isLoading]);\n\n  if (typeof linkedContent === \"string\") {\n    return <span className={className}>{linkedContent}</span>;\n  }\n\n  return <span className={className}>{linkedContent}</span>;\n}\n","\"use client\";\n\nimport { useState, useEffect, useCallback, useRef, useMemo } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\";\nimport { Building2, RefreshCw, Filter, Loader2, FileText, AlertTriangle, Users, TrendingUp, Merge, XCircle, Radio, Bell, BellOff, CheckCheck, Search, Calendar, X, LayoutList, LayoutGrid, ImageIcon } from \"lucide-react\";\nimport { CompanyLinkerProvider } from \"@/components/company-linker\";\nimport { EventItem } from \"@/components/bolaghandelser/event-item\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { getSupabaseClient } from \"@/lib/supabase\";\nimport { useReadStatus } from \"@/hooks/use-read-status\";\nimport { useNotifications, detectEventCategory } from \"@/hooks/use-notifications\";\nimport { useVirtualizer } from \"@tanstack/react-virtual\";\n\ninterface Announcement {\n  id: string;\n  type?: string;\n  subject: string;\n  orgNumber?: string;\n  detailText?: string;\n  pubDate?: string;\n  publishedAt?: string;\n  scrapedAt?: string;\n}\n\ninterface ShareholderData {\n  name: string;\n  orgNumber?: string;\n  shares: number;\n  votes?: number;\n  sharePercentage?: number;\n  presentAtMeeting?: boolean;\n}\n\ninterface Protocol {\n  id: number;\n  orgNumber: string;\n  companyName: string | null;\n  protocolDate: string;\n  purchaseDate: string;\n  pdfUrl: string | null;\n  eventType: string | null;\n  aiSummary: string | null;\n  aiDetails: {\n    score?: number;\n    severity?: string;\n    confidence?: number;\n    notis?: { titel?: string; sammanfattning?: string };\n    faktaruta?: {\n      stämmoDatum?: string;\n      tid?: string;\n      plats?: string;\n      stämmoTyp?: string;\n      händelse?: string;\n      belopp?: string;\n      pris_per_aktie?: string;\n      nya_aktier?: string;\n      utspädning?: string;\n      investerare?: string[];\n      personer?: string[];\n    };\n    signals?: string[];\n    källa?: {\n      typ?: string;\n      bolag?: string;\n      datum?: string;\n      referens?: string;\n    };\n    artikel?: string;\n    shareholders?: ShareholderData[];\n    shareholderCount?: number;\n    analyzedAt?: string;\n  } | null;\n}\n\ninterface ProtocolSearch {\n  id: number;\n  orgNumber: string;\n  companyName: string;\n  companyId: string;\n  latestProtocolDate: string | null;\n  protocolCount: number;\n  lastSearch: string | null;\n  createdAt: string;\n}\n\n// Unified feed item type\ntype FeedItem =\n  | { type: \"announcement\"; data: Announcement; date: Date }\n  | { type: \"protocol\"; data: Protocol; date: Date }\n  | { type: \"protocolSearch\"; data: ProtocolSearch; date: Date };\n\n// Important event categories with distinct visual styling\nconst IMPORTANT_CATEGORIES: Record<string, {\n  keywords: string[];\n  color: string;\n  bgColor: string;\n  label: string;\n  icon: React.ReactNode;\n  borderColor: string;\n  gradientFrom: string;\n}> = {\n  konkurs: {\n    keywords: [\"konkurs\", \"konkursbeslut\"],\n    color: \"text-red-600 dark:text-red-400\",\n    bgColor: \"bg-red-100 dark:bg-red-900/30\",\n    borderColor: \"border-l-red-500\",\n    gradientFrom: \"from-red-500/10\",\n    label: \"Konkurs\",\n    icon: <XCircle size={14} className=\"inline mr-1\" />,\n  },\n  likvidation: {\n    keywords: [\"likvidation\", \"likvidator\"],\n    color: \"text-orange-600 dark:text-orange-400\",\n    bgColor: \"bg-orange-100 dark:bg-orange-900/30\",\n    borderColor: \"border-l-orange-500\",\n    gradientFrom: \"from-orange-500/10\",\n    label: \"Likvidation\",\n    icon: <AlertTriangle size={14} className=\"inline mr-1\" />,\n  },\n  fusion: {\n    keywords: [\"fusion\", \"sammanslagning\"],\n    color: \"text-purple-600 dark:text-purple-400\",\n    bgColor: \"bg-purple-100 dark:bg-purple-900/30\",\n    borderColor: \"border-l-purple-500\",\n    gradientFrom: \"from-purple-500/10\",\n    label: \"Fusion\",\n    icon: <Merge size={14} className=\"inline mr-1\" />,\n  },\n  emission: {\n    keywords: [\"nyemission\", \"fondemission\", \"riktad emission\"],\n    color: \"text-blue-600 dark:text-blue-400\",\n    bgColor: \"bg-blue-100 dark:bg-blue-900/30\",\n    borderColor: \"border-l-blue-500\",\n    gradientFrom: \"from-blue-500/10\",\n    label: \"Emission\",\n    icon: <TrendingUp size={14} className=\"inline mr-1\" />,\n  },\n  styrelse: {\n    keywords: [\"styrelse\", \"ledamot\", \"ordförande\", \"vd\"],\n    color: \"text-green-600 dark:text-green-400\",\n    bgColor: \"bg-green-100 dark:bg-green-900/30\",\n    borderColor: \"border-l-green-500\",\n    gradientFrom: \"from-green-500/10\",\n    label: \"Styrelse\",\n    icon: <Users size={14} className=\"inline mr-1\" />,\n  },\n};\n\n// Date range presets for quick filtering\nconst DATE_PRESETS = [\n  { label: \"Idag\", days: 0 },\n  { label: \"Senaste 24h\", days: 1 },\n  { label: \"Denna vecka\", days: 7 },\n  { label: \"Senaste månaden\", days: 30 },\n  { label: \"Alla\", days: -1 },\n] as const;\n\nfunction detectCategory(announcement: Announcement): string | null {\n  const text = `${announcement.type || \"\"} ${announcement.detailText || \"\"} ${announcement.subject || \"\"}`.toLowerCase();\n  for (const [key, config] of Object.entries(IMPORTANT_CATEGORIES)) {\n    if (config.keywords.some((kw) => text.includes(kw))) {\n      return key;\n    }\n  }\n  return null;\n}\n\nfunction formatTime(dateStr: string | undefined | null): string {\n  if (!dateStr) return \"\";\n  const date = new Date(dateStr);\n  return date.toLocaleTimeString(\"sv-SE\", { hour: \"2-digit\", minute: \"2-digit\" });\n}\n\n// Group items by day\nfunction groupByDay<T extends { date: Date }>(items: T[]): { label: string; items: T[] }[] {\n  const now = new Date();\n  const today = now.toDateString();\n\n  const yesterday = new Date(now);\n  yesterday.setDate(yesterday.getDate() - 1);\n  const yesterdayStr = yesterday.toDateString();\n\n  const weekAgo = new Date(now);\n  weekAgo.setDate(weekAgo.getDate() - 7);\n\n  const groups: Map<string, { label: string; items: T[]; sortKey: number }> = new Map();\n\n  for (const item of items) {\n    const dateStr = item.date.toDateString();\n\n    let label: string;\n    let sortKey: number;\n\n    if (dateStr === today) {\n      label = \"Idag\";\n      sortKey = 0;\n    } else if (dateStr === yesterdayStr) {\n      label = \"Igår\";\n      sortKey = 1;\n    } else if (item.date > weekAgo) {\n      label = \"Denna vecka\";\n      sortKey = 2;\n    } else {\n      const monthYear = item.date.toLocaleDateString(\"sv-SE\", { month: \"long\", year: \"numeric\" });\n      label = monthYear.charAt(0).toUpperCase() + monthYear.slice(1);\n      sortKey = 100 - Math.floor((now.getTime() - item.date.getTime()) / (1000 * 60 * 60 * 24 * 30));\n    }\n\n    if (!groups.has(label)) {\n      groups.set(label, { label, items: [], sortKey });\n    }\n    groups.get(label)!.items.push(item);\n  }\n\n  return Array.from(groups.values())\n    .sort((a, b) => a.sortKey - b.sortKey)\n    .map(({ label, items }) => ({ label, items }));\n}\n\n// Convert announcements and protocols to unified feed items\nfunction toFeedItems(\n  announcements: Announcement[],\n  protocols: Protocol[],\n  protocolSearches: ProtocolSearch[] = []\n): FeedItem[] {\n  const items: FeedItem[] = [];\n\n  for (const a of announcements) {\n    const dateStr = a.publishedAt || a.pubDate;\n    if (dateStr) {\n      items.push({ type: \"announcement\", data: a, date: new Date(dateStr) });\n    }\n  }\n\n  for (const p of protocols) {\n    items.push({ type: \"protocol\", data: p, date: new Date(p.protocolDate) });\n  }\n\n  for (const ps of protocolSearches) {\n    if (ps.latestProtocolDate) {\n      items.push({ type: \"protocolSearch\", data: ps, date: new Date(ps.latestProtocolDate) });\n    }\n  }\n\n  items.sort((a, b) => b.date.getTime() - a.date.getTime());\n  return items;\n}\n\n// Notification Settings Modal Component (#13)\nfunction NotificationSettingsModal({\n  isOpen,\n  onClose,\n  settings,\n  onUpdateSettings,\n}: {\n  isOpen: boolean;\n  onClose: () => void;\n  settings: { enabled: boolean; soundEnabled: boolean; criticalOnly: boolean; categories?: Record<string, boolean> };\n  onUpdateSettings: (updates: Partial<typeof settings>) => void;\n}) {\n  const [localCategories, setLocalCategories] = useState<Record<string, boolean>>(\n    settings.categories || {\n      konkurs: true,\n      likvidation: true,\n      fusion: false,\n      emission: false,\n      styrelse: false,\n    }\n  );\n\n  if (!isOpen) return null;\n\n  const handleCategoryToggle = (key: string) => {\n    const updated = { ...localCategories, [key]: !localCategories[key] };\n    setLocalCategories(updated);\n    onUpdateSettings({ categories: updated });\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div className=\"absolute inset-0 bg-background/80 backdrop-blur-sm\" onClick={onClose} />\n      <div className=\"relative bg-card border border-border rounded-2xl shadow-xl w-full max-w-md mx-4 p-6 animate-in fade-in zoom-in-95 duration-200\">\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 p-2 rounded-lg hover:bg-secondary transition-colors\"\n        >\n          <X size={18} />\n        </button>\n\n        <h2 className=\"text-lg font-semibold mb-1\">Notifikationsinställningar</h2>\n        <p className=\"text-sm text-muted-foreground mb-6\">Välj vilka händelser du vill få notiser om</p>\n\n        {/* Master toggle */}\n        <div className=\"flex items-center justify-between py-3 border-b border-border\">\n          <div>\n            <p className=\"font-medium\">Aktivera notiser</p>\n            <p className=\"text-xs text-muted-foreground\">Få push-notiser för bolagshändelser</p>\n          </div>\n          <button\n            onClick={() => onUpdateSettings({ enabled: !settings.enabled })}\n            className={`relative w-12 h-7 rounded-full transition-colors ${\n              settings.enabled ? \"bg-primary\" : \"bg-secondary\"\n            }`}\n          >\n            <span\n              className={`absolute top-1 w-5 h-5 rounded-full bg-white shadow transition-transform ${\n                settings.enabled ? \"translate-x-6\" : \"translate-x-1\"\n              }`}\n            />\n          </button>\n        </div>\n\n        {/* Sound toggle */}\n        <div className=\"flex items-center justify-between py-3 border-b border-border\">\n          <div>\n            <p className=\"font-medium\">Ljud</p>\n            <p className=\"text-xs text-muted-foreground\">Spela ljud vid nya händelser</p>\n          </div>\n          <button\n            onClick={() => onUpdateSettings({ soundEnabled: !settings.soundEnabled })}\n            className={`relative w-12 h-7 rounded-full transition-colors ${\n              settings.soundEnabled ? \"bg-primary\" : \"bg-secondary\"\n            }`}\n            disabled={!settings.enabled}\n          >\n            <span\n              className={`absolute top-1 w-5 h-5 rounded-full bg-white shadow transition-transform ${\n                settings.soundEnabled ? \"translate-x-6\" : \"translate-x-1\"\n              }`}\n            />\n          </button>\n        </div>\n\n        {/* Category toggles */}\n        <div className=\"mt-4\">\n          <p className=\"text-sm font-medium mb-3\">Händelsekategorier</p>\n          <div className=\"space-y-2\">\n            {Object.entries(IMPORTANT_CATEGORIES).map(([key, config]) => (\n              <label\n                key={key}\n                className={`flex items-center justify-between p-3 rounded-xl cursor-pointer transition-colors ${\n                  localCategories[key] ? config.bgColor : \"bg-secondary/50 hover:bg-secondary\"\n                }`}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <span className={`p-1.5 rounded-lg ${config.bgColor} ${config.color}`}>\n                    {config.icon}\n                  </span>\n                  <span className=\"font-medium\">{config.label}</span>\n                </div>\n                <input\n                  type=\"checkbox\"\n                  checked={localCategories[key]}\n                  onChange={() => handleCategoryToggle(key)}\n                  disabled={!settings.enabled}\n                  className=\"sr-only\"\n                />\n                <div\n                  className={`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-colors ${\n                    localCategories[key]\n                      ? \"bg-primary border-primary text-primary-foreground\"\n                      : \"border-muted-foreground/30\"\n                  }`}\n                >\n                  {localCategories[key] && <CheckCheck size={12} />}\n                </div>\n              </label>\n            ))}\n          </div>\n        </div>\n\n        <button\n          onClick={onClose}\n          className=\"w-full mt-6 py-2.5 bg-primary text-primary-foreground rounded-xl font-medium hover:bg-primary/90 transition-colors\"\n        >\n          Spara\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default function BolaghandelserPage() {\n  const { status } = useSession();\n  const router = useRouter();\n  const [announcements, setAnnouncements] = useState<Announcement[]>([]);\n  const [protocols, setProtocols] = useState<Protocol[]>([]);\n  const [protocolSearches, setProtocolSearches] = useState<ProtocolSearch[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState(false);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [lastUpdated, setLastUpdated] = useState<Date | null>(null);\n  const [filter, setFilter] = useState<string | null>(null);\n  const [dateFilter, setDateFilter] = useState<number>(-1); // Days ago, -1 = all\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [debouncedQuery, setDebouncedQuery] = useState(\"\");\n  const [isSearching, setIsSearching] = useState(false);\n  const [nextCursor, setNextCursor] = useState<string | null>(null);\n  const [hasMore, setHasMore] = useState(true);\n  const loadMoreRef = useRef<HTMLDivElement>(null);\n  const parentRef = useRef<HTMLDivElement>(null); // For virtualization\n  const [realtimeStatus, setRealtimeStatus] = useState<\"connecting\" | \"connected\" | \"error\">(\"connecting\");\n  const [_newAnnouncementIds, setNewAnnouncementIds] = useState<Set<string>>(new Set()); // eslint-disable-line @typescript-eslint/no-unused-vars\n  const [showNotificationSettings, setShowNotificationSettings] = useState(false);\n  const [focusedIndex, setFocusedIndex] = useState<number>(-1); // Keyboard navigation (#8)\n  const [layout, setLayout] = useState<\"compact\" | \"standard\" | \"media\">(\"standard\"); // Layout switcher (#3)\n\n  // Read status hook\n  const { isRead, markAsRead, markAllAsRead, unreadCount } = useReadStatus();\n\n  // Notifications hook\n  const {\n    permission: notificationPermission,\n    settings: notificationSettings,\n    isSupported: notificationsSupported,\n    requestPermission,\n    updateSettings: updateNotificationSettings,\n    notify,\n    shouldNotify\n  } = useNotifications();\n\n  // Redirect if not logged in\n  useEffect(() => {\n    if (status === \"unauthenticated\") {\n      router.push(\"/login?callbackUrl=/bolaghandelser\");\n    }\n  }, [status, router]);\n\n  // Load initial announcements and protocols\n  const loadAnnouncements = useCallback(async (showRefresh = false) => {\n    if (showRefresh) setRefreshing(true);\n    try {\n      // Fetch all analyzed protocols (no date filter - we want to show all)\n      const [announcementsRes, protocolsRes] = await Promise.all([\n        fetch(`/api/kungorelser?limit=20`),\n        fetch(`/api/protocols?limit=100`),\n      ]);\n\n      if (announcementsRes.ok) {\n        const data = await announcementsRes.json();\n        setAnnouncements(data.announcements || []);\n        setNextCursor(data.nextCursor || null);\n        setHasMore(data.hasMore ?? false);\n      }\n\n      if (protocolsRes.ok) {\n        const data = await protocolsRes.json();\n        console.log(\"[bolaghandelser] Protocols API response:\", {\n          protocolsCount: data.protocols?.length,\n          protocolSearchesCount: data.protocolSearches?.length,\n          firstProtocolSearch: data.protocolSearches?.[0],\n        });\n        setProtocols(data.protocols || []);\n        setProtocolSearches(data.protocolSearches || []);\n      } else {\n        console.error(\"[bolaghandelser] Protocols API failed:\", protocolsRes.status, await protocolsRes.text());\n      }\n\n      setLastUpdated(new Date());\n    } catch (err) {\n      console.error(\"Failed to load data:\", err);\n    } finally {\n      setLoading(false);\n      setRefreshing(false);\n    }\n  }, []);\n\n  // Load more announcements\n  const loadMore = useCallback(async () => {\n    if (loadingMore || !hasMore || !nextCursor) return;\n\n    setLoadingMore(true);\n    try {\n      const res = await fetch(`/api/kungorelser?limit=20&cursor=${nextCursor}`);\n      if (res.ok) {\n        const data = await res.json();\n        setAnnouncements(prev => [...prev, ...(data.announcements || [])]);\n        setNextCursor(data.nextCursor || null);\n        setHasMore(data.hasMore ?? false);\n      }\n    } catch (err) {\n      console.error(\"Failed to load more announcements:\", err);\n    } finally {\n      setLoadingMore(false);\n    }\n  }, [loadingMore, hasMore, nextCursor]);\n\n  // Initial load\n  useEffect(() => {\n    if (status === \"authenticated\") {\n      loadAnnouncements();\n    }\n  }, [status, loadAnnouncements]);\n\n  // Auto-refresh every 30 seconds - only when realtime is NOT connected (#7)\n  useEffect(() => {\n    if (status !== \"authenticated\" || debouncedQuery) return;\n    // Skip auto-refresh if realtime is working (saves resources)\n    if (realtimeStatus === \"connected\") return;\n    const interval = setInterval(() => loadAnnouncements(), 30000);\n    return () => clearInterval(interval);\n  }, [status, loadAnnouncements, debouncedQuery, realtimeStatus]);\n\n  // Debounce search query\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedQuery(searchQuery);\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [searchQuery]);\n\n  // Server-side search when query changes\n  useEffect(() => {\n    if (status !== \"authenticated\") return;\n\n    async function searchAnnouncements() {\n      if (!debouncedQuery) {\n        // If query is empty, reload normal data\n        loadAnnouncements();\n        return;\n      }\n\n      setIsSearching(true);\n      try {\n        const res = await fetch(`/api/kungorelser?query=${encodeURIComponent(debouncedQuery)}&limit=100`);\n        if (res.ok) {\n          const data = await res.json();\n          setAnnouncements(data.announcements || []);\n          setNextCursor(null);\n          setHasMore(false); // Disable pagination during search\n        }\n      } catch (err) {\n        console.error(\"Search failed:\", err);\n      } finally {\n        setIsSearching(false);\n      }\n    }\n\n    searchAnnouncements();\n  }, [debouncedQuery, status, loadAnnouncements]);\n\n  // Infinite scroll\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting && hasMore && !loadingMore) {\n          loadMore();\n        }\n      },\n      { threshold: 0.1 }\n    );\n\n    if (loadMoreRef.current) {\n      observer.observe(loadMoreRef.current);\n    }\n\n    return () => observer.disconnect();\n  }, [hasMore, loadingMore, loadMore]);\n\n  // Subscribe to realtime updates for Announcements and ProtocolPurchase\n  useEffect(() => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let announcementChannel: any = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let protocolChannel: any = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let supabaseClient: any = null;\n\n    async function setupRealtime() {\n      supabaseClient = await getSupabaseClient();\n      if (!supabaseClient) {\n        setRealtimeStatus(\"error\");\n        return;\n      }\n\n      // Channel for Announcements\n      announcementChannel = supabaseClient\n        .channel(\"announcements-realtime\")\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"INSERT\",\n            schema: \"public\",\n            table: \"Announcement\",\n          },\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          (payload: { new: any }) => {\n            const newAnnouncement = payload.new as Announcement;\n            setAnnouncements((prev) => {\n              // Avoid duplicates\n              if (prev.some((a) => a.id === newAnnouncement.id)) {\n                return prev;\n              }\n              // Add to beginning (newest first)\n              return [newAnnouncement, ...prev];\n            });\n            // Mark as new for highlight animation\n            setNewAnnouncementIds((prev) => new Set(prev).add(newAnnouncement.id));\n            // Remove highlight after 5 seconds\n            setTimeout(() => {\n              setNewAnnouncementIds((prev) => {\n                const next = new Set(prev);\n                next.delete(newAnnouncement.id);\n                return next;\n              });\n            }, 5000);\n\n            // Send push notification for critical events\n            const eventText = `${newAnnouncement.type || \"\"} ${newAnnouncement.detailText || \"\"}`;\n            const category = detectEventCategory(eventText);\n            if (shouldNotify(category)) {\n              const companyName = newAnnouncement.subject || \"Okänt bolag\";\n              notify({\n                title: category === \"konkurs\" ? `Konkurs: ${companyName}` : `${category?.charAt(0).toUpperCase()}${category?.slice(1)}: ${companyName}`,\n                body: newAnnouncement.detailText?.slice(0, 100) || \"Ny bolagshändelse\",\n                category,\n                url: \"/bolaghandelser\",\n              });\n            }\n          }\n        )\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"UPDATE\",\n            schema: \"public\",\n            table: \"Announcement\",\n          },\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          (payload: { new: any }) => {\n            const updated = payload.new as Announcement;\n            setAnnouncements((prev) =>\n              prev.map((a) => (a.id === updated.id ? updated : a))\n            );\n          }\n        )\n        .subscribe((status: string) => {\n          if (status === \"SUBSCRIBED\") {\n            setRealtimeStatus(\"connected\");\n          } else if (status === \"CHANNEL_ERROR\" || status === \"TIMED_OUT\") {\n            setRealtimeStatus(\"error\");\n          }\n        });\n\n      // Channel for ProtocolPurchase (new protocols with AI analysis)\n      protocolChannel = supabaseClient\n        .channel(\"protocols-realtime\")\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"INSERT\",\n            schema: \"public\",\n            table: \"ProtocolPurchase\",\n          },\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          (payload: { new: any }) => {\n            const newProtocol = payload.new as Protocol;\n            setProtocols((prev) => {\n              // Avoid duplicates\n              if (prev.some((p) => p.id === newProtocol.id)) {\n                return prev;\n              }\n              // Add to beginning (newest first)\n              return [newProtocol, ...prev];\n            });\n\n            // Send push notification for new protocols with high score\n            const score = newProtocol.aiDetails?.score || 0;\n            if (score >= 7 && notificationSettings.enabled) {\n              const companyName = newProtocol.companyName || \"Okänt bolag\";\n              const eventType = newProtocol.eventType || \"Protokoll\";\n              notify({\n                title: `${eventType}: ${companyName}`,\n                body: newProtocol.aiDetails?.notis?.sammanfattning || \"Nytt intressant protokoll\",\n                category: \"protokoll\",\n                url: \"/bolaghandelser\",\n              });\n            }\n          }\n        )\n        .on(\n          \"postgres_changes\",\n          {\n            event: \"UPDATE\",\n            schema: \"public\",\n            table: \"ProtocolPurchase\",\n          },\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          (payload: { new: any }) => {\n            const updated = payload.new as Protocol;\n            setProtocols((prev) =>\n              prev.map((p) => (p.id === updated.id ? updated : p))\n            );\n          }\n        )\n        .subscribe();\n    }\n\n    setupRealtime();\n\n    return () => {\n      if (announcementChannel && supabaseClient) {\n        supabaseClient.removeChannel(announcementChannel);\n      }\n      if (protocolChannel && supabaseClient) {\n        supabaseClient.removeChannel(protocolChannel);\n      }\n    };\n  }, [notify, shouldNotify, notificationSettings.enabled]);\n\n  // Merge and filter feed items - memoized (#6) - MUST be before early returns\n  const feedItems = useMemo(\n    () => toFeedItems(announcements, protocols, protocolSearches),\n    [announcements, protocols, protocolSearches]\n  );\n\n  // Memoized event IDs for unread tracking (#6)\n  const eventIds = useMemo(\n    () => feedItems.map(item => item.type === \"announcement\" ? `a-${item.data.id}` : `p-${item.data.id}`),\n    [feedItems]\n  );\n\n  // Memoized unread count - calculated once, not 3 times in JSX (#6)\n  const currentUnreadCount = useMemo(\n    () => unreadCount(eventIds),\n    [unreadCount, eventIds]\n  );\n\n  // Date filter calculation (#15)\n  const dateFilterCutoff = useMemo(() => {\n    if (dateFilter === -1) return null;\n    const cutoff = new Date();\n    if (dateFilter === 0) {\n      cutoff.setHours(0, 0, 0, 0); // Start of today\n    } else {\n      cutoff.setDate(cutoff.getDate() - dateFilter);\n    }\n    return cutoff;\n  }, [dateFilter]);\n\n  const filteredItems = useMemo(() => {\n    return feedItems.filter((item) => {\n      // Date filter (#15)\n      if (dateFilterCutoff && item.date < dateFilterCutoff) {\n        return false;\n      }\n\n      if (item.type === \"announcement\") {\n        const a = item.data;\n        if (filter) {\n          if (filter === \"protokoll\") return false;\n          const cat = detectCategory(a);\n          if (cat !== filter) return false;\n        }\n        // Server-side search handles announcements - no client filtering needed\n      } else if (item.type === \"protocol\") {\n        const p = item.data;\n        if (filter && filter !== \"protokoll\") return false;\n        if (filter === \"protokoll\") return true;\n        // Client-side search for protocols (not searched server-side)\n        if (debouncedQuery) {\n          const query = debouncedQuery.toLowerCase();\n          const text = `${p.companyName || \"\"} ${p.orgNumber || \"\"} ${p.aiSummary || \"\"}`.toLowerCase();\n          if (!text.includes(query)) return false;\n        }\n      } else if (item.type === \"protocolSearch\") {\n        const ps = item.data;\n        if (filter && filter !== \"protokoll\") return false;\n        if (filter === \"protokoll\") return true;\n        // Client-side search for protocol searches\n        if (debouncedQuery) {\n          const query = debouncedQuery.toLowerCase();\n          const text = `${ps.companyName || \"\"} ${ps.orgNumber || \"\"}`.toLowerCase();\n          if (!text.includes(query)) return false;\n        }\n      }\n      return true;\n    });\n  }, [feedItems, filter, debouncedQuery, dateFilterCutoff]);\n\n  const grouped = useMemo(() => groupByDay(filteredItems), [filteredItems]);\n\n  // Flatten grouped items for virtualization (#8)\n  const flattenedItems = useMemo(() => {\n    const result: Array<{ type: \"header\"; label: string; count: number } | { type: \"event\"; item: FeedItem }> = [];\n    for (const group of grouped) {\n      result.push({ type: \"header\", label: group.label, count: group.items.length });\n      for (const item of group.items) {\n        result.push({ type: \"event\", item });\n      }\n    }\n    return result;\n  }, [grouped]);\n\n  // Virtual list for performance (#8)\n  const rowVirtualizer = useVirtualizer({\n    count: flattenedItems.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: (index) => {\n      const item = flattenedItems[index];\n      return item?.type === \"header\" ? 40 : 120; // Headers are smaller\n    },\n    overscan: 5,\n  });\n\n  // Build map of events by orgNumber for related events feature (#14)\n  const eventsByOrgNumber = useMemo(() => {\n    const map = new Map<string, Array<{\n      id: string | number;\n      type: \"announcement\" | \"protocol\" | \"protocolSearch\";\n      title: string;\n      date: Date;\n      eventType?: string | null;\n    }>>();\n\n    for (const item of feedItems) {\n      let orgNum: string | undefined;\n      let title: string;\n      let eventType: string | null = null;\n\n      if (item.type === \"announcement\") {\n        orgNum = item.data.orgNumber?.replace(/\\D/g, \"\");\n        title = item.data.subject || \"Kungörelse\";\n      } else if (item.type === \"protocol\") {\n        orgNum = item.data.orgNumber?.replace(/\\D/g, \"\");\n        title = item.data.aiDetails?.notis?.titel || item.data.companyName || \"Protokoll\";\n        eventType = item.data.eventType;\n      } else {\n        orgNum = item.data.orgNumber?.replace(/\\D/g, \"\");\n        title = `Protokoll från ${item.data.companyName || \"bolag\"}`;\n      }\n\n      if (orgNum) {\n        if (!map.has(orgNum)) {\n          map.set(orgNum, []);\n        }\n        map.get(orgNum)!.push({\n          id: item.data.id,\n          type: item.type,\n          title,\n          date: item.date,\n          eventType,\n        });\n      }\n    }\n\n    return map;\n  }, [feedItems]);\n\n  // Helper function to get related events for an item\n  const getRelatedEvents = useCallback((item: FeedItem) => {\n    let orgNum: string | undefined;\n    if (item.type === \"announcement\") {\n      orgNum = item.data.orgNumber?.replace(/\\D/g, \"\");\n    } else if (item.type === \"protocol\") {\n      orgNum = item.data.orgNumber?.replace(/\\D/g, \"\");\n    } else {\n      orgNum = item.data.orgNumber?.replace(/\\D/g, \"\");\n    }\n\n    if (!orgNum) return undefined;\n\n    const events = eventsByOrgNumber.get(orgNum);\n    if (!events || events.length <= 1) return undefined;\n\n    return events;\n  }, [eventsByOrgNumber]);\n\n  // Count important events\n  const importantCounts = useMemo(() => Object.keys(IMPORTANT_CATEGORIES).reduce(\n    (acc, key) => {\n      acc[key] = announcements.filter((a) => detectCategory(a) === key).length;\n      return acc;\n    },\n    {} as Record<string, number>\n  ), [announcements]);\n\n  const protocolCount = protocols.length + protocolSearches.length;\n\n  // Keyboard navigation (#8)\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Don't capture if user is typing in an input\n      if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) {\n        return;\n      }\n\n      const totalEvents = filteredItems.length;\n      if (totalEvents === 0) return;\n\n      switch (e.key) {\n        case \"ArrowDown\":\n        case \"j\": // Vim-style down\n          e.preventDefault();\n          setFocusedIndex((prev) => {\n            const next = prev < totalEvents - 1 ? prev + 1 : prev;\n            // Scroll focused item into view\n            const element = document.querySelector(`[data-event-index=\"${next}\"]`);\n            element?.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\n            return next;\n          });\n          break;\n\n        case \"ArrowUp\":\n        case \"k\": // Vim-style up\n          e.preventDefault();\n          setFocusedIndex((prev) => {\n            const next = prev > 0 ? prev - 1 : 0;\n            const element = document.querySelector(`[data-event-index=\"${next}\"]`);\n            element?.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\n            return next;\n          });\n          break;\n\n        case \"Enter\":\n        case \"o\": // Vim-style open\n          if (focusedIndex >= 0 && focusedIndex < totalEvents) {\n            e.preventDefault();\n            // Click the focused item to expand it\n            const element = document.querySelector(`[data-event-index=\"${focusedIndex}\"]`);\n            if (element instanceof HTMLElement) {\n              element.click();\n            }\n          }\n          break;\n\n        case \"r\": // Mark as read\n          if (focusedIndex >= 0 && focusedIndex < totalEvents) {\n            e.preventDefault();\n            const item = filteredItems[focusedIndex];\n            const eventId = item.type === \"announcement\"\n              ? `a-${item.data.id}`\n              : item.type === \"protocol\"\n              ? `p-${item.data.id}`\n              : `ps-${item.data.id}`;\n            markAsRead(eventId);\n          }\n          break;\n\n        case \"Escape\":\n          e.preventDefault();\n          setFocusedIndex(-1);\n          break;\n\n        case \"Home\":\n          e.preventDefault();\n          setFocusedIndex(0);\n          document.querySelector('[data-event-index=\"0\"]')?.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n          break;\n\n        case \"End\":\n          e.preventDefault();\n          setFocusedIndex(totalEvents - 1);\n          document.querySelector(`[data-event-index=\"${totalEvents - 1}\"]`)?.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\n          break;\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [filteredItems, focusedIndex, markAsRead]);\n\n  // Show loading while checking auth - AFTER all hooks\n  if (status === \"loading\") {\n    return (\n      <main className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-muted-foreground\">Laddar...</div>\n      </main>\n    );\n  }\n\n  if (status === \"unauthenticated\") {\n    return null;\n  }\n\n  return (\n    <CompanyLinkerProvider>\n      <main className=\"min-h-screen bg-background\">\n        {/* Luftigare layout med smalare innehållsbredd (#1) */}\n        <div className=\"max-w-2xl mx-auto px-6 py-10 sm:py-14\">\n          {/* Editorial Header (#2) */}\n          <header className=\"mb-10 sm:mb-14\">\n            {/* Kategori-etikett */}\n            <span className=\"block mb-3 text-[11px] font-semibold tracking-[0.15em] uppercase text-rose-500\">\n              Bolagshändelser\n            </span>\n\n            {/* Huvudrubrik med serif */}\n            <h1 className=\"font-serif text-3xl sm:text-4xl md:text-[42px] font-normal tracking-tight leading-[1.08] text-foreground\">\n              Senaste händelserna\n            </h1>\n\n            {/* Kursiv ingress */}\n            <p className=\"mt-4 text-lg sm:text-xl font-serif italic text-muted-foreground leading-relaxed\">\n              Konkurser, emissioner och styrelsebeslut – samlade på ett ställe.\n            </p>\n\n            {/* Status och actions */}\n            <div className=\"mt-6 flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <span\n                  className={`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${\n                    realtimeStatus === \"connected\"\n                      ? \"bg-emerald-50 text-emerald-600 dark:bg-emerald-950/40 dark:text-emerald-400\"\n                      : realtimeStatus === \"error\"\n                      ? \"bg-rose-50 text-rose-600 dark:bg-rose-950/40 dark:text-rose-400\"\n                      : \"bg-amber-50 text-amber-600 dark:bg-amber-950/40 dark:text-amber-400\"\n                  }`}\n                  title={\n                    realtimeStatus === \"connected\"\n                      ? \"Uppdateras i realtid\"\n                      : realtimeStatus === \"error\"\n                      ? \"Realtidsanslutning misslyckades\"\n                      : \"Ansluter...\"\n                  }\n                >\n                  <Radio size={10} className={`${realtimeStatus === \"connected\" ? \"motion-safe:animate-pulse\" : \"\"}`} />\n                  {realtimeStatus === \"connected\" ? \"Live\" : realtimeStatus === \"error\" ? \"Offline\" : \"...\"}\n                </span>\n                {/* Unread count badge */}\n                {currentUnreadCount > 0 && (\n                  <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-rose-500 text-white\">\n                    {currentUnreadCount} olästa\n                  </span>\n                )}\n              </div>\n              <div className=\"flex items-center gap-2\">\n                {/* Mark all as read button */}\n                {currentUnreadCount > 0 && (\n                  <button\n                    onClick={() => markAllAsRead(eventIds)}\n                    className=\"hidden sm:flex items-center gap-1.5 px-3 py-1.5 text-xs text-muted-foreground hover:text-foreground hover:bg-secondary/80 rounded-xl transition-all duration-200\"\n                    title=\"Markera alla som lästa\"\n                  >\n                    <CheckCheck size={14} />\n                    <span>Markera lästa</span>\n                  </button>\n                )}\n                {/* Notification settings button */}\n                {notificationsSupported && (\n                  <button\n                    onClick={() => {\n                      if (notificationPermission !== \"granted\") {\n                        requestPermission().then((granted) => {\n                          if (granted) setShowNotificationSettings(true);\n                        });\n                      } else {\n                        setShowNotificationSettings(true);\n                      }\n                    }}\n                    className={`p-2.5 rounded-xl transition-all duration-200 ${\n                      notificationPermission === \"granted\" && notificationSettings.enabled\n                        ? \"text-rose-500 bg-rose-50 dark:bg-rose-950/30 hover:bg-rose-100 dark:hover:bg-rose-900/40\"\n                        : \"text-muted-foreground hover:bg-secondary/80\"\n                    }`}\n                    title=\"Notifikationsinställningar\"\n                  >\n                    {notificationPermission === \"granted\" && notificationSettings.enabled ? (\n                      <Bell size={18} />\n                    ) : (\n                      <BellOff size={18} />\n                    )}\n                  </button>\n                )}\n                {/* Layout switcher */}\n                <div className=\"hidden sm:flex items-center border border-border/50 rounded-xl overflow-hidden\">\n                  <button\n                    onClick={() => setLayout(\"compact\")}\n                    className={`p-2 transition-all duration-200 ${\n                      layout === \"compact\"\n                        ? \"bg-foreground text-background\"\n                        : \"text-muted-foreground hover:text-foreground hover:bg-secondary/60\"\n                    }`}\n                    title=\"Kompakt vy\"\n                  >\n                    <LayoutList size={16} />\n                  </button>\n                  <button\n                    onClick={() => setLayout(\"standard\")}\n                    className={`p-2 transition-all duration-200 ${\n                      layout === \"standard\"\n                        ? \"bg-foreground text-background\"\n                        : \"text-muted-foreground hover:text-foreground hover:bg-secondary/60\"\n                    }`}\n                    title=\"Standard vy\"\n                  >\n                    <LayoutGrid size={16} />\n                  </button>\n                  <button\n                    onClick={() => setLayout(\"media\")}\n                    className={`p-2 transition-all duration-200 ${\n                      layout === \"media\"\n                        ? \"bg-foreground text-background\"\n                        : \"text-muted-foreground hover:text-foreground hover:bg-secondary/60\"\n                    }`}\n                    title=\"Media vy\"\n                  >\n                    <ImageIcon size={16} />\n                  </button>\n                </div>\n                <button\n                  onClick={() => loadAnnouncements(true)}\n                  disabled={refreshing}\n                  className=\"p-2.5 hover:bg-secondary/80 rounded-xl transition-all duration-200\"\n                  title=\"Uppdatera\"\n                >\n                  <RefreshCw size={18} className={refreshing ? \"animate-spin\" : \"\"} />\n                </button>\n              </div>\n            </div>\n          </header>\n\n          {/* Minimalistisk sök-input (#9) */}\n          <div className=\"relative mb-8\">\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Sök bland händelser...\"\n              className=\"w-full py-4 px-5 pr-12 text-base bg-secondary/40 border-0 rounded-2xl\n                         placeholder:text-muted-foreground/50\n                         focus:ring-2 focus:ring-rose-500/20 focus:bg-background focus:outline-none\n                         transition-all duration-200\"\n            />\n            <div className=\"absolute right-5 top-1/2 -translate-y-1/2 text-muted-foreground/40\">\n              {isSearching ? (\n                <Loader2 size={20} className=\"animate-spin\" />\n              ) : (\n                <Search size={20} />\n              )}\n            </div>\n          </div>\n\n          {/* Date filter presets - renare design */}\n          <div className=\"flex items-center gap-2 mb-4 overflow-x-auto scrollbar-hide pb-1 -mx-6 px-6\">\n            <Calendar size={14} className=\"text-muted-foreground/60 flex-shrink-0\" />\n            {DATE_PRESETS.map((preset) => (\n              <button\n                key={preset.days}\n                onClick={() => setDateFilter(preset.days)}\n                className={`px-3.5 py-2 rounded-xl text-xs font-medium whitespace-nowrap transition-all duration-200 flex-shrink-0 ${\n                  dateFilter === preset.days\n                    ? \"bg-foreground text-background shadow-sm\"\n                    : \"bg-secondary/50 text-muted-foreground hover:text-foreground hover:bg-secondary\"\n                }`}\n              >\n                {preset.label}\n              </button>\n            ))}\n          </div>\n\n          {/* Filter badges - enbart röd accent för kategorier (#8) */}\n          <div className=\"flex items-center gap-2 mb-8 text-sm overflow-x-auto scrollbar-hide pb-1 -mx-6 px-6 snap-x snap-mandatory\">\n            <div className=\"px-3.5 py-2 bg-secondary/50 rounded-xl flex-shrink-0 snap-start flex items-center\">\n              <span className=\"font-medium\">{filteredItems.length}</span>\n              <span className=\"text-muted-foreground ml-1.5 hidden sm:inline\">händelser</span>\n            </div>\n            {protocolCount > 0 && (\n              <button\n                className={`px-3.5 py-2 rounded-xl transition-all duration-200 flex-shrink-0 snap-start flex items-center gap-1.5 ${\n                  filter === \"protokoll\"\n                    ? \"bg-rose-500 text-white shadow-sm\"\n                    : \"bg-rose-50 dark:bg-rose-950/30 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/40\"\n                }`}\n                onClick={() => setFilter(filter === \"protokoll\" ? null : \"protokoll\")}\n              >\n                <FileText size={14} />\n                <span className=\"font-medium\">{protocolCount}</span>\n              </button>\n            )}\n            {Object.entries(importantCounts)\n              .filter(([, count]) => count > 0)\n              .map(([key, count]) => (\n                <button\n                  key={key}\n                  className={`px-3.5 py-2 rounded-xl transition-all duration-200 flex-shrink-0 snap-start flex items-center gap-1.5 ${\n                    filter === key\n                      ? \"bg-rose-500 text-white shadow-sm\"\n                      : \"bg-rose-50 dark:bg-rose-950/30 text-rose-600 dark:text-rose-400 hover:bg-rose-100 dark:hover:bg-rose-900/40\"\n                  }`}\n                  onClick={() => setFilter(filter === key ? null : key)}\n                >\n                  <span className=\"[&>svg]:w-3.5 [&>svg]:h-3.5\">{IMPORTANT_CATEGORIES[key].icon}</span>\n                  <span className=\"font-medium\">{count}</span>\n                </button>\n              ))}\n            {(filter || dateFilter !== -1) && (\n              <button\n                onClick={() => {\n                  setFilter(null);\n                  setDateFilter(-1);\n                }}\n                className=\"px-3.5 py-2 bg-secondary/50 hover:bg-secondary rounded-xl text-xs font-medium flex items-center gap-1.5 flex-shrink-0 transition-all duration-200\"\n              >\n                <X size={14} />\n                <span className=\"hidden sm:inline\">Rensa filter</span>\n              </button>\n            )}\n          </div>\n\n          {/* Content */}\n          {loading ? (\n            <div className=\"flex flex-col gap-6\">\n              {Array.from({ length: 4 }).map((_, i) => (\n                <div\n                  key={i}\n                  className=\"bg-card rounded-2xl border p-6 space-y-4 animate-in fade-in duration-300\"\n                  style={{ animationDelay: `${i * 100}ms` }}\n                >\n                  <div className=\"flex items-start gap-4\">\n                    <Skeleton shimmer className=\"w-16 h-16 rounded-lg flex-shrink-0\" />\n                    <div className=\"flex-1 space-y-3\">\n                      <div className=\"flex items-center gap-2\">\n                        <Skeleton shimmer className=\"h-5 w-24\" />\n                        <Skeleton shimmer className=\"h-4 w-20\" />\n                      </div>\n                      <Skeleton shimmer className=\"h-6 w-full\" />\n                      <Skeleton shimmer className=\"h-6 w-4/5\" />\n                    </div>\n                  </div>\n                  <Skeleton shimmer className=\"h-16 w-full\" />\n                </div>\n              ))}\n            </div>\n          ) : grouped.length === 0 ? (\n            <div className=\"text-center py-12 text-muted-foreground\">\n              <Building2 size={48} className=\"mx-auto mb-4 opacity-50\" />\n              <p className=\"font-medium\">\n                {debouncedQuery ? `Inga träffar för \"${debouncedQuery}\"` : \"Inga händelser än\"}\n              </p>\n              <p className=\"text-sm mt-1\">\n                {debouncedQuery\n                  ? \"Försök med ett annat sökord eller töm sökningen\"\n                  : filter || dateFilter !== -1\n                    ? \"Inga händelser matchar valda filter\"\n                    : \"Händelser från mac-appen visas här automatiskt\"}\n              </p>\n            </div>\n          ) : flattenedItems.length < 50 ? (\n            /* Standard rendering for small lists */\n            <div className=\"flex flex-col\">\n              {(() => {\n                let globalIndex = 0;\n                return grouped.map((group) => (\n                  <div key={group.label}>\n                    {/* Day section header – Luftigare design (#3) */}\n                    <div className=\"flex items-baseline gap-4 pt-10 pb-5 first:pt-0\">\n                      <span className=\"text-xs font-semibold tracking-[0.12em] uppercase text-rose-500\">\n                        {group.label}\n                      </span>\n                      <span className=\"text-sm text-muted-foreground/50\">\n                        {group.items.length} händelse{group.items.length !== 1 && \"r\"}\n                      </span>\n                    </div>\n\n                    {/* Events */}\n                    <div className=\"flex flex-col divide-y divide-border/30\">\n                      {group.items.map((item) => {\n                        const currentIndex = globalIndex++;\n                        const eventId = item.type === \"announcement\"\n                          ? `a-${item.data.id}`\n                          : item.type === \"protocol\"\n                          ? `p-${item.data.id}`\n                          : `ps-${item.data.id}`;\n                        return (\n                          <div key={eventId} data-event-index={currentIndex}>\n                            <EventItem\n                              event={\n                                item.type === \"announcement\"\n                                  ? { type: \"announcement\", data: item.data }\n                                  : item.type === \"protocol\"\n                                  ? { type: \"protocol\", data: item.data }\n                                  : { type: \"protocolSearch\", data: item.data }\n                              }\n                              date={item.date}\n                              showGradientLine={true}\n                              isUnread={!isRead(eventId)}\n                              onMarkAsRead={() => markAsRead(eventId)}\n                              relatedEvents={getRelatedEvents(item)}\n                              searchQuery={debouncedQuery}\n                              isFocused={focusedIndex === currentIndex}\n                              layout={layout}\n                            />\n                          </div>\n                        );\n                      })}\n                    </div>\n                  </div>\n                ));\n              })()}\n\n              {/* Load more indicator */}\n              <div ref={loadMoreRef} className=\"py-8 flex justify-center\">\n                {loadingMore && (\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <Loader2 size={16} className=\"animate-spin\" />\n                    <span className=\"text-sm\">Laddar fler händelser...</span>\n                  </div>\n                )}\n                {!hasMore && feedItems.length > 0 && (\n                  <span className=\"text-sm text-muted-foreground\">\n                    Alla {feedItems.length} händelser laddade\n                  </span>\n                )}\n              </div>\n            </div>\n          ) : (\n            /* Virtualized rendering for large lists (#8) */\n            <div\n              ref={parentRef}\n              className=\"h-[calc(100vh-300px)] overflow-auto\"\n              style={{ contain: \"strict\" }}\n            >\n              <div\n                style={{\n                  height: `${rowVirtualizer.getTotalSize()}px`,\n                  width: \"100%\",\n                  position: \"relative\",\n                }}\n              >\n                {rowVirtualizer.getVirtualItems().map((virtualRow) => {\n                  const flatItem = flattenedItems[virtualRow.index];\n\n                  if (flatItem.type === \"header\") {\n                    return (\n                      <div\n                        key={virtualRow.key}\n                        style={{\n                          position: \"absolute\",\n                          top: 0,\n                          left: 0,\n                          width: \"100%\",\n                          height: `${virtualRow.size}px`,\n                          transform: `translateY(${virtualRow.start}px)`,\n                        }}\n                      >\n                        <div className=\"flex items-center gap-4 py-2\">\n                          <span className=\"font-mono text-[11px] font-semibold uppercase tracking-widest text-muted-foreground\">\n                            {flatItem.label}\n                          </span>\n                          <span className=\"text-[10px] text-muted-foreground/60\">\n                            {flatItem.count} {flatItem.count === 1 ? \"händelse\" : \"händelser\"}\n                          </span>\n                          <div className=\"flex-1 h-px bg-gradient-to-r from-border to-transparent\" />\n                        </div>\n                      </div>\n                    );\n                  }\n\n                  const item = flatItem.item;\n                  const eventId = item.type === \"announcement\"\n                    ? `a-${item.data.id}`\n                    : item.type === \"protocol\"\n                    ? `p-${item.data.id}`\n                    : `ps-${item.data.id}`;\n\n                  return (\n                    <div\n                      key={virtualRow.key}\n                      style={{\n                        position: \"absolute\",\n                        top: 0,\n                        left: 0,\n                        width: \"100%\",\n                        height: `${virtualRow.size}px`,\n                        transform: `translateY(${virtualRow.start}px)`,\n                      }}\n                    >\n                      <EventItem\n                        event={\n                          item.type === \"announcement\"\n                            ? { type: \"announcement\", data: item.data }\n                            : item.type === \"protocol\"\n                            ? { type: \"protocol\", data: item.data }\n                            : { type: \"protocolSearch\", data: item.data }\n                        }\n                        date={item.date}\n                        showGradientLine={true}\n                        isUnread={!isRead(eventId)}\n                        onMarkAsRead={() => markAsRead(eventId)}\n                        relatedEvents={getRelatedEvents(item)}\n                        searchQuery={debouncedQuery}\n                        layout={layout}\n                      />\n                    </div>\n                  );\n                })}\n              </div>\n\n              {/* Load more trigger at bottom */}\n              <div ref={loadMoreRef} className=\"py-8 flex justify-center\">\n                {loadingMore && (\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\n                    <Loader2 size={16} className=\"animate-spin\" />\n                    <span className=\"text-sm\">Laddar fler händelser...</span>\n                  </div>\n                )}\n                {!hasMore && feedItems.length > 0 && (\n                  <span className=\"text-sm text-muted-foreground\">\n                    Alla {feedItems.length} händelser laddade\n                  </span>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Notification Settings Modal (#13) */}\n        <NotificationSettingsModal\n          isOpen={showNotificationSettings}\n          onClose={() => setShowNotificationSettings(false)}\n          settings={notificationSettings}\n          onUpdateSettings={updateNotificationSettings}\n        />\n      </main>\n    </CompanyLinkerProvider>\n  );\n}\n","\"use client\";\n\nimport { useMemo } from \"react\";\nimport { Users, TrendingUp, TrendingDown, Minus } from \"lucide-react\";\n\ninterface ShareholderData {\n  name: string;\n  orgNumber?: string;\n  shares: number;\n  votes?: number;\n  sharePercentage?: number;\n  presentAtMeeting?: boolean;\n}\n\ninterface ShareholderChartProps {\n  shareholders: ShareholderData[];\n  previousShareholders?: ShareholderData[];\n  maxDisplay?: number;\n}\n\n// Colors for pie chart segments\nconst COLORS = [\n  \"bg-blue-500\",\n  \"bg-emerald-500\",\n  \"bg-amber-500\",\n  \"bg-purple-500\",\n  \"bg-rose-500\",\n  \"bg-cyan-500\",\n  \"bg-indigo-500\",\n  \"bg-orange-500\",\n];\n\nconst COLORS_HEX = [\n  \"#3b82f6\",\n  \"#10b981\",\n  \"#f59e0b\",\n  \"#a855f7\",\n  \"#f43f5e\",\n  \"#06b6d4\",\n  \"#6366f1\",\n  \"#f97316\",\n];\n\nfunction formatNumber(num: number): string {\n  if (num >= 1_000_000) {\n    return `${(num / 1_000_000).toFixed(1)}M`;\n  }\n  if (num >= 1_000) {\n    return `${(num / 1_000).toFixed(0)}k`;\n  }\n  return num.toLocaleString(\"sv-SE\");\n}\n\nfunction formatPercentage(pct: number | undefined): string {\n  if (pct === undefined) return \"–\";\n  return `${pct.toFixed(1)}%`;\n}\n\n// SVG arc path generator - defined outside component\nfunction polarToCartesian(cx: number, cy: number, r: number, angleDeg: number) {\n  const angleRad = ((angleDeg - 90) * Math.PI) / 180;\n  return {\n    x: cx + r * Math.cos(angleRad),\n    y: cy + r * Math.sin(angleRad),\n  };\n}\n\nfunction describeArc(cx: number, cy: number, r: number, startAngle: number, endAngle: number): string {\n  const start = polarToCartesian(cx, cy, r, endAngle);\n  const end = polarToCartesian(cx, cy, r, startAngle);\n  const largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\n\n  return [\n    \"M\", cx, cy,\n    \"L\", start.x, start.y,\n    \"A\", r, r, 0, largeArcFlag, 0, end.x, end.y,\n    \"Z\",\n  ].join(\" \");\n}\n\nexport function ShareholderChart({\n  shareholders,\n  previousShareholders,\n  maxDisplay = 6,\n}: ShareholderChartProps) {\n  // Calculate percentages if not provided\n  const shareholdersWithPct = useMemo(() => {\n    if (!shareholders?.length) return [];\n    const totalShares = shareholders.reduce((sum, s) => sum + s.shares, 0);\n    return shareholders.map((s) => ({\n      ...s,\n      sharePercentage: s.sharePercentage ?? (totalShares > 0 ? (s.shares / totalShares) * 100 : 0),\n    }));\n  }, [shareholders]);\n\n  // Sort by shares descending\n  const sortedShareholders = useMemo(\n    () => [...shareholdersWithPct].sort((a, b) => b.shares - a.shares),\n    [shareholdersWithPct]\n  );\n\n  // Take top N and group rest as \"Others\"\n  const displayData = useMemo(() => {\n    if (sortedShareholders.length <= maxDisplay) {\n      return sortedShareholders;\n    }\n\n    const top = sortedShareholders.slice(0, maxDisplay - 1);\n    const rest = sortedShareholders.slice(maxDisplay - 1);\n    const othersShares = rest.reduce((sum, s) => sum + s.shares, 0);\n    const othersPct = rest.reduce((sum, s) => sum + (s.sharePercentage || 0), 0);\n\n    return [\n      ...top,\n      {\n        name: `${rest.length} övriga`,\n        shares: othersShares,\n        sharePercentage: othersPct,\n      },\n    ];\n  }, [sortedShareholders, maxDisplay]);\n\n  // Find changes compared to previous shareholders\n  const changes = useMemo(() => {\n    if (!previousShareholders?.length) return null;\n\n    const prevMap = new Map(previousShareholders.map((s) => [s.name, s.shares]));\n    const currentMap = new Map(shareholdersWithPct.map((s) => [s.name, s.shares]));\n\n    const newOwners = shareholdersWithPct.filter((s) => !prevMap.has(s.name));\n    const exitedOwners = previousShareholders.filter((s) => !currentMap.has(s.name));\n    const changedOwners = shareholdersWithPct.filter((s) => {\n      const prev = prevMap.get(s.name);\n      return prev !== undefined && prev !== s.shares;\n    });\n\n    return { newOwners, exitedOwners, changedOwners };\n  }, [shareholdersWithPct, previousShareholders]);\n\n  // Calculate pie chart segments using reduce to avoid mutation\n  const pieSegments = useMemo(() => {\n    const result: Array<{\n      name: string;\n      shares: number;\n      sharePercentage?: number;\n      startAngle: number;\n      endAngle: number;\n      color: string;\n    }> = [];\n\n    displayData.reduce((currentAngle, s, i) => {\n      const pct = s.sharePercentage || 0;\n      const endAngle = currentAngle + (pct / 100) * 360;\n      result.push({\n        ...s,\n        startAngle: currentAngle,\n        endAngle,\n        color: COLORS_HEX[i % COLORS_HEX.length],\n      });\n      return endAngle;\n    }, 0);\n\n    return result;\n  }, [displayData]);\n\n  // Early return AFTER all hooks\n  if (!shareholders?.length) {\n    return null;\n  }\n\n  return (\n    <div className=\"p-4 bg-muted/50 rounded-xl border border-border/50\">\n      <div className=\"flex items-center gap-2 mb-4\">\n        <Users className=\"w-4 h-4 text-muted-foreground\" />\n        <span className=\"text-sm font-semibold\">Ägarstruktur</span>\n        <span className=\"text-xs text-muted-foreground\">\n          ({shareholders.length} ägare)\n        </span>\n      </div>\n\n      <div className=\"flex gap-6\">\n        {/* Pie chart */}\n        <div className=\"flex-shrink-0\">\n          <svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\">\n            {pieSegments.map((segment, i) => (\n              <path\n                key={i}\n                d={describeArc(60, 60, 55, segment.startAngle, segment.endAngle)}\n                fill={segment.color}\n                className=\"transition-all duration-300 hover:opacity-80\"\n              />\n            ))}\n            {/* Center hole for donut chart effect */}\n            <circle cx=\"60\" cy=\"60\" r=\"30\" fill=\"var(--background)\" />\n          </svg>\n        </div>\n\n        {/* Legend */}\n        <div className=\"flex-1 min-w-0 space-y-1.5\">\n          {displayData.map((s, i) => (\n            <div key={i} className=\"flex items-center gap-2 text-sm\">\n              <div\n                className={`w-3 h-3 rounded-sm flex-shrink-0 ${COLORS[i % COLORS.length]}`}\n              />\n              <span className=\"truncate flex-1\" title={s.name}>\n                {s.name}\n              </span>\n              <span className=\"text-muted-foreground font-mono text-xs flex-shrink-0\">\n                {formatPercentage(s.sharePercentage)}\n              </span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Changes indicator */}\n      {changes && (changes.newOwners.length > 0 || changes.exitedOwners.length > 0) && (\n        <div className=\"mt-4 pt-3 border-t border-border/50\">\n          <div className=\"text-xs font-medium text-muted-foreground mb-2\">\n            Ägarförändringar\n          </div>\n          <div className=\"space-y-1\">\n            {changes.newOwners.slice(0, 3).map((owner, i) => (\n              <div key={`new-${i}`} className=\"flex items-center gap-2 text-xs\">\n                <TrendingUp className=\"w-3 h-3 text-emerald-500\" />\n                <span className=\"text-emerald-600 dark:text-emerald-400\">\n                  {owner.name}\n                </span>\n                <span className=\"text-muted-foreground\">\n                  +{formatNumber(owner.shares)} aktier\n                </span>\n              </div>\n            ))}\n            {changes.exitedOwners.slice(0, 3).map((owner, i) => (\n              <div key={`exit-${i}`} className=\"flex items-center gap-2 text-xs\">\n                <TrendingDown className=\"w-3 h-3 text-red-500\" />\n                <span className=\"text-red-600 dark:text-red-400\">\n                  {owner.name}\n                </span>\n                <span className=\"text-muted-foreground\">lämnade</span>\n              </div>\n            ))}\n            {changes.changedOwners.slice(0, 2).map((owner, i) => (\n              <div key={`change-${i}`} className=\"flex items-center gap-2 text-xs\">\n                <Minus className=\"w-3 h-3 text-amber-500\" />\n                <span className=\"text-amber-600 dark:text-amber-400\">\n                  {owner.name}\n                </span>\n                <span className=\"text-muted-foreground\">ändrade innehav</span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useEffect, useCallback } from \"react\";\nimport { X, ExternalLink, Download, ZoomIn, ZoomOut } from \"lucide-react\";\n\ninterface PdfViewerModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  pdfUrl: string;\n  title?: string;\n}\n\nexport function PdfViewerModal({ isOpen, onClose, pdfUrl, title }: PdfViewerModalProps) {\n  // Handle escape key\n  const handleKeyDown = useCallback((e: KeyboardEvent) => {\n    if (e.key === \"Escape\") {\n      onClose();\n    }\n  }, [onClose]);\n\n  useEffect(() => {\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleKeyDown);\n      document.body.style.overflow = \"hidden\";\n    }\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n      document.body.style.overflow = \"\";\n    };\n  }, [isOpen, handleKeyDown]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div\n        className=\"absolute inset-0 bg-background/90 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n\n      {/* Modal */}\n      <div className=\"relative w-full h-full max-w-5xl max-h-[90vh] mx-4 my-4 flex flex-col animate-in fade-in zoom-in-95 duration-200\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between bg-card border border-border rounded-t-xl px-4 py-3\">\n          <div className=\"flex items-center gap-3 min-w-0\">\n            <h2 className=\"text-sm font-semibold truncate\">\n              {title || \"Protokoll\"}\n            </h2>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            {/* Open in new tab */}\n            <a\n              href={pdfUrl}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"p-2 hover:bg-secondary rounded-lg transition-colors text-muted-foreground hover:text-foreground\"\n              title=\"Öppna i ny flik\"\n            >\n              <ExternalLink size={18} />\n            </a>\n            {/* Download */}\n            <a\n              href={pdfUrl}\n              download\n              className=\"p-2 hover:bg-secondary rounded-lg transition-colors text-muted-foreground hover:text-foreground\"\n              title=\"Ladda ner\"\n            >\n              <Download size={18} />\n            </a>\n            {/* Close */}\n            <button\n              onClick={onClose}\n              className=\"p-2 hover:bg-secondary rounded-lg transition-colors text-muted-foreground hover:text-foreground\"\n              title=\"Stäng (Esc)\"\n            >\n              <X size={18} />\n            </button>\n          </div>\n        </div>\n\n        {/* PDF iframe */}\n        <div className=\"flex-1 bg-card border-x border-b border-border rounded-b-xl overflow-hidden\">\n          <iframe\n            src={`${pdfUrl}#toolbar=1&navpanes=0&scrollbar=1`}\n            className=\"w-full h-full\"\n            title={title || \"PDF-dokument\"}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useMemo } from \"react\";\nimport Link from \"next/link\";\nimport { FileText, ChevronRight, Calendar } from \"lucide-react\";\n\ninterface RelatedEvent {\n  id: string | number;\n  type: \"announcement\" | \"protocol\" | \"protocolSearch\";\n  title: string;\n  date: Date;\n  eventType?: string | null;\n}\n\ninterface RelatedEventsProps {\n  events: RelatedEvent[];\n  currentEventId: string | number;\n  orgNumber: string;\n  maxDisplay?: number;\n}\n\nfunction formatRelativeDate(date: Date): string {\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n\n  if (diffDays === 0) {\n    return \"Idag\";\n  } else if (diffDays === 1) {\n    return \"Igår\";\n  } else if (diffDays < 7) {\n    return `${diffDays} dagar sedan`;\n  } else if (diffDays < 30) {\n    const weeks = Math.floor(diffDays / 7);\n    return `${weeks} ${weeks === 1 ? \"vecka\" : \"veckor\"} sedan`;\n  } else if (diffDays < 365) {\n    const months = Math.floor(diffDays / 30);\n    return `${months} ${months === 1 ? \"månad\" : \"månader\"} sedan`;\n  } else {\n    return date.toLocaleDateString(\"sv-SE\", { year: \"numeric\", month: \"short\" });\n  }\n}\n\nexport function RelatedEvents({\n  events,\n  currentEventId,\n  orgNumber,\n  maxDisplay = 3,\n}: RelatedEventsProps) {\n  // Filter out current event and sort by date\n  const filteredEvents = useMemo(() => {\n    return events\n      .filter((e) => e.id !== currentEventId)\n      .sort((a, b) => b.date.getTime() - a.date.getTime())\n      .slice(0, maxDisplay);\n  }, [events, currentEventId, maxDisplay]);\n\n  if (filteredEvents.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"p-4 bg-muted/50 rounded-xl border border-border/50\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center gap-2\">\n          <Calendar className=\"w-4 h-4 text-muted-foreground\" />\n          <span className=\"text-sm font-semibold\">Fler händelser från bolaget</span>\n        </div>\n        <Link\n          href={`/bolag/${orgNumber.replace(/\\D/g, \"\")}`}\n          className=\"text-xs text-muted-foreground hover:text-primary flex items-center gap-1 transition-colors\"\n        >\n          Visa alla\n          <ChevronRight size={12} />\n        </Link>\n      </div>\n\n      <div className=\"space-y-2\">\n        {filteredEvents.map((event) => (\n          <div\n            key={`${event.type}-${event.id}`}\n            className=\"flex items-start gap-3 p-2 rounded-lg hover:bg-secondary/50 transition-colors\"\n          >\n            <div className={`mt-0.5 p-1.5 rounded-md ${\n              event.type === \"protocol\" || event.type === \"protocolSearch\"\n                ? \"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400\"\n                : \"bg-secondary text-muted-foreground\"\n            }`}>\n              <FileText size={12} />\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium truncate\">{event.title}</p>\n              <div className=\"flex items-center gap-2 mt-0.5\">\n                <span className=\"text-xs text-muted-foreground\">\n                  {formatRelativeDate(event.date)}\n                </span>\n                {event.eventType && (\n                  <span className=\"text-xs px-1.5 py-0.5 rounded bg-secondary text-muted-foreground\">\n                    {event.eventType}\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useRef } from \"react\";\nimport Link from \"next/link\";\nimport {\n  ExternalLink,\n  Building2,\n  FileText,\n  AlertTriangle,\n  Users,\n  TrendingUp,\n  Merge,\n  XCircle,\n  ChevronRight,\n  Newspaper,\n  Star,\n  Bookmark,\n  BookmarkCheck,\n  Share2,\n  CheckCircle2,\n} from \"lucide-react\";\nimport { ShareholderChart } from \"./shareholder-chart\";\nimport { PdfViewerModal } from \"./pdf-viewer-modal\";\nimport { RelatedEvents } from \"./related-events\";\n\n// Announcement type from parent\ninterface Announcement {\n  id: string;\n  type?: string;\n  subject: string;\n  orgNumber?: string;\n  detailText?: string;\n  pubDate?: string;\n  publishedAt?: string;\n  scrapedAt?: string;\n}\n\n// Shareholder data from AI analysis\ninterface ShareholderData {\n  name: string;\n  orgNumber?: string;\n  shares: number;\n  votes?: number;\n  sharePercentage?: number;\n  presentAtMeeting?: boolean;\n}\n\n// Protocol type from parent\ninterface Protocol {\n  id: number;\n  orgNumber: string;\n  companyName: string | null;\n  protocolDate: string;\n  purchaseDate: string;\n  pdfUrl: string | null;\n  eventType: string | null;\n  aiSummary: string | null;\n  aiDetails: {\n    score?: number;\n    severity?: string;\n    confidence?: number;\n    notis?: { titel?: string; sammanfattning?: string };\n    faktaruta?: {\n      stämmoDatum?: string;\n      tid?: string;\n      plats?: string;\n      stämmoTyp?: string;\n      händelse?: string;\n      belopp?: string;\n      pris_per_aktie?: string;\n      nya_aktier?: string;\n      utspädning?: string;\n      investerare?: string[];\n      personer?: string[];\n    };\n    signals?: string[];\n    källa?: {\n      typ?: string;\n      bolag?: string;\n      datum?: string;\n      referens?: string;\n    };\n    artikel?: string;\n    shareholders?: ShareholderData[];\n    shareholderCount?: number;\n    analyzedAt?: string;\n  } | null;\n}\n\n// Protocol search type (discovered protocols without AI analysis)\ninterface ProtocolSearch {\n  id: number;\n  orgNumber: string;\n  companyName: string;\n  companyId: string;\n  latestProtocolDate: string | null;\n  protocolCount: number;\n  lastSearch: string | null;\n  createdAt: string;\n}\n\n// Unified event item\ntype EventData =\n  | { type: \"announcement\"; data: Announcement }\n  | { type: \"protocol\"; data: Protocol }\n  | { type: \"protocolSearch\"; data: ProtocolSearch };\n\n// Related event for the RelatedEvents component\ninterface RelatedEventData {\n  id: string | number;\n  type: \"announcement\" | \"protocol\" | \"protocolSearch\";\n  title: string;\n  date: Date;\n  eventType?: string | null;\n}\n\ninterface EventItemProps {\n  event: EventData;\n  date: Date;\n  isFocused?: boolean;\n  showGradientLine?: boolean;\n  isUnread?: boolean;\n  onMarkAsRead?: () => void;\n  onBookmark?: () => void;\n  isBookmarked?: boolean;\n  searchQuery?: string; // For highlighting search matches (#6)\n  relatedEvents?: RelatedEventData[]; // Other events from same company (#14)\n  layout?: \"compact\" | \"standard\" | \"media\"; // Layout mode (#3)\n}\n\n// Important event categories with enhanced visual styling (#2)\nconst EVENT_CATEGORIES: Record<string, {\n  keywords: string[];\n  color: string;\n  bgColor: string;\n  borderColor: string;\n  gradient: string;\n  label: string;\n  icon: React.ReactNode;\n  priority: number;\n}> = {\n  konkurs: {\n    keywords: [\"konkurs\", \"konkursbeslut\"],\n    color: \"bg-red-500\",\n    bgColor: \"bg-red-50 dark:bg-red-950/30\",\n    borderColor: \"border-l-red-500\",\n    gradient: \"from-red-500/10 to-transparent\",\n    label: \"Konkurs\",\n    icon: <XCircle className=\"w-5 h-5\" />,\n    priority: 1,\n  },\n  likvidation: {\n    keywords: [\"likvidation\", \"likvidator\"],\n    color: \"bg-orange-500\",\n    bgColor: \"bg-orange-50 dark:bg-orange-950/30\",\n    borderColor: \"border-l-orange-500\",\n    gradient: \"from-orange-500/10 to-transparent\",\n    label: \"Likvidation\",\n    icon: <AlertTriangle className=\"w-5 h-5\" />,\n    priority: 2,\n  },\n  fusion: {\n    keywords: [\"fusion\", \"sammanslagning\"],\n    color: \"bg-purple-500\",\n    bgColor: \"bg-purple-50 dark:bg-purple-950/30\",\n    borderColor: \"border-l-purple-500\",\n    gradient: \"from-purple-500/10 to-transparent\",\n    label: \"Fusion\",\n    icon: <Merge className=\"w-5 h-5\" />,\n    priority: 3,\n  },\n  emission: {\n    keywords: [\"nyemission\", \"fondemission\", \"riktad emission\"],\n    color: \"bg-blue-500\",\n    bgColor: \"bg-blue-50 dark:bg-blue-950/30\",\n    borderColor: \"border-l-blue-500\",\n    gradient: \"from-blue-500/10 to-transparent\",\n    label: \"Emission\",\n    icon: <TrendingUp className=\"w-5 h-5\" />,\n    priority: 4,\n  },\n  styrelse: {\n    keywords: [\"styrelse\", \"ledamot\", \"ordförande\", \"vd\", \"firmatecknare\"],\n    color: \"bg-green-500\",\n    bgColor: \"bg-green-50 dark:bg-green-950/30\",\n    borderColor: \"border-l-green-500\",\n    gradient: \"from-green-500/10 to-transparent\",\n    label: \"Styrelse\",\n    icon: <Users className=\"w-5 h-5\" />,\n    priority: 5,\n  },\n};\n\n// Detect event category with full styling info\nfunction detectCategory(text: string): (typeof EVENT_CATEGORIES)[string] & { category: string } | null {\n  const lowerText = text.toLowerCase();\n  for (const [key, config] of Object.entries(EVENT_CATEGORIES)) {\n    if (config.keywords.some((kw) => lowerText.includes(kw))) {\n      return { category: key, ...config };\n    }\n  }\n  return null;\n}\n\n// Get company logo URL - try Clearbit first, then local\nfunction getCompanyLogoUrl(orgNumber: string | undefined, companyName: string | undefined): string | null {\n  if (!orgNumber && !companyName) return null;\n\n  // Try to guess company domain from name for Clearbit\n  if (companyName) {\n    const cleanName = companyName\n      .toLowerCase()\n      .replace(/\\s*(ab|aktiebolag|hb|kb|ek\\.\\s*för\\.?|handelsbolag)\\s*$/gi, \"\")\n      .replace(/[^a-zåäö0-9]/gi, \"\")\n      .trim();\n\n    if (cleanName.length > 2) {\n      // Try Swedish .se domain first\n      return `https://logo.clearbit.com/${cleanName}.se`;\n    }\n  }\n\n  // Fallback to local logo\n  if (orgNumber) {\n    const digits = orgNumber.replace(/\\D/g, \"\");\n    if (digits.length >= 10) {\n      return `/logos/${digits}.png`;\n    }\n  }\n\n  return null;\n}\n\n// Format time with optional day indicator\nfunction formatTimeWithDay(date: Date): { time: string; day?: string } {\n  const now = new Date();\n  const time = date.toLocaleTimeString(\"sv-SE\", { hour: \"2-digit\", minute: \"2-digit\" });\n\n  if (date.toDateString() === now.toDateString()) {\n    return { time };\n  }\n\n  const yesterday = new Date(now);\n  yesterday.setDate(yesterday.getDate() - 1);\n  if (date.toDateString() === yesterday.toDateString()) {\n    return { time, day: \"Igår\" };\n  }\n\n  const weekAgo = new Date(now);\n  weekAgo.setDate(weekAgo.getDate() - 7);\n  if (date > weekAgo) {\n    const dayName = date.toLocaleDateString(\"sv-SE\", { weekday: \"short\" });\n    return { time, day: dayName.charAt(0).toUpperCase() + dayName.slice(1) };\n  }\n\n  return { time, day: date.toLocaleDateString(\"sv-SE\", { day: \"numeric\", month: \"short\" }) };\n}\n\n// Generate intelligent title based on event type\nfunction generateTitle(event: EventData): string {\n  if (event.type === \"protocol\") {\n    const p = event.data;\n    const companyName = p.companyName || \"Okänt bolag\";\n\n    // Use AI-generated title if available\n    if (p.aiDetails?.notis?.titel) {\n      return p.aiDetails.notis.titel;\n    }\n\n    const meetingType = p.aiDetails?.faktaruta?.stämmoTyp;\n    if (meetingType) {\n      return `${meetingType} i ${companyName}`;\n    }\n\n    return `Protokoll från ${companyName}`;\n  }\n\n  if (event.type === \"protocolSearch\") {\n    const ps = event.data;\n    return `Nytt stämmoprotokoll från ${ps.companyName}`;\n  }\n\n  // Announcement\n  const a = event.data;\n  const companyName = a.subject || \"Okänt bolag\";\n  const text = `${a.type || \"\"} ${a.detailText || \"\"}`.toLowerCase();\n\n  // Check for specific event types\n  if (text.includes(\"konkurs\")) {\n    return `Konkurs i ${companyName}`;\n  }\n  if (text.includes(\"likvidation\")) {\n    return `Likvidation av ${companyName}`;\n  }\n  if (text.includes(\"fusion\")) {\n    return `Fusion: ${companyName}`;\n  }\n  if (text.includes(\"nyemission\") || text.includes(\"fondemission\")) {\n    return `Emission i ${companyName}`;\n  }\n  if (text.includes(\"styrelse\") || text.includes(\"ledamot\") || text.includes(\"vd\")) {\n    return `Styrelseändring i ${companyName}`;\n  }\n  if (text.includes(\"firmatecknare\")) {\n    return `Ändring av firmatecknare i ${companyName}`;\n  }\n  if (text.includes(\"revisor\")) {\n    return `Revisorsbyte i ${companyName}`;\n  }\n  if (text.includes(\"bolagsordning\")) {\n    return `Ny bolagsordning för ${companyName}`;\n  }\n  if (text.includes(\"aktiekapital\")) {\n    return `Ändrat aktiekapital i ${companyName}`;\n  }\n  if (text.includes(\"adress\") || text.includes(\"säte\")) {\n    return `Adressändring för ${companyName}`;\n  }\n\n  return `Registrering: ${companyName}`;\n}\n\n// Generate summary text\nfunction generateSummary(event: EventData): string {\n  if (event.type === \"protocol\") {\n    const p = event.data;\n\n    // Use AI-generated summary if available\n    if (p.aiDetails?.notis?.sammanfattning) {\n      return p.aiDetails.notis.sammanfattning;\n    }\n\n    if (p.aiSummary) {\n      return p.aiSummary;\n    }\n\n    const parts: string[] = [];\n    if (p.aiDetails?.faktaruta?.stämmoTyp) {\n      parts.push(p.aiDetails.faktaruta.stämmoTyp);\n    }\n    if (p.aiDetails?.faktaruta?.stämmoDatum) {\n      const date = new Date(p.aiDetails.faktaruta.stämmoDatum);\n      parts.push(`den ${date.toLocaleDateString(\"sv-SE\", { day: \"numeric\", month: \"long\" })}`);\n    }\n\n    if (parts.length > 0) {\n      return `${parts.join(\" \")} inlämnad till Bolagsverket.`;\n    }\n\n    return \"Protokoll har lämnats in till Bolagsverket.\";\n  }\n\n  if (event.type === \"protocolSearch\") {\n    const ps = event.data;\n    if (ps.latestProtocolDate) {\n      const date = new Date(ps.latestProtocolDate);\n      const formattedDate = date.toLocaleDateString(\"sv-SE\", {\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n      });\n      return `Ett nytt protokoll har registrerats i Bolagsverkets databas: ${formattedDate}`;\n    }\n    return \"Ett nytt protokoll har registrerats i Bolagsverkets databas.\";\n  }\n\n  // Announcement\n  const a = event.data;\n  const text = `${a.type || \"\"} ${a.detailText || \"\"}`;\n\n  // Extract changes\n  const changesMatch = text.match(/Ändringar har registrerats beträffande:\\s*([^\\n.]+)/i);\n  if (changesMatch) {\n    const changes = changesMatch[1].replace(/,\\s*$/, \"\").trim();\n    return `Ändringar har registrerats gällande ${changes}.`;\n  }\n\n  // Clean up detail text for summary\n  let summary = a.detailText || \"\";\n\n  // Remove common noise\n  const noisePatterns = [\n    /In English/gi, /Start\\s+Sök/gi, /Sök kungörelse/gi, /Bli kund/gi,\n    /Logga in/gi, /Skriv ut/gi, /0771-670\\s*670/gi, /Bolagsverket/gi,\n    /Aktiebolagsregistret/gi, /Sökresultat/gi, /Antal träffar:\\s*\\d+/gi,\n    /K\\d{5,}[-/]\\d{2}/gi, /\\d{4}-\\d{2}-\\d{2}/g, /\\d{6}-\\d{4}/g,\n    /Org nr:/gi, /Företagsnamn:/gi, /Säte:/gi, /Kungörelsetext/gi,\n    /Uppgiftslämnare/gi, /Typ av kungörelse/gi, /Registreringsdatum/gi,\n    /Publiceringsdatum/gi, /« Tillbaka/gi, /Publicerad/gi,\n  ];\n\n  for (const pattern of noisePatterns) {\n    summary = summary.replace(pattern, \" \");\n  }\n\n  summary = summary.replace(/\\s+/g, \" \").trim();\n\n  if (summary.length > 200) {\n    summary = summary.slice(0, 197) + \"...\";\n  }\n\n  return summary || \"Kungörelse noterad.\";\n}\n\n// Helper function to highlight search terms in text (#6)\nfunction highlightSearchTerms(text: string, query: string | undefined): string {\n  if (!query || query.trim().length < 2) return text;\n\n  const escapedQuery = query.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n  const regex = new RegExp(`(${escapedQuery})`, \"gi\");\n  return text.replace(\n    regex,\n    '<mark class=\"bg-yellow-200 dark:bg-yellow-500/30 text-inherit px-0.5 rounded\">$1</mark>'\n  );\n}\n\nexport function EventItem({\n  event,\n  date,\n  isFocused = false,\n  showGradientLine = true,\n  isUnread = false,\n  onMarkAsRead,\n  onBookmark,\n  isBookmarked = false,\n  searchQuery,\n  relatedEvents,\n  layout = \"standard\",\n}: EventItemProps) {\n  const [expanded, setExpanded] = useState(false);\n  const [logoError, setLogoError] = useState(false);\n  const [clearbitError, setClearbitError] = useState(false);\n  const [pdfModalOpen, setPdfModalOpen] = useState(false);\n  const articleRef = useRef<HTMLElement>(null);\n\n  const { time, day } = formatTimeWithDay(date);\n\n  // Get company info\n  const companyName = event.type === \"protocol\"\n    ? event.data.companyName || \"Okänt bolag\"\n    : event.type === \"protocolSearch\"\n    ? event.data.companyName || \"Okänt bolag\"\n    : event.data.subject || \"Okänt bolag\";\n\n  const orgNumber = event.type === \"protocol\"\n    ? event.data.orgNumber\n    : event.type === \"protocolSearch\"\n    ? event.data.orgNumber\n    : event.data.orgNumber;\n\n  // Detect category\n  const categoryText = event.type === \"announcement\"\n    ? `${event.data.type || \"\"} ${event.data.detailText || \"\"}`\n    : event.type === \"protocol\" && event.data.eventType\n    ? event.data.eventType\n    : \"\";\n  const category = detectCategory(categoryText);\n\n  // Generate title and summary\n  const title = generateTitle(event);\n  const summary = generateSummary(event);\n\n  // Logo URL\n  const clearbitUrl = getCompanyLogoUrl(orgNumber, companyName);\n  const localLogoUrl = orgNumber ? `/logos/${orgNumber.replace(/\\D/g, \"\")}.png` : null;\n\n  // Click handler\n  const handleCardClick = (e: React.MouseEvent) => {\n    const target = e.target as HTMLElement;\n    if (target.closest(\"button\") || target.closest(\"a\")) {\n      return;\n    }\n    setExpanded(!expanded);\n    // Mark as read when expanded\n    if (!expanded && onMarkAsRead) {\n      onMarkAsRead();\n    }\n  };\n\n  // Get external link\n  const externalLink = event.type === \"announcement\"\n    ? `https://poit.bolagsverket.se/poit-app/kungorelse/${event.data.id.replace(/\\//g, \"-\")}`\n    : event.type === \"protocol\"\n    ? event.data.pdfUrl\n    : null; // protocolSearch has no direct external link\n\n  // Determine if item is read (not unread) - for opacity styling (#2)\n  const isRead = !isUnread;\n\n  // Handle share action (#5)\n  const handleShare = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    const shareData = {\n      title: title,\n      text: summary.slice(0, 100),\n      url: externalLink || window.location.href,\n    };\n\n    if (navigator.share) {\n      try {\n        await navigator.share(shareData);\n      } catch {\n        // User cancelled or error\n      }\n    } else {\n      // Fallback: copy to clipboard\n      await navigator.clipboard.writeText(externalLink || window.location.href);\n    }\n  };\n\n  // Handle bookmark (#5)\n  const handleBookmark = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onBookmark?.();\n  };\n\n  // Handle mark as read (#5)\n  const handleMarkReadClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onMarkAsRead?.();\n  };\n\n  // Layout-specific settings (#3) – NY STIL\n  const showDescription = layout !== \"compact\";\n  const padding = layout === \"compact\"\n    ? \"py-4\"\n    : \"py-6 sm:py-8\";\n\n  return (\n    <>\n    <article\n      ref={articleRef}\n      className={`\n        group relative ${padding} cursor-pointer\n        transition-all duration-[250ms] ease-[cubic-bezier(0.4,0,0.2,1)]\n        ${isFocused ? \"ring-2 ring-rose-500 ring-offset-4 ring-offset-background rounded-2xl\" : \"\"}\n        ${expanded ? \"bg-secondary/20 -mx-4 px-4 rounded-2xl\" : \"\"}\n        ${isRead && !expanded ? \"opacity-50\" : \"\"}\n        hover:opacity-100 hover:-translate-y-0.5\n      `}\n      style={{ minHeight: \"auto\" }}\n      onClick={handleCardClick}\n    >\n      {/* Hover actions panel – mjukare styling */}\n      <div className=\"absolute right-0 top-6 flex items-center gap-1.5 opacity-0 group-hover:opacity-100 transition-all duration-200 z-10\">\n        <button\n          onClick={handleBookmark}\n          className=\"h-9 w-9 rounded-xl border border-border/50 bg-background/95 backdrop-blur-sm text-muted-foreground\n                     hover:text-rose-500 hover:border-rose-200 dark:hover:border-rose-800 transition-all duration-200 flex items-center justify-center\n                     shadow-sm hover:shadow-md\"\n          title={isBookmarked ? \"Ta bort bokmärke\" : \"Bokmärk\"}\n        >\n          {isBookmarked ? <BookmarkCheck className=\"w-4 h-4\" /> : <Bookmark className=\"w-4 h-4\" />}\n        </button>\n        {isUnread && (\n          <button\n            onClick={handleMarkReadClick}\n            className=\"h-9 w-9 rounded-xl border border-border/50 bg-background/95 backdrop-blur-sm text-muted-foreground\n                       hover:text-emerald-500 hover:border-emerald-200 dark:hover:border-emerald-800 transition-all duration-200 flex items-center justify-center\n                       shadow-sm hover:shadow-md\"\n            title=\"Markera som läst\"\n          >\n            <CheckCircle2 className=\"w-4 h-4\" />\n          </button>\n        )}\n        <button\n          onClick={handleShare}\n          className=\"h-9 w-9 rounded-xl border border-border/50 bg-background/95 backdrop-blur-sm text-muted-foreground\n                     hover:text-foreground hover:border-border transition-all duration-200 flex items-center justify-center\n                     shadow-sm hover:shadow-md\"\n          title=\"Dela\"\n        >\n          <Share2 className=\"w-4 h-4\" />\n        </button>\n      </div>\n\n      {/* Editorial article layout – NY STIL (#4) */}\n      <div className=\"min-w-0 flex flex-col\">\n        {/* Kategori-etikett – röd accent (#8) */}\n        {category && (\n          <span className=\"inline-block mb-2 text-[10px] font-semibold tracking-[0.15em] uppercase text-rose-500\">\n            {category.label}\n          </span>\n        )}\n        {(event.type === \"protocol\" || event.type === \"protocolSearch\") && !category && (\n          <span className=\"inline-block mb-2 text-[10px] font-semibold tracking-[0.15em] uppercase text-rose-500\">\n            Protokoll\n          </span>\n        )}\n\n        {/* Titel – serif typografi för editorial känsla */}\n        <h2\n          className=\"font-serif text-lg sm:text-xl md:text-[22px] font-normal leading-snug text-foreground\n                     group-hover:text-rose-600 dark:group-hover:text-rose-400 transition-colors duration-200\"\n          dangerouslySetInnerHTML={{ __html: highlightSearchTerms(title, searchQuery) }}\n        />\n\n        {/* Meta-rad med logotyp (#5) */}\n        <div className=\"flex items-center gap-3 mt-3 text-sm text-muted-foreground\">\n          {/* Bolagslogotyp + namn */}\n          {orgNumber && (\n            <Link\n              href={`/bolag/${orgNumber.replace(/\\D/g, \"\")}`}\n              onClick={(e) => e.stopPropagation()}\n              className=\"flex items-center gap-2.5 font-medium text-foreground hover:text-rose-500 transition-colors duration-200\"\n            >\n              {/* Logotyp med mjuk skugga */}\n              {!logoError && (clearbitUrl || localLogoUrl) && (\n                <div className=\"relative w-7 h-7 rounded-lg overflow-hidden bg-muted/50 flex-shrink-0 shadow-sm ring-1 ring-border/30\">\n                  {/* eslint-disable-next-line @next/next/no-img-element */}\n                  <img\n                    src={clearbitError ? (localLogoUrl || \"\") : (clearbitUrl || \"\")}\n                    alt=\"\"\n                    className=\"w-full h-full object-contain p-0.5\"\n                    onError={() => {\n                      if (!clearbitError && clearbitUrl) {\n                        setClearbitError(true);\n                      } else {\n                        setLogoError(true);\n                      }\n                    }}\n                  />\n                </div>\n              )}\n              {/* Fallback-ikon om ingen logotyp */}\n              {(logoError || (!clearbitUrl && !localLogoUrl)) && (\n                <div className=\"w-7 h-7 rounded-lg bg-muted/50 flex items-center justify-center flex-shrink-0 shadow-sm ring-1 ring-border/30\">\n                  <Building2 className=\"w-3.5 h-3.5 text-muted-foreground/60\" />\n                </div>\n              )}\n              <span>{companyName}</span>\n            </Link>\n          )}\n          <span className=\"text-muted-foreground/40\">·</span>\n          <time className=\"tabular-nums\">{time}</time>\n          {day && (\n            <>\n              <span className=\"text-muted-foreground/40\">·</span>\n              <span className=\"text-muted-foreground/60\">{day}</span>\n            </>\n          )}\n          {/* Score badge for protocols with AI analysis */}\n          {event.type === \"protocol\" && event.data.aiDetails?.score !== undefined && (\n            <>\n              <span className=\"text-muted-foreground/40\">·</span>\n              <span className=\"inline-flex items-center gap-1 text-amber-600 dark:text-amber-400\">\n                <Star size={12} />\n                {event.data.aiDetails.score}/10\n              </span>\n            </>\n          )}\n          {/* \"Har artikel\" indicator */}\n          {event.type === \"protocol\" && event.data.aiDetails?.artikel && (\n            <>\n              <span className=\"text-muted-foreground/40\">·</span>\n              <span className=\"inline-flex items-center gap-1 text-emerald-600 dark:text-emerald-400\">\n                <Newspaper size={12} />\n                Artikel\n              </span>\n            </>\n          )}\n        </div>\n\n        {/* Summary – kursiv serif för editorial känsla */}\n        {showDescription && (\n          <p\n            className={`mt-4 font-serif text-base sm:text-[17px] italic text-muted-foreground leading-relaxed ${expanded ? \"\" : \"line-clamp-2\"}`}\n            dangerouslySetInnerHTML={{ __html: highlightSearchTerms(summary, searchQuery) }}\n          />\n        )}\n\n        {/* Quick actions */}\n        {event.type === \"protocol\" && event.data.pdfUrl && !expanded && (\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              setPdfModalOpen(true);\n            }}\n            className=\"mt-4 inline-flex items-center gap-2 text-sm font-medium text-rose-500 hover:text-rose-600 transition-colors duration-200\"\n          >\n            <FileText size={14} />\n            Läs protokoll\n          </button>\n        )}\n\n        {/* Expanded content */}\n        {expanded && (\n          <div className=\"mt-4 sm:mt-5 pt-4 sm:pt-5 border-t border-border/50 animate-in fade-in slide-in-from-top-2 duration-300\">\n            {/* AI-generated article for high-value protocols */}\n            {event.type === \"protocol\" && event.data.aiDetails?.artikel && (\n              <div className=\"mb-6 p-4 bg-secondary/50 rounded-xl border border-border/50\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <Newspaper className=\"w-4 h-4 text-emerald-500\" />\n                  <span className=\"text-sm font-semibold\">Nyhetsartikel</span>\n                  <span className=\"text-[10px] px-2 py-0.5 rounded bg-emerald-500/20 text-emerald-600 dark:text-emerald-400\">\n                    AI-genererad\n                  </span>\n                </div>\n                <div\n                  className=\"prose prose-sm dark:prose-invert max-w-none text-foreground/90\"\n                  dangerouslySetInnerHTML={{\n                    __html: event.data.aiDetails.artikel\n                      .replace(/\\*\\*(.+?)\\*\\*/g, '<strong>$1</strong>')\n                      .replace(/\\n\\n/g, '</p><p>')\n                      .replace(/^/, '<p>')\n                      .replace(/$/, '</p>')\n                  }}\n                />\n              </div>\n            )}\n\n            {/* Faktaruta for protocols with financial data */}\n            {event.type === \"protocol\" && event.data.aiDetails?.faktaruta && (\n              (() => {\n                const fr = event.data.aiDetails.faktaruta;\n                const hasData = fr.händelse || fr.belopp || fr.pris_per_aktie || fr.nya_aktier || fr.utspädning || (fr.investerare && fr.investerare.length > 0);\n                if (!hasData) return null;\n\n                return (\n                  <div className=\"mb-6 p-4 bg-muted/50 rounded-xl border border-border/50\">\n                    <div className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3\">\n                      Faktaruta\n                    </div>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 text-sm\">\n                      {fr.stämmoTyp && (\n                        <div>\n                          <div className=\"text-muted-foreground text-xs\">Typ</div>\n                          <div className=\"font-medium\">{fr.stämmoTyp}</div>\n                        </div>\n                      )}\n                      {fr.händelse && (\n                        <div>\n                          <div className=\"text-muted-foreground text-xs\">Händelse</div>\n                          <div className=\"font-medium\">{fr.händelse}</div>\n                        </div>\n                      )}\n                      {fr.belopp && (\n                        <div>\n                          <div className=\"text-muted-foreground text-xs\">Belopp</div>\n                          <div className=\"font-medium\">{fr.belopp}</div>\n                        </div>\n                      )}\n                      {fr.pris_per_aktie && (\n                        <div>\n                          <div className=\"text-muted-foreground text-xs\">Pris/aktie</div>\n                          <div className=\"font-medium\">{fr.pris_per_aktie}</div>\n                        </div>\n                      )}\n                      {fr.nya_aktier && (\n                        <div>\n                          <div className=\"text-muted-foreground text-xs\">Nya aktier</div>\n                          <div className=\"font-medium\">{fr.nya_aktier}</div>\n                        </div>\n                      )}\n                      {fr.utspädning && (\n                        <div>\n                          <div className=\"text-muted-foreground text-xs\">Utspädning</div>\n                          <div className=\"font-medium\">{fr.utspädning}</div>\n                        </div>\n                      )}\n                      {fr.investerare && fr.investerare.length > 0 && (\n                        <div className=\"col-span-2 sm:col-span-3\">\n                          <div className=\"text-muted-foreground text-xs\">Investerare</div>\n                          <div className=\"font-medium\">{fr.investerare.join(\", \")}</div>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })()\n            )}\n\n            {/* Shareholder visualization */}\n            {event.type === \"protocol\" && event.data.aiDetails?.shareholders && event.data.aiDetails.shareholders.length > 0 && (\n              <div className=\"mb-6\">\n                <ShareholderChart shareholders={event.data.aiDetails.shareholders} />\n              </div>\n            )}\n\n            {/* Related events from same company */}\n            {relatedEvents && relatedEvents.length > 0 && orgNumber && (\n              <div className=\"mb-6\">\n                <RelatedEvents\n                  events={relatedEvents}\n                  currentEventId={event.data.id}\n                  orgNumber={orgNumber}\n                />\n              </div>\n            )}\n\n            {/* Action buttons */}\n            <div className=\"flex flex-wrap gap-2\">\n              {event.type === \"protocol\" && event.data.pdfUrl ? (\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    setPdfModalOpen(true);\n                  }}\n                  className=\"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-xs sm:text-sm font-medium\n                             bg-foreground text-background flex-1 sm:flex-none justify-center\n                             hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200\"\n                >\n                  Visa protokoll\n                  <FileText className=\"w-4 h-4\" />\n                </button>\n              ) : externalLink && (\n                <a\n                  href={externalLink}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  onClick={(e) => e.stopPropagation()}\n                  className=\"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-xs sm:text-sm font-medium\n                             bg-foreground text-background flex-1 sm:flex-none justify-center\n                             hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200\"\n                >\n                  {event.type === \"announcement\" ? \"Visa kungörelse\" : \"Visa i Bolagsverket\"}\n                  <ExternalLink className=\"w-4 h-4\" />\n                </a>\n              )}\n              <Link\n                href={`/bolag/${orgNumber?.replace(/\\D/g, \"\")}`}\n                onClick={(e) => e.stopPropagation()}\n                className=\"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg text-xs sm:text-sm font-medium\n                           bg-secondary border border-border text-muted-foreground\n                           hover:text-foreground hover:border-muted-foreground\n                           hover:-translate-y-0.5 hover:shadow-lg transition-all duration-200\"\n              >\n                <Building2 className=\"w-4 h-4\" />\n                <span className=\"hidden xs:inline\">Visa bolag</span>\n              </Link>\n            </div>\n          </div>\n        )}\n      </div>\n    </article>\n\n    {/* PDF Viewer Modal - rendered outside article to avoid z-index issues */}\n    {event.type === \"protocol\" && event.data.pdfUrl && (\n      <PdfViewerModal\n        isOpen={pdfModalOpen}\n        onClose={() => setPdfModalOpen(false)}\n        pdfUrl={event.data.pdfUrl}\n        title={`${event.data.companyName || \"Protokoll\"} - ${event.data.protocolDate}`}\n      />\n    )}\n    </>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nconst STORAGE_KEY = \"loopdesk_read_events\";\nconst MAX_STORED_IDS = 1000; // Limit to prevent localStorage overflow\n\ninterface UseReadStatusReturn {\n  readIds: Set<string>;\n  isRead: (id: string) => boolean;\n  markAsRead: (id: string) => void;\n  markAllAsRead: (ids: string[]) => void;\n  unreadCount: (ids: string[]) => number;\n}\n\n/**\n * Hook for managing read/unread status of events.\n * Persists to localStorage.\n */\nexport function useReadStatus(): UseReadStatusReturn {\n  const [readIds, setReadIds] = useState<Set<string>>(new Set());\n\n  // Load from localStorage on mount\n  useEffect(() => {\n    try {\n      const stored = localStorage.getItem(STORAGE_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        if (Array.isArray(parsed)) {\n          setReadIds(new Set(parsed));\n        }\n      }\n    } catch (error) {\n      console.warn(\"Failed to load read status:\", error);\n    }\n  }, []);\n\n  // Save to localStorage when readIds changes\n  const saveToStorage = useCallback((ids: Set<string>) => {\n    try {\n      // Keep only the most recent IDs to prevent overflow\n      const idsArray = Array.from(ids);\n      const trimmedIds = idsArray.slice(-MAX_STORED_IDS);\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(trimmedIds));\n    } catch (error) {\n      console.warn(\"Failed to save read status:\", error);\n    }\n  }, []);\n\n  const isRead = useCallback(\n    (id: string) => readIds.has(id),\n    [readIds]\n  );\n\n  const markAsRead = useCallback((id: string) => {\n    setReadIds((prev) => {\n      if (prev.has(id)) return prev;\n      const next = new Set(prev);\n      next.add(id);\n      saveToStorage(next);\n      return next;\n    });\n  }, [saveToStorage]);\n\n  const markAllAsRead = useCallback((ids: string[]) => {\n    setReadIds((prev) => {\n      const next = new Set(prev);\n      let changed = false;\n      for (const id of ids) {\n        if (!next.has(id)) {\n          next.add(id);\n          changed = true;\n        }\n      }\n      if (changed) {\n        saveToStorage(next);\n        return next;\n      }\n      return prev;\n    });\n  }, [saveToStorage]);\n\n  const unreadCount = useCallback(\n    (ids: string[]) => ids.filter((id) => !readIds.has(id)).length,\n    [readIds]\n  );\n\n  return {\n    readIds,\n    isRead,\n    markAsRead,\n    markAllAsRead,\n    unreadCount,\n  };\n}\n","\"use client\";\n\nimport { useState, useEffect, useCallback, useRef } from \"react\";\n\nconst NOTIFICATION_SETTINGS_KEY = \"loopdesk_notification_settings\";\n\ntype NotificationPermission = \"default\" | \"granted\" | \"denied\";\n\ninterface NotificationSettings {\n  enabled: boolean;\n  soundEnabled: boolean;\n  criticalOnly: boolean; // Only konkurs/likvidation\n}\n\nconst DEFAULT_SETTINGS: NotificationSettings = {\n  enabled: true,\n  soundEnabled: false,\n  criticalOnly: true,\n};\n\n// Critical event categories that trigger notifications\nconst CRITICAL_CATEGORIES = [\"konkurs\", \"likvidation\"];\n\n// All notification-worthy categories\nconst NOTIFICATION_CATEGORIES = [\"konkurs\", \"likvidation\", \"fusion\", \"emission\"];\n\ninterface UseNotificationsReturn {\n  permission: NotificationPermission;\n  settings: NotificationSettings;\n  isSupported: boolean;\n  serviceWorkerReady: boolean;\n  requestPermission: () => Promise<boolean>;\n  updateSettings: (updates: Partial<NotificationSettings>) => void;\n  notify: (options: NotifyOptions) => void;\n  shouldNotify: (category: string | null) => boolean;\n  testNotification: () => void;\n}\n\ninterface NotifyOptions {\n  title: string;\n  body: string;\n  category?: string | null;\n  url?: string;\n  icon?: string;\n}\n\n/**\n * Hook for managing browser and Mac push notifications.\n *\n * Uses the Service Worker for persistent notifications that work:\n * - When the browser is in the background\n * - On macOS via native notification center\n * - With action buttons (view/dismiss)\n */\nexport function useNotifications(): UseNotificationsReturn {\n  const [permission, setPermission] = useState<NotificationPermission>(\"default\");\n  const [settings, setSettings] = useState<NotificationSettings>(DEFAULT_SETTINGS);\n  const [isSupported, setIsSupported] = useState(false);\n  const [serviceWorkerReady, setServiceWorkerReady] = useState(false);\n  const swRegistrationRef = useRef<ServiceWorkerRegistration | null>(null);\n\n  // Check support, load settings, and register service worker on mount\n  useEffect(() => {\n    const supported = typeof window !== \"undefined\" && \"Notification\" in window;\n    setIsSupported(supported);\n\n    if (supported) {\n      setPermission(Notification.permission as NotificationPermission);\n    }\n\n    // Load settings from localStorage\n    try {\n      const stored = localStorage.getItem(NOTIFICATION_SETTINGS_KEY);\n      if (stored) {\n        const parsed = JSON.parse(stored);\n        setSettings({ ...DEFAULT_SETTINGS, ...parsed });\n      }\n    } catch (error) {\n      console.warn(\"Failed to load notification settings:\", error);\n    }\n\n    // Register service worker for persistent notifications\n    if (typeof window !== \"undefined\" && \"serviceWorker\" in navigator) {\n      navigator.serviceWorker\n        .register(\"/sw.js\")\n        .then((registration) => {\n          console.log(\"[Notifications] Service worker registered:\", registration.scope);\n          swRegistrationRef.current = registration;\n          setServiceWorkerReady(true);\n\n          // Handle updates\n          registration.addEventListener(\"updatefound\", () => {\n            const newWorker = registration.installing;\n            if (newWorker) {\n              newWorker.addEventListener(\"statechange\", () => {\n                if (newWorker.state === \"installed\" && navigator.serviceWorker.controller) {\n                  // New version available\n                  console.log(\"[Notifications] New service worker available\");\n                }\n              });\n            }\n          });\n        })\n        .catch((error) => {\n          console.warn(\"[Notifications] Service worker registration failed:\", error);\n        });\n    }\n  }, []);\n\n  // Save settings to localStorage\n  const saveSettings = useCallback((newSettings: NotificationSettings) => {\n    try {\n      localStorage.setItem(NOTIFICATION_SETTINGS_KEY, JSON.stringify(newSettings));\n    } catch (error) {\n      console.warn(\"Failed to save notification settings:\", error);\n    }\n  }, []);\n\n  const requestPermission = useCallback(async (): Promise<boolean> => {\n    if (!isSupported) return false;\n\n    try {\n      const result = await Notification.requestPermission();\n      setPermission(result as NotificationPermission);\n\n      // If granted, test the notification to ensure it works\n      if (result === \"granted\") {\n        console.log(\"[Notifications] Permission granted\");\n      }\n\n      return result === \"granted\";\n    } catch (error) {\n      console.error(\"Failed to request notification permission:\", error);\n      return false;\n    }\n  }, [isSupported]);\n\n  const updateSettings = useCallback((updates: Partial<NotificationSettings>) => {\n    setSettings((prev) => {\n      const newSettings = { ...prev, ...updates };\n      saveSettings(newSettings);\n      return newSettings;\n    });\n  }, [saveSettings]);\n\n  const shouldNotify = useCallback(\n    (category: string | null): boolean => {\n      if (!settings.enabled) return false;\n      if (!category) return false;\n\n      const normalizedCategory = category.toLowerCase();\n\n      if (settings.criticalOnly) {\n        return CRITICAL_CATEGORIES.includes(normalizedCategory);\n      }\n\n      return NOTIFICATION_CATEGORIES.includes(normalizedCategory);\n    },\n    [settings]\n  );\n\n  const notify = useCallback(\n    ({ title, body, category, url, icon }: NotifyOptions) => {\n      if (!isSupported || permission !== \"granted\" || !settings.enabled) {\n        return;\n      }\n\n      // Check if we should notify for this category\n      if (category && !shouldNotify(category)) {\n        return;\n      }\n\n      const isCritical = category && CRITICAL_CATEGORIES.includes(category.toLowerCase());\n\n      // Use service worker for persistent notifications (works in background + Mac)\n      if (serviceWorkerReady && swRegistrationRef.current?.active) {\n        swRegistrationRef.current.active.postMessage({\n          type: \"SHOW_NOTIFICATION\",\n          title,\n          body,\n          url,\n          critical: isCritical,\n        });\n\n        // Play sound if enabled (sound doesn't work from SW)\n        if (settings.soundEnabled) {\n          playNotificationSound();\n        }\n\n        return;\n      }\n\n      // Fallback to regular Notification API\n      try {\n        const notification = new Notification(title, {\n          body,\n          icon: icon || \"/icon-192.png\",\n          badge: \"/icon-192.png\",\n          tag: `loopdesk-${Date.now()}`,\n          requireInteraction: isCritical || false,\n        });\n\n        // Play sound if enabled\n        if (settings.soundEnabled) {\n          playNotificationSound();\n        }\n\n        // Handle click - open URL if provided\n        if (url) {\n          notification.onclick = () => {\n            window.focus();\n            window.location.href = url;\n            notification.close();\n          };\n        }\n\n        // Auto-close non-critical notifications after 10 seconds\n        if (!isCritical) {\n          setTimeout(() => notification.close(), 10000);\n        }\n      } catch (error) {\n        console.error(\"Failed to show notification:\", error);\n      }\n    },\n    [isSupported, permission, settings, shouldNotify, serviceWorkerReady]\n  );\n\n  // Test notification\n  const testNotification = useCallback(() => {\n    if (serviceWorkerReady && swRegistrationRef.current?.active) {\n      swRegistrationRef.current.active.postMessage({\n        type: \"TEST_NOTIFICATION\",\n      });\n    } else if (permission === \"granted\") {\n      new Notification(\"LoopDesk Test\", {\n        body: \"Push-notiser fungerar!\",\n        icon: \"/icon-192.png\",\n      });\n    }\n  }, [serviceWorkerReady, permission]);\n\n  return {\n    permission,\n    settings,\n    isSupported,\n    serviceWorkerReady,\n    requestPermission,\n    updateSettings,\n    notify,\n    shouldNotify,\n    testNotification,\n  };\n}\n\n/**\n * Play notification sound\n */\nfunction playNotificationSound() {\n  try {\n    const audio = new Audio(\"/sounds/notification.mp3\");\n    audio.volume = 0.3;\n    audio.play().catch(() => {\n      // Ignore audio play errors (common due to autoplay policies)\n    });\n  } catch {\n    // Ignore audio errors\n  }\n}\n\n/**\n * Detect event category from text\n */\nexport function detectEventCategory(text: string): string | null {\n  const lowerText = text.toLowerCase();\n\n  const categories: Record<string, string[]> = {\n    konkurs: [\"konkurs\", \"konkursbeslut\", \"konkursförfarande\"],\n    likvidation: [\"likvidation\", \"likvidator\", \"upplösning\"],\n    fusion: [\"fusion\", \"sammanslagning\", \"delning\"],\n    emission: [\"nyemission\", \"fondemission\", \"riktad emission\", \"aktiekapital\"],\n    styrelse: [\"styrelse\", \"ledamot\", \"ordförande\", \"vd\", \"verkställande direktör\"],\n  };\n\n  for (const [category, keywords] of Object.entries(categories)) {\n    if (keywords.some((kw) => lowerText.includes(kw))) {\n      return category;\n    }\n  }\n\n  return null;\n}\n","export type NoInfer<A extends any> = [A][A extends any ? 0 : never]\n\nexport type PartialKeys<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>\n\nexport function memo<TDeps extends ReadonlyArray<any>, TResult>(\n  getDeps: () => [...TDeps],\n  fn: (...args: NoInfer<[...TDeps]>) => TResult,\n  opts: {\n    key: false | string\n    debug?: () => boolean\n    onChange?: (result: TResult) => void\n    initialDeps?: TDeps\n    skipInitialOnChange?: boolean\n  },\n) {\n  let deps = opts.initialDeps ?? []\n  let result: TResult | undefined\n  let isInitial = true\n\n  function memoizedFunction(): TResult {\n    let depTime: number\n    if (opts.key && opts.debug?.()) depTime = Date.now()\n\n    const newDeps = getDeps()\n\n    const depsChanged =\n      newDeps.length !== deps.length ||\n      newDeps.some((dep: any, index: number) => deps[index] !== dep)\n\n    if (!depsChanged) {\n      return result!\n    }\n\n    deps = newDeps\n\n    let resultTime: number\n    if (opts.key && opts.debug?.()) resultTime = Date.now()\n\n    result = fn(...newDeps)\n\n    if (opts.key && opts.debug?.()) {\n      const depEndTime = Math.round((Date.now() - depTime!) * 100) / 100\n      const resultEndTime = Math.round((Date.now() - resultTime!) * 100) / 100\n      const resultFpsPercentage = resultEndTime / 16\n\n      const pad = (str: number | string, num: number) => {\n        str = String(str)\n        while (str.length < num) {\n          str = ' ' + str\n        }\n        return str\n      }\n\n      console.info(\n        `%c⏱ ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n              0,\n              Math.min(120 - 120 * resultFpsPercentage, 120),\n            )}deg 100% 31%);`,\n        opts?.key,\n      )\n    }\n\n    if (opts?.onChange && !(isInitial && opts.skipInitialOnChange)) {\n      opts.onChange(result)\n    }\n\n    isInitial = false\n\n    return result\n  }\n\n  // Attach updateDeps to the function itself\n  memoizedFunction.updateDeps = (newDeps: [...TDeps]) => {\n    deps = newDeps\n  }\n\n  return memoizedFunction\n}\n\nexport function notUndefined<T>(value: T | undefined, msg?: string): T {\n  if (value === undefined) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : ''}`)\n  } else {\n    return value\n  }\n}\n\nexport const approxEqual = (a: number, b: number) => Math.abs(a - b) < 1.01\n\nexport const debounce = (\n  targetWindow: Window & typeof globalThis,\n  fn: Function,\n  ms: number,\n) => {\n  let timeoutId: number\n  return function (this: any, ...args: Array<any>) {\n    targetWindow.clearTimeout(timeoutId)\n    timeoutId = targetWindow.setTimeout(() => fn.apply(this, args), ms)\n  }\n}\n","import { approxEqual, debounce, memo, notUndefined } from './utils'\n\nexport * from './utils'\n\n//\n\ntype ScrollDirection = 'forward' | 'backward'\n\ntype ScrollAlignment = 'start' | 'center' | 'end' | 'auto'\n\ntype ScrollBehavior = 'auto' | 'smooth'\n\nexport interface ScrollToOptions {\n  align?: ScrollAlignment\n  behavior?: ScrollBehavior\n}\n\ntype ScrollToOffsetOptions = ScrollToOptions\n\ntype ScrollToIndexOptions = ScrollToOptions\n\nexport interface Range {\n  startIndex: number\n  endIndex: number\n  overscan: number\n  count: number\n}\n\ntype Key = number | string | bigint\n\nexport interface VirtualItem {\n  key: Key\n  index: number\n  start: number\n  end: number\n  size: number\n  lane: number\n}\n\nexport interface Rect {\n  width: number\n  height: number\n}\n\n//\n\nconst getRect = (element: HTMLElement): Rect => {\n  const { offsetWidth, offsetHeight } = element\n  return { width: offsetWidth, height: offsetHeight }\n}\n\nexport const defaultKeyExtractor = (index: number) => index\n\nexport const defaultRangeExtractor = (range: Range) => {\n  const start = Math.max(range.startIndex - range.overscan, 0)\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1)\n\n  const arr = []\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i)\n  }\n\n  return arr\n}\n\nexport const observeElementRect = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  const handler = (rect: Rect) => {\n    const { width, height } = rect\n    cb({ width: Math.round(width), height: Math.round(height) })\n  }\n\n  handler(getRect(element as unknown as HTMLElement))\n\n  if (!targetWindow.ResizeObserver) {\n    return () => {}\n  }\n\n  const observer = new targetWindow.ResizeObserver((entries) => {\n    const run = () => {\n      const entry = entries[0]\n      if (entry?.borderBoxSize) {\n        const box = entry.borderBoxSize[0]\n        if (box) {\n          handler({ width: box.inlineSize, height: box.blockSize })\n          return\n        }\n      }\n      handler(getRect(element as unknown as HTMLElement))\n    }\n\n    instance.options.useAnimationFrameWithResizeObserver\n      ? requestAnimationFrame(run)\n      : run()\n  })\n\n  observer.observe(element, { box: 'border-box' })\n\n  return () => {\n    observer.unobserve(element)\n  }\n}\n\nconst addEventListenerOptions = {\n  passive: true,\n}\n\nexport const observeWindowRect = (\n  instance: Virtualizer<Window, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n\n  const handler = () => {\n    cb({ width: element.innerWidth, height: element.innerHeight })\n  }\n  handler()\n\n  element.addEventListener('resize', handler, addEventListenerOptions)\n\n  return () => {\n    element.removeEventListener('resize', handler)\n  }\n}\n\nconst supportsScrollend =\n  typeof window == 'undefined' ? true : 'onscrollend' in window\n\ntype ObserveOffsetCallBack = (offset: number, isScrolling: boolean) => void\n\nexport const observeElementOffset = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: ObserveOffsetCallBack,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  let offset = 0\n  const fallback =\n    instance.options.useScrollendEvent && supportsScrollend\n      ? () => undefined\n      : debounce(\n          targetWindow,\n          () => {\n            cb(offset, false)\n          },\n          instance.options.isScrollingResetDelay,\n        )\n\n  const createHandler = (isScrolling: boolean) => () => {\n    const { horizontal, isRtl } = instance.options\n    offset = horizontal\n      ? element['scrollLeft'] * ((isRtl && -1) || 1)\n      : element['scrollTop']\n    fallback()\n    cb(offset, isScrolling)\n  }\n  const handler = createHandler(true)\n  const endHandler = createHandler(false)\n\n  element.addEventListener('scroll', handler, addEventListenerOptions)\n  const registerScrollendEvent =\n    instance.options.useScrollendEvent && supportsScrollend\n  if (registerScrollendEvent) {\n    element.addEventListener('scrollend', endHandler, addEventListenerOptions)\n  }\n  return () => {\n    element.removeEventListener('scroll', handler)\n    if (registerScrollendEvent) {\n      element.removeEventListener('scrollend', endHandler)\n    }\n  }\n}\n\nexport const observeWindowOffset = (\n  instance: Virtualizer<Window, any>,\n  cb: ObserveOffsetCallBack,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  let offset = 0\n  const fallback =\n    instance.options.useScrollendEvent && supportsScrollend\n      ? () => undefined\n      : debounce(\n          targetWindow,\n          () => {\n            cb(offset, false)\n          },\n          instance.options.isScrollingResetDelay,\n        )\n\n  const createHandler = (isScrolling: boolean) => () => {\n    offset = element[instance.options.horizontal ? 'scrollX' : 'scrollY']\n    fallback()\n    cb(offset, isScrolling)\n  }\n  const handler = createHandler(true)\n  const endHandler = createHandler(false)\n\n  element.addEventListener('scroll', handler, addEventListenerOptions)\n  const registerScrollendEvent =\n    instance.options.useScrollendEvent && supportsScrollend\n  if (registerScrollendEvent) {\n    element.addEventListener('scrollend', endHandler, addEventListenerOptions)\n  }\n  return () => {\n    element.removeEventListener('scroll', handler)\n    if (registerScrollendEvent) {\n      element.removeEventListener('scrollend', endHandler)\n    }\n  }\n}\n\nexport const measureElement = <TItemElement extends Element>(\n  element: TItemElement,\n  entry: ResizeObserverEntry | undefined,\n  instance: Virtualizer<any, TItemElement>,\n) => {\n  if (entry?.borderBoxSize) {\n    const box = entry.borderBoxSize[0]\n    if (box) {\n      const size = Math.round(\n        box[instance.options.horizontal ? 'inlineSize' : 'blockSize'],\n      )\n      return size\n    }\n  }\n\n  return (element as unknown as HTMLElement)[\n    instance.options.horizontal ? 'offsetWidth' : 'offsetHeight'\n  ]\n}\n\nexport const windowScroll = <T extends Window>(\n  offset: number,\n  {\n    adjustments = 0,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport const elementScroll = <T extends Element>(\n  offset: number,\n  {\n    adjustments = 0,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport interface VirtualizerOptions<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  // Required from the user\n  count: number\n  getScrollElement: () => TScrollElement | null\n  estimateSize: (index: number) => number\n\n  // Required from the framework adapter (but can be overridden)\n  scrollToFn: (\n    offset: number,\n    options: { adjustments?: number; behavior?: ScrollBehavior },\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => void\n  observeElementRect: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: (rect: Rect) => void,\n  ) => void | (() => void)\n  observeElementOffset: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: ObserveOffsetCallBack,\n  ) => void | (() => void)\n  // Optional\n  debug?: boolean\n  initialRect?: Rect\n  onChange?: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    sync: boolean,\n  ) => void\n  measureElement?: (\n    element: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => number\n  overscan?: number\n  horizontal?: boolean\n  paddingStart?: number\n  paddingEnd?: number\n  scrollPaddingStart?: number\n  scrollPaddingEnd?: number\n  initialOffset?: number | (() => number)\n  getItemKey?: (index: number) => Key\n  rangeExtractor?: (range: Range) => Array<number>\n  scrollMargin?: number\n  gap?: number\n  indexAttribute?: string\n  initialMeasurementsCache?: Array<VirtualItem>\n  lanes?: number\n  isScrollingResetDelay?: number\n  useScrollendEvent?: boolean\n  enabled?: boolean\n  isRtl?: boolean\n  useAnimationFrameWithResizeObserver?: boolean\n}\n\nexport class Virtualizer<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  private unsubs: Array<void | (() => void)> = []\n  options!: Required<VirtualizerOptions<TScrollElement, TItemElement>>\n  scrollElement: TScrollElement | null = null\n  targetWindow: (Window & typeof globalThis) | null = null\n  isScrolling = false\n  private currentScrollToIndex: number | null = null\n  measurementsCache: Array<VirtualItem> = []\n  private itemSizeCache = new Map<Key, number>()\n  private laneAssignments = new Map<number, number>() // index → lane cache\n  private pendingMeasuredCacheIndexes: Array<number> = []\n  private prevLanes: number | undefined = undefined\n  private lanesChangedFlag = false\n  private lanesSettling = false\n  scrollRect: Rect | null = null\n  scrollOffset: number | null = null\n  scrollDirection: ScrollDirection | null = null\n  private scrollAdjustments = 0\n  shouldAdjustScrollPositionOnItemSizeChange:\n    | undefined\n    | ((\n        item: VirtualItem,\n        delta: number,\n        instance: Virtualizer<TScrollElement, TItemElement>,\n      ) => boolean)\n  elementsCache = new Map<Key, TItemElement>()\n  private observer = (() => {\n    let _ro: ResizeObserver | null = null\n\n    const get = () => {\n      if (_ro) {\n        return _ro\n      }\n\n      if (!this.targetWindow || !this.targetWindow.ResizeObserver) {\n        return null\n      }\n\n      return (_ro = new this.targetWindow.ResizeObserver((entries) => {\n        entries.forEach((entry) => {\n          const run = () => {\n            this._measureElement(entry.target as TItemElement, entry)\n          }\n          this.options.useAnimationFrameWithResizeObserver\n            ? requestAnimationFrame(run)\n            : run()\n        })\n      }))\n    }\n\n    return {\n      disconnect: () => {\n        get()?.disconnect()\n        _ro = null\n      },\n      observe: (target: Element) =>\n        get()?.observe(target, { box: 'border-box' }),\n      unobserve: (target: Element) => get()?.unobserve(target),\n    }\n  })()\n  range: { startIndex: number; endIndex: number } | null = null\n\n  constructor(opts: VirtualizerOptions<TScrollElement, TItemElement>) {\n    this.setOptions(opts)\n  }\n\n  setOptions = (opts: VirtualizerOptions<TScrollElement, TItemElement>) => {\n    Object.entries(opts).forEach(([key, value]) => {\n      if (typeof value === 'undefined') delete (opts as any)[key]\n    })\n\n    this.options = {\n      debug: false,\n      initialOffset: 0,\n      overscan: 1,\n      paddingStart: 0,\n      paddingEnd: 0,\n      scrollPaddingStart: 0,\n      scrollPaddingEnd: 0,\n      horizontal: false,\n      getItemKey: defaultKeyExtractor,\n      rangeExtractor: defaultRangeExtractor,\n      onChange: () => {},\n      measureElement,\n      initialRect: { width: 0, height: 0 },\n      scrollMargin: 0,\n      gap: 0,\n      indexAttribute: 'data-index',\n      initialMeasurementsCache: [],\n      lanes: 1,\n      isScrollingResetDelay: 150,\n      enabled: true,\n      isRtl: false,\n      useScrollendEvent: false,\n      useAnimationFrameWithResizeObserver: false,\n      ...opts,\n    }\n  }\n\n  private notify = (sync: boolean) => {\n    this.options.onChange?.(this, sync)\n  }\n\n  private maybeNotify = memo(\n    () => {\n      this.calculateRange()\n\n      return [\n        this.isScrolling,\n        this.range ? this.range.startIndex : null,\n        this.range ? this.range.endIndex : null,\n      ]\n    },\n    (isScrolling) => {\n      this.notify(isScrolling)\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'maybeNotify',\n      debug: () => this.options.debug,\n      initialDeps: [\n        this.isScrolling,\n        this.range ? this.range.startIndex : null,\n        this.range ? this.range.endIndex : null,\n      ] as [boolean, number | null, number | null],\n    },\n  )\n\n  private cleanup = () => {\n    this.unsubs.filter(Boolean).forEach((d) => d!())\n    this.unsubs = []\n    this.observer.disconnect()\n    this.scrollElement = null\n    this.targetWindow = null\n  }\n\n  _didMount = () => {\n    return () => {\n      this.cleanup()\n    }\n  }\n\n  _willUpdate = () => {\n    const scrollElement = this.options.enabled\n      ? this.options.getScrollElement()\n      : null\n\n    if (this.scrollElement !== scrollElement) {\n      this.cleanup()\n\n      if (!scrollElement) {\n        this.maybeNotify()\n        return\n      }\n\n      this.scrollElement = scrollElement\n\n      if (this.scrollElement && 'ownerDocument' in this.scrollElement) {\n        this.targetWindow = this.scrollElement.ownerDocument.defaultView\n      } else {\n        this.targetWindow = this.scrollElement?.window ?? null\n      }\n\n      this.elementsCache.forEach((cached) => {\n        this.observer.observe(cached)\n      })\n\n      this.unsubs.push(\n        this.options.observeElementRect(this, (rect) => {\n          this.scrollRect = rect\n          this.maybeNotify()\n        }),\n      )\n\n      this.unsubs.push(\n        this.options.observeElementOffset(this, (offset, isScrolling) => {\n          this.scrollAdjustments = 0\n          this.scrollDirection = isScrolling\n            ? this.getScrollOffset() < offset\n              ? 'forward'\n              : 'backward'\n            : null\n          this.scrollOffset = offset\n          this.isScrolling = isScrolling\n\n          this.maybeNotify()\n        }),\n      )\n\n      this._scrollToOffset(this.getScrollOffset(), {\n        adjustments: undefined,\n        behavior: undefined,\n      })\n    }\n  }\n\n  private getSize = () => {\n    if (!this.options.enabled) {\n      this.scrollRect = null\n      return 0\n    }\n\n    this.scrollRect = this.scrollRect ?? this.options.initialRect\n\n    return this.scrollRect[this.options.horizontal ? 'width' : 'height']\n  }\n\n  private getScrollOffset = () => {\n    if (!this.options.enabled) {\n      this.scrollOffset = null\n      return 0\n    }\n\n    this.scrollOffset =\n      this.scrollOffset ??\n      (typeof this.options.initialOffset === 'function'\n        ? this.options.initialOffset()\n        : this.options.initialOffset)\n\n    return this.scrollOffset\n  }\n\n  private getFurthestMeasurement = (\n    measurements: Array<VirtualItem>,\n    index: number,\n  ) => {\n    const furthestMeasurementsFound = new Map<number, true>()\n    const furthestMeasurements = new Map<number, VirtualItem>()\n    for (let m = index - 1; m >= 0; m--) {\n      const measurement = measurements[m]!\n\n      if (furthestMeasurementsFound.has(measurement.lane)) {\n        continue\n      }\n\n      const previousFurthestMeasurement = furthestMeasurements.get(\n        measurement.lane,\n      )\n      if (\n        previousFurthestMeasurement == null ||\n        measurement.end > previousFurthestMeasurement.end\n      ) {\n        furthestMeasurements.set(measurement.lane, measurement)\n      } else if (measurement.end < previousFurthestMeasurement.end) {\n        furthestMeasurementsFound.set(measurement.lane, true)\n      }\n\n      if (furthestMeasurementsFound.size === this.options.lanes) {\n        break\n      }\n    }\n\n    return furthestMeasurements.size === this.options.lanes\n      ? Array.from(furthestMeasurements.values()).sort((a, b) => {\n          if (a.end === b.end) {\n            return a.index - b.index\n          }\n\n          return a.end - b.end\n        })[0]\n      : undefined\n  }\n\n  private getMeasurementOptions = memo(\n    () => [\n      this.options.count,\n      this.options.paddingStart,\n      this.options.scrollMargin,\n      this.options.getItemKey,\n      this.options.enabled,\n      this.options.lanes,\n    ],\n    (count, paddingStart, scrollMargin, getItemKey, enabled, lanes) => {\n      const lanesChanged =\n        this.prevLanes !== undefined && this.prevLanes !== lanes\n\n      if (lanesChanged) {\n        // Set flag for getMeasurements to handle\n        this.lanesChangedFlag = true\n      }\n\n      this.prevLanes = lanes\n      this.pendingMeasuredCacheIndexes = []\n\n      return {\n        count,\n        paddingStart,\n        scrollMargin,\n        getItemKey,\n        enabled,\n        lanes,\n      }\n    },\n    {\n      key: false,\n    },\n  )\n\n  private getMeasurements = memo(\n    () => [this.getMeasurementOptions(), this.itemSizeCache],\n    (\n      { count, paddingStart, scrollMargin, getItemKey, enabled, lanes },\n      itemSizeCache,\n    ) => {\n      if (!enabled) {\n        this.measurementsCache = []\n        this.itemSizeCache.clear()\n        this.laneAssignments.clear()\n        return []\n      }\n\n      // Clean up stale lane cache entries when count decreases\n      if (this.laneAssignments.size > count) {\n        for (const index of this.laneAssignments.keys()) {\n          if (index >= count) {\n            this.laneAssignments.delete(index)\n          }\n        }\n      }\n\n      // ✅ Force complete recalculation when lanes change\n      if (this.lanesChangedFlag) {\n        this.lanesChangedFlag = false // Reset immediately\n        this.lanesSettling = true // Start settling period\n        this.measurementsCache = []\n        this.itemSizeCache.clear()\n        this.laneAssignments.clear() // Clear lane cache for new lane count\n        // Clear pending indexes to force min = 0\n        this.pendingMeasuredCacheIndexes = []\n      }\n\n      // Don't restore from initialMeasurementsCache during lane changes\n      // as it contains stale lane assignments from the previous lane count\n      if (this.measurementsCache.length === 0 && !this.lanesSettling) {\n        this.measurementsCache = this.options.initialMeasurementsCache\n        this.measurementsCache.forEach((item) => {\n          this.itemSizeCache.set(item.key, item.size)\n        })\n      }\n\n      // ✅ During lanes settling, ignore pendingMeasuredCacheIndexes to prevent repositioning\n      const min = this.lanesSettling\n        ? 0\n        : this.pendingMeasuredCacheIndexes.length > 0\n          ? Math.min(...this.pendingMeasuredCacheIndexes)\n          : 0\n      this.pendingMeasuredCacheIndexes = []\n\n      // ✅ End settling period when cache is fully built\n      if (this.lanesSettling && this.measurementsCache.length === count) {\n        this.lanesSettling = false\n      }\n\n      const measurements = this.measurementsCache.slice(0, min)\n\n      // ✅ Performance: Track last item index per lane for O(1) lookup\n      const laneLastIndex: Array<number | undefined> = new Array(lanes).fill(\n        undefined,\n      )\n\n      // Initialize from existing measurements (before min)\n      for (let m = 0; m < min; m++) {\n        const item = measurements[m]\n        if (item) {\n          laneLastIndex[item.lane] = m\n        }\n      }\n\n      for (let i = min; i < count; i++) {\n        const key = getItemKey(i)\n\n        // Check for cached lane assignment\n        const cachedLane = this.laneAssignments.get(i)\n        let lane: number\n        let start: number\n\n        if (cachedLane !== undefined && this.options.lanes > 1) {\n          // Use cached lane - O(1) lookup for previous item in same lane\n          lane = cachedLane\n          const prevIndex = laneLastIndex[lane]\n          const prevInLane =\n            prevIndex !== undefined ? measurements[prevIndex] : undefined\n          start = prevInLane\n            ? prevInLane.end + this.options.gap\n            : paddingStart + scrollMargin\n        } else {\n          // No cache - use original logic (find shortest lane)\n          const furthestMeasurement =\n            this.options.lanes === 1\n              ? measurements[i - 1]\n              : this.getFurthestMeasurement(measurements, i)\n\n          start = furthestMeasurement\n            ? furthestMeasurement.end + this.options.gap\n            : paddingStart + scrollMargin\n\n          lane = furthestMeasurement\n            ? furthestMeasurement.lane\n            : i % this.options.lanes\n\n          // Cache the lane assignment\n          if (this.options.lanes > 1) {\n            this.laneAssignments.set(i, lane)\n          }\n        }\n\n        const measuredSize = itemSizeCache.get(key)\n        const size =\n          typeof measuredSize === 'number'\n            ? measuredSize\n            : this.options.estimateSize(i)\n\n        const end = start + size\n\n        measurements[i] = {\n          index: i,\n          start,\n          size,\n          end,\n          key,\n          lane,\n        }\n\n        // ✅ Performance: Update lane's last item index\n        laneLastIndex[lane] = i\n      }\n\n      this.measurementsCache = measurements\n\n      return measurements\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getMeasurements',\n      debug: () => this.options.debug,\n    },\n  )\n\n  calculateRange = memo(\n    () => [\n      this.getMeasurements(),\n      this.getSize(),\n      this.getScrollOffset(),\n      this.options.lanes,\n    ],\n    (measurements, outerSize, scrollOffset, lanes) => {\n      return (this.range =\n        measurements.length > 0 && outerSize > 0\n          ? calculateRange({\n              measurements,\n              outerSize,\n              scrollOffset,\n              lanes,\n            })\n          : null)\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'calculateRange',\n      debug: () => this.options.debug,\n    },\n  )\n\n  getVirtualIndexes = memo(\n    () => {\n      let startIndex: number | null = null\n      let endIndex: number | null = null\n      const range = this.calculateRange()\n      if (range) {\n        startIndex = range.startIndex\n        endIndex = range.endIndex\n      }\n      this.maybeNotify.updateDeps([this.isScrolling, startIndex, endIndex])\n      return [\n        this.options.rangeExtractor,\n        this.options.overscan,\n        this.options.count,\n        startIndex,\n        endIndex,\n      ]\n    },\n    (rangeExtractor, overscan, count, startIndex, endIndex) => {\n      return startIndex === null || endIndex === null\n        ? []\n        : rangeExtractor({\n            startIndex,\n            endIndex,\n            overscan,\n            count,\n          })\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getVirtualIndexes',\n      debug: () => this.options.debug,\n    },\n  )\n\n  indexFromElement = (node: TItemElement) => {\n    const attributeName = this.options.indexAttribute\n    const indexStr = node.getAttribute(attributeName)\n\n    if (!indexStr) {\n      console.warn(\n        `Missing attribute name '${attributeName}={index}' on measured element.`,\n      )\n      return -1\n    }\n\n    return parseInt(indexStr, 10)\n  }\n\n  private _measureElement = (\n    node: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n  ) => {\n    const index = this.indexFromElement(node)\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return\n    }\n    const key = item.key\n    const prevNode = this.elementsCache.get(key)\n\n    if (prevNode !== node) {\n      if (prevNode) {\n        this.observer.unobserve(prevNode)\n      }\n      this.observer.observe(node)\n      this.elementsCache.set(key, node)\n    }\n\n    if (node.isConnected) {\n      this.resizeItem(index, this.options.measureElement(node, entry, this))\n    }\n  }\n\n  resizeItem = (index: number, size: number) => {\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return\n    }\n    const itemSize = this.itemSizeCache.get(item.key) ?? item.size\n    const delta = size - itemSize\n\n    if (delta !== 0) {\n      if (\n        this.shouldAdjustScrollPositionOnItemSizeChange !== undefined\n          ? this.shouldAdjustScrollPositionOnItemSizeChange(item, delta, this)\n          : item.start < this.getScrollOffset() + this.scrollAdjustments\n      ) {\n        if (process.env.NODE_ENV !== 'production' && this.options.debug) {\n          console.info('correction', delta)\n        }\n\n        this._scrollToOffset(this.getScrollOffset(), {\n          adjustments: (this.scrollAdjustments += delta),\n          behavior: undefined,\n        })\n      }\n\n      this.pendingMeasuredCacheIndexes.push(item.index)\n      this.itemSizeCache = new Map(this.itemSizeCache.set(item.key, size))\n\n      this.notify(false)\n    }\n  }\n\n  measureElement = (node: TItemElement | null | undefined) => {\n    if (!node) {\n      this.elementsCache.forEach((cached, key) => {\n        if (!cached.isConnected) {\n          this.observer.unobserve(cached)\n          this.elementsCache.delete(key)\n        }\n      })\n      return\n    }\n\n    this._measureElement(node, undefined)\n  }\n\n  getVirtualItems = memo(\n    () => [this.getVirtualIndexes(), this.getMeasurements()],\n    (indexes, measurements) => {\n      const virtualItems: Array<VirtualItem> = []\n\n      for (let k = 0, len = indexes.length; k < len; k++) {\n        const i = indexes[k]!\n        const measurement = measurements[i]!\n\n        virtualItems.push(measurement)\n      }\n\n      return virtualItems\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getVirtualItems',\n      debug: () => this.options.debug,\n    },\n  )\n\n  getVirtualItemForOffset = (offset: number) => {\n    const measurements = this.getMeasurements()\n    if (measurements.length === 0) {\n      return undefined\n    }\n    return notUndefined(\n      measurements[\n        findNearestBinarySearch(\n          0,\n          measurements.length - 1,\n          (index: number) => notUndefined(measurements[index]).start,\n          offset,\n        )\n      ],\n    )\n  }\n\n  private getMaxScrollOffset = () => {\n    if (!this.scrollElement) return 0\n\n    if ('scrollHeight' in this.scrollElement) {\n      // Element\n      return this.options.horizontal\n        ? this.scrollElement.scrollWidth - this.scrollElement.clientWidth\n        : this.scrollElement.scrollHeight - this.scrollElement.clientHeight\n    } else {\n      // Window\n      const doc = this.scrollElement.document.documentElement\n      return this.options.horizontal\n        ? doc.scrollWidth - this.scrollElement.innerWidth\n        : doc.scrollHeight - this.scrollElement.innerHeight\n    }\n  }\n\n  getOffsetForAlignment = (\n    toOffset: number,\n    align: ScrollAlignment,\n    itemSize = 0,\n  ) => {\n    if (!this.scrollElement) return 0\n\n    const size = this.getSize()\n    const scrollOffset = this.getScrollOffset()\n\n    if (align === 'auto') {\n      align = toOffset >= scrollOffset + size ? 'end' : 'start'\n    }\n\n    if (align === 'center') {\n      // When aligning to a particular item (e.g. with scrollToIndex),\n      // adjust offset by the size of the item to center on the item\n      toOffset += (itemSize - size) / 2\n    } else if (align === 'end') {\n      toOffset -= size\n    }\n\n    const maxOffset = this.getMaxScrollOffset()\n\n    return Math.max(Math.min(maxOffset, toOffset), 0)\n  }\n\n  getOffsetForIndex = (index: number, align: ScrollAlignment = 'auto') => {\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return undefined\n    }\n\n    const size = this.getSize()\n    const scrollOffset = this.getScrollOffset()\n\n    if (align === 'auto') {\n      if (item.end >= scrollOffset + size - this.options.scrollPaddingEnd) {\n        align = 'end'\n      } else if (item.start <= scrollOffset + this.options.scrollPaddingStart) {\n        align = 'start'\n      } else {\n        return [scrollOffset, align] as const\n      }\n    }\n\n    // For the last item with 'end' alignment, use browser's actual max scroll\n    // to account for borders/padding that aren't in our measurements\n    if (align === 'end' && index === this.options.count - 1) {\n      return [this.getMaxScrollOffset(), align] as const\n    }\n\n    const toOffset =\n      align === 'end'\n        ? item.end + this.options.scrollPaddingEnd\n        : item.start - this.options.scrollPaddingStart\n\n    return [\n      this.getOffsetForAlignment(toOffset, align, item.size),\n      align,\n    ] as const\n  }\n\n  private isDynamicMode = () => this.elementsCache.size > 0\n\n  scrollToOffset = (\n    toOffset: number,\n    { align = 'start', behavior }: ScrollToOffsetOptions = {},\n  ) => {\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.getOffsetForAlignment(toOffset, align), {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  scrollToIndex = (\n    index: number,\n    { align: initialAlign = 'auto', behavior }: ScrollToIndexOptions = {},\n  ) => {\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n    this.currentScrollToIndex = index\n\n    let attempts = 0\n    const maxAttempts = 10\n\n    const tryScroll = (currentAlign: ScrollAlignment) => {\n      if (!this.targetWindow) return\n\n      const offsetInfo = this.getOffsetForIndex(index, currentAlign)\n      if (!offsetInfo) {\n        console.warn('Failed to get offset for index:', index)\n        return\n      }\n      const [offset, align] = offsetInfo\n      this._scrollToOffset(offset, { adjustments: undefined, behavior })\n\n      this.targetWindow.requestAnimationFrame(() => {\n        const verify = () => {\n          // Abort if a new scrollToIndex was called with a different index\n          if (this.currentScrollToIndex !== index) return\n\n          const currentOffset = this.getScrollOffset()\n          const afterInfo = this.getOffsetForIndex(index, align)\n          if (!afterInfo) {\n            console.warn('Failed to get offset for index:', index)\n            return\n          }\n\n          if (!approxEqual(afterInfo[0], currentOffset)) {\n            scheduleRetry(align)\n          }\n        }\n\n        // In dynamic mode, wait an extra frame for ResizeObserver to measure newly visible elements\n        if (this.isDynamicMode()) {\n          this.targetWindow!.requestAnimationFrame(verify)\n        } else {\n          verify()\n        }\n      })\n    }\n\n    const scheduleRetry = (align: ScrollAlignment) => {\n      if (!this.targetWindow) return\n\n      // Abort if a new scrollToIndex was called with a different index\n      if (this.currentScrollToIndex !== index) return\n\n      attempts++\n      if (attempts < maxAttempts) {\n        if (process.env.NODE_ENV !== 'production' && this.options.debug) {\n          console.info('Schedule retry', attempts, maxAttempts)\n        }\n        this.targetWindow.requestAnimationFrame(() => tryScroll(align))\n      } else {\n        console.warn(\n          `Failed to scroll to index ${index} after ${maxAttempts} attempts.`,\n        )\n      }\n    }\n\n    tryScroll(initialAlign)\n  }\n\n  scrollBy = (delta: number, { behavior }: ScrollToOffsetOptions = {}) => {\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.getScrollOffset() + delta, {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  getTotalSize = () => {\n    const measurements = this.getMeasurements()\n\n    let end: number\n    // If there are no measurements, set the end to paddingStart\n    // If there is only one lane, use the last measurement's end\n    // Otherwise find the maximum end value among all measurements\n    if (measurements.length === 0) {\n      end = this.options.paddingStart\n    } else if (this.options.lanes === 1) {\n      end = measurements[measurements.length - 1]?.end ?? 0\n    } else {\n      const endByLane = Array<number | null>(this.options.lanes).fill(null)\n      let endIndex = measurements.length - 1\n      while (endIndex >= 0 && endByLane.some((val) => val === null)) {\n        const item = measurements[endIndex]!\n        if (endByLane[item.lane] === null) {\n          endByLane[item.lane] = item.end\n        }\n\n        endIndex--\n      }\n\n      end = Math.max(...endByLane.filter((val): val is number => val !== null))\n    }\n\n    return Math.max(\n      end - this.options.scrollMargin + this.options.paddingEnd,\n      0,\n    )\n  }\n\n  private _scrollToOffset = (\n    offset: number,\n    {\n      adjustments,\n      behavior,\n    }: {\n      adjustments: number | undefined\n      behavior: ScrollBehavior | undefined\n    },\n  ) => {\n    this.options.scrollToFn(offset, { behavior, adjustments }, this)\n  }\n\n  measure = () => {\n    this.itemSizeCache = new Map()\n    this.laneAssignments = new Map() // Clear lane cache for full re-layout\n    this.notify(false)\n  }\n}\n\nconst findNearestBinarySearch = (\n  low: number,\n  high: number,\n  getCurrentValue: (i: number) => number,\n  value: number,\n) => {\n  while (low <= high) {\n    const middle = ((low + high) / 2) | 0\n    const currentValue = getCurrentValue(middle)\n\n    if (currentValue < value) {\n      low = middle + 1\n    } else if (currentValue > value) {\n      high = middle - 1\n    } else {\n      return middle\n    }\n  }\n\n  if (low > 0) {\n    return low - 1\n  } else {\n    return 0\n  }\n}\n\nfunction calculateRange({\n  measurements,\n  outerSize,\n  scrollOffset,\n  lanes,\n}: {\n  measurements: Array<VirtualItem>\n  outerSize: number\n  scrollOffset: number\n  lanes: number\n}) {\n  const lastIndex = measurements.length - 1\n  const getOffset = (index: number) => measurements[index]!.start\n\n  // handle case when item count is less than or equal to lanes\n  if (measurements.length <= lanes) {\n    return {\n      startIndex: 0,\n      endIndex: lastIndex,\n    }\n  }\n\n  let startIndex = findNearestBinarySearch(\n    0,\n    lastIndex,\n    getOffset,\n    scrollOffset,\n  )\n  let endIndex = startIndex\n\n  if (lanes === 1) {\n    while (\n      endIndex < lastIndex &&\n      measurements[endIndex]!.end < scrollOffset + outerSize\n    ) {\n      endIndex++\n    }\n  } else if (lanes > 1) {\n    // Expand forward until we include the visible items from all lanes\n    // which are closer to the end of the virtualizer window\n    const endPerLane = Array(lanes).fill(0)\n    while (\n      endIndex < lastIndex &&\n      endPerLane.some((pos) => pos < scrollOffset + outerSize)\n    ) {\n      const item = measurements[endIndex]!\n      endPerLane[item.lane] = item.end\n      endIndex++\n    }\n\n    // Expand backward until we include all lanes' visible items\n    // closer to the top\n    const startPerLane = Array(lanes).fill(scrollOffset + outerSize)\n    while (startIndex >= 0 && startPerLane.some((pos) => pos >= scrollOffset)) {\n      const item = measurements[startIndex]!\n      startPerLane[item.lane] = item.start\n      startIndex--\n    }\n\n    // Align startIndex to the beginning of its lane\n    startIndex = Math.max(0, startIndex - (startIndex % lanes))\n    // Align endIndex to the end of its lane\n    endIndex = Math.min(lastIndex, endIndex + (lanes - 1 - (endIndex % lanes)))\n  }\n\n  return { startIndex, endIndex }\n}\n","import * as React from 'react'\nimport { flushSync } from 'react-dom'\nimport {\n  Virtualizer,\n  elementScroll,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  windowScroll,\n} from '@tanstack/virtual-core'\nimport type { PartialKeys, VirtualizerOptions } from '@tanstack/virtual-core'\n\nexport * from '@tanstack/virtual-core'\n\nconst useIsomorphicLayoutEffect =\n  typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nexport type ReactVirtualizerOptions<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> = VirtualizerOptions<TScrollElement, TItemElement> & {\n  useFlushSync?: boolean\n}\n\nfunction useVirtualizerBase<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n>({\n  useFlushSync = true,\n  ...options\n}: ReactVirtualizerOptions<TScrollElement, TItemElement>): Virtualizer<\n  TScrollElement,\n  TItemElement\n> {\n  const rerender = React.useReducer(() => ({}), {})[1]\n\n  const resolvedOptions: VirtualizerOptions<TScrollElement, TItemElement> = {\n    ...options,\n    onChange: (instance, sync) => {\n      if (useFlushSync && sync) {\n        flushSync(rerender)\n      } else {\n        rerender()\n      }\n      options.onChange?.(instance, sync)\n    },\n  }\n\n  const [instance] = React.useState(\n    () => new Virtualizer<TScrollElement, TItemElement>(resolvedOptions),\n  )\n\n  instance.setOptions(resolvedOptions)\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._didMount()\n  }, [])\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate()\n  })\n\n  return instance\n}\n\nexport function useVirtualizer<\n  TScrollElement extends Element,\n  TItemElement extends Element,\n>(\n  options: PartialKeys<\n    ReactVirtualizerOptions<TScrollElement, TItemElement>,\n    'observeElementRect' | 'observeElementOffset' | 'scrollToFn'\n  >,\n): Virtualizer<TScrollElement, TItemElement> {\n  return useVirtualizerBase<TScrollElement, TItemElement>({\n    observeElementRect: observeElementRect,\n    observeElementOffset: observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options,\n  })\n}\n\nexport function useWindowVirtualizer<TItemElement extends Element>(\n  options: PartialKeys<\n    ReactVirtualizerOptions<Window, TItemElement>,\n    | 'getScrollElement'\n    | 'observeElementRect'\n    | 'observeElementOffset'\n    | 'scrollToFn'\n  >,\n): Virtualizer<Window, TItemElement> {\n  return useVirtualizerBase<Window, TItemElement>({\n    getScrollElement: () => (typeof document !== 'undefined' ? window : null),\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    initialOffset: () => (typeof document !== 'undefined' ? window.scrollY : 0),\n    ...options,\n  })\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '7', height: '7', x: '3', y: '3', rx: '1', key: '1g98yp' }],\n  ['rect', { width: '7', height: '7', x: '14', y: '3', rx: '1', key: '6d4xhi' }],\n  ['rect', { width: '7', height: '7', x: '14', y: '14', rx: '1', key: 'nxv5o0' }],\n  ['rect', { width: '7', height: '7', x: '3', y: '14', rx: '1', key: '1bb6yr' }],\n];\n\n/**\n * @component @name LayoutGrid\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI3IiB4PSIzIiB5PSIzIiByeD0iMSIgLz4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI3IiB4PSIxNCIgeT0iMyIgcng9IjEiIC8+CiAgPHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iNyIgeD0iMTQiIHk9IjE0IiByeD0iMSIgLz4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSI3IiB4PSIzIiB5PSIxNCIgcng9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/layout-grid\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LayoutGrid = createLucideIcon('layout-grid', __iconNode);\n\nexport default LayoutGrid;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm8 6 4-4 4 4', key: 'ybng9g' }],\n  ['path', { d: 'M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22', key: '1hyw0i' }],\n  ['path', { d: 'm20 22-5-5', key: '1m27yz' }],\n];\n\n/**\n * @component @name Merge\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOCA2IDQtNCA0IDQiIC8+CiAgPHBhdGggZD0iTTEyIDJ2MTAuM2E0IDQgMCAwIDEtMS4xNzIgMi44NzJMNCAyMiIgLz4KICA8cGF0aCBkPSJtMjAgMjItNS01IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/merge\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Merge = createLucideIcon('merge', __iconNode);\n\nexport default Merge;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('circle-check', __iconNode);\n\nexport default CircleCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10.268 21a2 2 0 0 0 3.464 0', key: 'vwvbt9' }],\n  [\n    'path',\n    {\n      d: 'M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742',\n      key: '178tsu',\n    },\n  ],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n  ['path', { d: 'M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05', key: '1hqiys' }],\n];\n\n/**\n * @component @name BellOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuMjY4IDIxYTIgMiAwIDAgMCAzLjQ2NCAwIiAvPgogIDxwYXRoIGQ9Ik0xNyAxN0g0YTEgMSAwIDAgMS0uNzQtMS42NzNDNC41OSAxMy45NTYgNiAxMi40OTkgNiA4YTYgNiAwIDAgMSAuMjU4LTEuNzQyIiAvPgogIDxwYXRoIGQ9Im0yIDIgMjAgMjAiIC8+CiAgPHBhdGggZD0iTTguNjY4IDMuMDFBNiA2IDAgMCAxIDE4IDhjMCAyLjY4Ny43NyA0LjY1MyAxLjcwNyA2LjA1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/bell-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BellOff = createLucideIcon('bell-off', __iconNode);\n\nexport default BellOff;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16.247 7.761a6 6 0 0 1 0 8.478', key: '1fwjs5' }],\n  ['path', { d: 'M19.075 4.933a10 10 0 0 1 0 14.134', key: 'ehdyv1' }],\n  ['path', { d: 'M4.925 19.067a10 10 0 0 1 0-14.134', key: '1q22gi' }],\n  ['path', { d: 'M7.753 16.239a6 6 0 0 1 0-8.478', key: 'r2q7qm' }],\n  ['circle', { cx: '12', cy: '12', r: '2', key: '1c9p78' }],\n];\n\n/**\n * @component @name Radio\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYuMjQ3IDcuNzYxYTYgNiAwIDAgMSAwIDguNDc4IiAvPgogIDxwYXRoIGQ9Ik0xOS4wNzUgNC45MzNhMTAgMTAgMCAwIDEgMCAxNC4xMzQiIC8+CiAgPHBhdGggZD0iTTQuOTI1IDE5LjA2N2ExMCAxMCAwIDAgMSAwLTE0LjEzNCIgLz4KICA8cGF0aCBkPSJNNy43NTMgMTYuMjM5YTYgNiAwIDAgMSAwLTguNDc4IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/radio\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Radio = createLucideIcon('radio', __iconNode);\n\nexport default Radio;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M18 6 7 17l-5-5', key: '116fxf' }],\n  ['path', { d: 'm22 10-7.5 7.5L13 16', key: 'ke71qq' }],\n];\n\n/**\n * @component @name CheckCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA3IDE3bC01LTUiIC8+CiAgPHBhdGggZD0ibTIyIDEwLTcuNSA3LjVMMTMgMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CheckCheck = createLucideIcon('check-check', __iconNode);\n\nexport default CheckCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n"],"names":["instance","opts"],"mappings":"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","ignoreList":[8,9,10,11,12,13,14,15,16,17]}}]
}