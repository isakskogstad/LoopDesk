{
  "version": 3,
  "sources": [],
  "debugId": "46482cc6-8c3a-e7d1-19ac-800b6c40f1ef",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/CLAUDE/projects/LoopDesk/src/components/bolag/widget-styles.module.css [app-ssr] (css module)","../../../../../../../CLAUDE/projects/LoopDesk/src/components/bolag/search-history.tsx","../../../../../../../CLAUDE/projects/LoopDesk/src/components/ui/search-autocomplete.tsx","../../../../../../../CLAUDE/projects/LoopDesk/src/components/bolag/bolagsverket-widget.tsx","../../../../../../../CLAUDE/projects/LoopDesk/src/components/bolag/vinnova-widget.tsx","../../../../../../../CLAUDE/projects/LoopDesk/src/components/bolag/enrich-data-widget.tsx","../../../../../../../CLAUDE/projects/LoopDesk/src/components/bolag/media-widget.tsx","../../../../../../../CLAUDE/projects/LoopDesk/src/app/bolag/page.tsx","../../../../../../../CLAUDE/projects/LoopDesk/src/components/bolag/favorites-list.tsx","../../../../../../../CLAUDE/projects/LoopDesk/src/hooks/use-click-outside.ts","../../../../../../../CLAUDE/projects/LoopDesk/node_modules/lucide-react/src/icons/square.ts"],"sourcesContent":["__turbopack_context__.v({\n  \"actionRow\": \"widget-styles-module__kEbKra__actionRow\",\n  \"addBtn\": \"widget-styles-module__kEbKra__addBtn\",\n  \"btn\": \"widget-styles-module__kEbKra__btn\",\n  \"btnDanger\": \"widget-styles-module__kEbKra__btnDanger\",\n  \"btnGhost\": \"widget-styles-module__kEbKra__btnGhost\",\n  \"btnLogo\": \"widget-styles-module__kEbKra__btnLogo\",\n  \"btnPrimary\": \"widget-styles-module__kEbKra__btnPrimary\",\n  \"btnPrimaryBlue\": \"widget-styles-module__kEbKra__btnPrimaryBlue\",\n  \"btnSubtitle\": \"widget-styles-module__kEbKra__btnSubtitle\",\n  \"btnSuccess\": \"widget-styles-module__kEbKra__btnSuccess\",\n  \"btnText\": \"widget-styles-module__kEbKra__btnText\",\n  \"btnTitle\": \"widget-styles-module__kEbKra__btnTitle\",\n  \"button\": \"widget-styles-module__kEbKra__button\",\n  \"chevron\": \"widget-styles-module__kEbKra__chevron\",\n  \"companyCheckbox\": \"widget-styles-module__kEbKra__companyCheckbox\",\n  \"companyCheckboxChecked\": \"widget-styles-module__kEbKra__companyCheckboxChecked\",\n  \"companyFilter\": \"widget-styles-module__kEbKra__companyFilter\",\n  \"companyFilterAction\": \"widget-styles-module__kEbKra__companyFilterAction\",\n  \"companyFilterActions\": \"widget-styles-module__kEbKra__companyFilterActions\",\n  \"companyFilterHeader\": \"widget-styles-module__kEbKra__companyFilterHeader\",\n  \"companyFilterTitle\": \"widget-styles-module__kEbKra__companyFilterTitle\",\n  \"companyItem\": \"widget-styles-module__kEbKra__companyItem\",\n  \"companyItemSelected\": \"widget-styles-module__kEbKra__companyItemSelected\",\n  \"companyList\": \"widget-styles-module__kEbKra__companyList\",\n  \"companyName\": \"widget-styles-module__kEbKra__companyName\",\n  \"companyOrgNr\": \"widget-styles-module__kEbKra__companyOrgNr\",\n  \"confirmActions\": \"widget-styles-module__kEbKra__confirmActions\",\n  \"confirmDialog\": \"widget-styles-module__kEbKra__confirmDialog\",\n  \"confirmMessage\": \"widget-styles-module__kEbKra__confirmMessage\",\n  \"confirmOverlay\": \"widget-styles-module__kEbKra__confirmOverlay\",\n  \"confirmTitle\": \"widget-styles-module__kEbKra__confirmTitle\",\n  \"detailLabel\": \"widget-styles-module__kEbKra__detailLabel\",\n  \"detailRow\": \"widget-styles-module__kEbKra__detailRow\",\n  \"detailValue\": \"widget-styles-module__kEbKra__detailValue\",\n  \"detailValueHighlight\": \"widget-styles-module__kEbKra__detailValueHighlight\",\n  \"expanded\": \"widget-styles-module__kEbKra__expanded\",\n  \"expandedBody\": \"widget-styles-module__kEbKra__expandedBody\",\n  \"expandedHeader\": \"widget-styles-module__kEbKra__expandedHeader\",\n  \"expandedTitle\": \"widget-styles-module__kEbKra__expandedTitle\",\n  \"expandedVisible\": \"widget-styles-module__kEbKra__expandedVisible\",\n  \"fadeIn\": \"widget-styles-module__kEbKra__fadeIn\",\n  \"formActions\": \"widget-styles-module__kEbKra__formActions\",\n  \"formLabel\": \"widget-styles-module__kEbKra__formLabel\",\n  \"formRow\": \"widget-styles-module__kEbKra__formRow\",\n  \"headerActions\": \"widget-styles-module__kEbKra__headerActions\",\n  \"headerBtn\": \"widget-styles-module__kEbKra__headerBtn\",\n  \"input\": \"widget-styles-module__kEbKra__input\",\n  \"inputGroup\": \"widget-styles-module__kEbKra__inputGroup\",\n  \"loadingSpinner\": \"widget-styles-module__kEbKra__loadingSpinner\",\n  \"loadingSpinnerBlue\": \"widget-styles-module__kEbKra__loadingSpinnerBlue\",\n  \"logClear\": \"widget-styles-module__kEbKra__logClear\",\n  \"logContent\": \"widget-styles-module__kEbKra__logContent\",\n  \"logEmpty\": \"widget-styles-module__kEbKra__logEmpty\",\n  \"logHeader\": \"widget-styles-module__kEbKra__logHeader\",\n  \"logIn\": \"widget-styles-module__kEbKra__logIn\",\n  \"logLine\": \"widget-styles-module__kEbKra__logLine\",\n  \"logLineError\": \"widget-styles-module__kEbKra__logLineError\",\n  \"logLineInfo\": \"widget-styles-module__kEbKra__logLineInfo\",\n  \"logLineStep\": \"widget-styles-module__kEbKra__logLineStep\",\n  \"logLineSuccess\": \"widget-styles-module__kEbKra__logLineSuccess\",\n  \"logLineWarning\": \"widget-styles-module__kEbKra__logLineWarning\",\n  \"logMsg\": \"widget-styles-module__kEbKra__logMsg\",\n  \"logPanel\": \"widget-styles-module__kEbKra__logPanel\",\n  \"logTime\": \"widget-styles-module__kEbKra__logTime\",\n  \"logTitle\": \"widget-styles-module__kEbKra__logTitle\",\n  \"menu\": \"widget-styles-module__kEbKra__menu\",\n  \"menuClose\": \"widget-styles-module__kEbKra__menuClose\",\n  \"menuDesc\": \"widget-styles-module__kEbKra__menuDesc\",\n  \"menuHeader\": \"widget-styles-module__kEbKra__menuHeader\",\n  \"menuIcon\": \"widget-styles-module__kEbKra__menuIcon\",\n  \"menuIconBlue\": \"widget-styles-module__kEbKra__menuIconBlue\",\n  \"menuItem\": \"widget-styles-module__kEbKra__menuItem\",\n  \"menuItems\": \"widget-styles-module__kEbKra__menuItems\",\n  \"menuLabel\": \"widget-styles-module__kEbKra__menuLabel\",\n  \"menuTitle\": \"widget-styles-module__kEbKra__menuTitle\",\n  \"menuTitleIcon\": \"widget-styles-module__kEbKra__menuTitleIcon\",\n  \"menuTitleIconBlue\": \"widget-styles-module__kEbKra__menuTitleIconBlue\",\n  \"menuTitleIconGreen\": \"widget-styles-module__kEbKra__menuTitleIconGreen\",\n  \"menuVisible\": \"widget-styles-module__kEbKra__menuVisible\",\n  \"newSchedule\": \"widget-styles-module__kEbKra__newSchedule\",\n  \"progress\": \"widget-styles-module__kEbKra__progress\",\n  \"progressBar\": \"widget-styles-module__kEbKra__progressBar\",\n  \"progressFill\": \"widget-styles-module__kEbKra__progressFill\",\n  \"progressFillBlue\": \"widget-styles-module__kEbKra__progressFillBlue\",\n  \"progressText\": \"widget-styles-module__kEbKra__progressText\",\n  \"progressWithText\": \"widget-styles-module__kEbKra__progressWithText\",\n  \"project\": \"widget-styles-module__kEbKra__project\",\n  \"projectDetails\": \"widget-styles-module__kEbKra__projectDetails\",\n  \"projectExpanded\": \"widget-styles-module__kEbKra__projectExpanded\",\n  \"projectHeader\": \"widget-styles-module__kEbKra__projectHeader\",\n  \"projectId\": \"widget-styles-module__kEbKra__projectId\",\n  \"projectTitle\": \"widget-styles-module__kEbKra__projectTitle\",\n  \"projects\": \"widget-styles-module__kEbKra__projects\",\n  \"pulse\": \"widget-styles-module__kEbKra__pulse\",\n  \"rateLimitWarning\": \"widget-styles-module__kEbKra__rateLimitWarning\",\n  \"retryBtn\": \"widget-styles-module__kEbKra__retryBtn\",\n  \"scheduleItem\": \"widget-styles-module__kEbKra__scheduleItem\",\n  \"scheduleList\": \"widget-styles-module__kEbKra__scheduleList\",\n  \"scheduleName\": \"widget-styles-module__kEbKra__scheduleName\",\n  \"scheduleTime\": \"widget-styles-module__kEbKra__scheduleTime\",\n  \"sectionTitle\": \"widget-styles-module__kEbKra__sectionTitle\",\n  \"select\": \"widget-styles-module__kEbKra__select\",\n  \"slideDown\": \"widget-styles-module__kEbKra__slideDown\",\n  \"spin\": \"widget-styles-module__kEbKra__spin\",\n  \"statCard\": \"widget-styles-module__kEbKra__statCard\",\n  \"statContent\": \"widget-styles-module__kEbKra__statContent\",\n  \"statLabel\": \"widget-styles-module__kEbKra__statLabel\",\n  \"statValue\": \"widget-styles-module__kEbKra__statValue\",\n  \"statValueOnline\": \"widget-styles-module__kEbKra__statValueOnline\",\n  \"statValueSuccess\": \"widget-styles-module__kEbKra__statValueSuccess\",\n  \"statsGrid\": \"widget-styles-module__kEbKra__statsGrid\",\n  \"statusDot\": \"widget-styles-module__kEbKra__statusDot\",\n  \"statusDotOnline\": \"widget-styles-module__kEbKra__statusDotOnline\",\n  \"statusDotWorking\": \"widget-styles-module__kEbKra__statusDotWorking\",\n  \"statusDotWorkingBlue\": \"widget-styles-module__kEbKra__statusDotWorkingBlue\",\n  \"summary\": \"widget-styles-module__kEbKra__summary\",\n  \"summaryItem\": \"widget-styles-module__kEbKra__summaryItem\",\n  \"summaryItemError\": \"widget-styles-module__kEbKra__summaryItemError\",\n  \"summaryItemSuccess\": \"widget-styles-module__kEbKra__summaryItemSuccess\",\n  \"toggle\": \"widget-styles-module__kEbKra__toggle\",\n  \"toggleActive\": \"widget-styles-module__kEbKra__toggleActive\",\n  \"view\": \"widget-styles-module__kEbKra__view\",\n  \"widget\": \"widget-styles-module__kEbKra__widget\",\n  \"widgetContainer\": \"widget-styles-module__kEbKra__widgetContainer\",\n});\n","\"use client\";\n\nimport { useEffect, useState, useRef, useCallback } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport Link from \"next/link\";\n\ninterface SearchHistoryItem {\n  orgNr: string;\n  name: string;\n  timestamp: number;\n}\n\nconst STORAGE_KEY = \"bolagsinfo-search-history\";\nconst MAX_HISTORY = 8;\n\nexport function useSearchHistory() {\n  const { data: session, status } = useSession();\n  const [history, setHistory] = useState<SearchHistoryItem[]>([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const hasSyncedRef = useRef(false);\n\n  // Load history on mount\n  useEffect(() => {\n    const loadHistory = async () => {\n      // First load from localStorage\n      const localHistory = getLocalHistory();\n      setHistory(localHistory);\n\n      // Then try to fetch from database if logged in\n      if (status === \"authenticated\" && session?.user && !hasSyncedRef.current) {\n        try {\n          const res = await fetch(\"/api/bolag/history\");\n          if (res.ok) {\n            const data = await res.json();\n            if (data.history && data.history.length > 0) {\n              setHistory(data.history);\n              saveLocalHistory(data.history);\n              hasSyncedRef.current = true;\n            }\n          }\n        } catch {\n          // Use localStorage value\n        }\n      }\n\n      setIsLoaded(true);\n    };\n\n    loadHistory();\n  }, [session?.user, status]);\n\n  // Sync localStorage to database on first login\n  useEffect(() => {\n    const syncToDatabase = async () => {\n      if (status !== \"authenticated\" || !session?.user || hasSyncedRef.current) return;\n\n      const localHistory = getLocalHistory();\n      if (localHistory.length === 0) return;\n\n      // Check if database already has history\n      try {\n        const res = await fetch(\"/api/bolag/history\");\n        if (res.ok) {\n          const data = await res.json();\n          if (data.history && data.history.length > 0) {\n            // Database already has history, use that\n            return;\n          }\n        }\n\n        // Sync localStorage history to database\n        for (const item of localHistory) {\n          await fetch(\"/api/bolag/history\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ orgNr: item.orgNr, name: item.name }),\n          });\n        }\n      } catch {\n        // Ignore sync errors\n      }\n    };\n\n    syncToDatabase();\n  }, [session?.user, status]);\n\n  const addToHistory = useCallback(async (orgNr: string, name: string) => {\n    const newItem: SearchHistoryItem = { orgNr, name, timestamp: Date.now() };\n\n    // Optimistic update\n    setHistory((prev) => {\n      const updated = [\n        newItem,\n        ...prev.filter((item) => item.orgNr !== orgNr),\n      ].slice(0, MAX_HISTORY);\n      saveLocalHistory(updated);\n      return updated;\n    });\n\n    // Save to database if logged in\n    if (session?.user) {\n      try {\n        await fetch(\"/api/bolag/history\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ orgNr, name }),\n        });\n      } catch {\n        // Ignore errors - localStorage is the fallback\n      }\n    }\n  }, [session?.user]);\n\n  const clearHistory = useCallback(async () => {\n    // Optimistic update\n    setHistory([]);\n    localStorage.removeItem(STORAGE_KEY);\n\n    // Clear from database if logged in\n    if (session?.user) {\n      try {\n        await fetch(\"/api/bolag/history\", {\n          method: \"DELETE\",\n        });\n      } catch {\n        // Ignore errors\n      }\n    }\n  }, [session?.user]);\n\n  return { history, addToHistory, clearHistory, isLoaded };\n}\n\n// Helper functions for localStorage\nfunction getLocalHistory(): SearchHistoryItem[] {\n  if (typeof window === \"undefined\") return [];\n\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    return stored ? JSON.parse(stored) : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction saveLocalHistory(history: SearchHistoryItem[]) {\n  if (typeof window === \"undefined\") return;\n\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(history));\n  } catch {\n    // Ignore storage errors\n  }\n}\n\ninterface SearchHistoryProps {\n  history: SearchHistoryItem[];\n  onClear: () => void;\n}\n\nexport function SearchHistory({ history, onClear }: SearchHistoryProps) {\n  if (history.length === 0) return null;\n\n  const formatOrgNr = (orgNr: string) => {\n    const clean = orgNr.replace(/\\D/g, \"\");\n    if (clean.length === 10) {\n      return `${clean.slice(0, 6)}-${clean.slice(6)}`;\n    }\n    return orgNr;\n  };\n\n  return (\n    <div className=\"mt-4 pt-4 border-t\">\n      <div className=\"flex justify-between items-center mb-2\">\n        <p className=\"text-sm text-muted-foreground\">Senaste sökningar</p>\n        <button\n          onClick={onClear}\n          className=\"text-xs text-muted-foreground/70 hover:text-muted-foreground\"\n        >\n          Rensa\n        </button>\n      </div>\n      <div className=\"flex flex-wrap gap-2\">\n        {history.map((item) => (\n          <Link\n            key={item.orgNr}\n            href={`/bolag/${item.orgNr}`}\n            className=\"inline-flex items-center px-3 py-1.5 text-sm bg-secondary rounded-full hover:bg-secondary dark:hover:bg-gray-700 transition-colors\"\n          >\n            <span className=\"font-medium truncate max-w-[150px]\">{item.name}</span>\n            <span className=\"ml-2 text-muted-foreground/70 text-xs\">{formatOrgNr(item.orgNr)}</span>\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useRef, useEffect, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Search, Building2, Loader2, Clock, ArrowRight } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ninterface SearchResult {\n  orgNr: string;\n  name: string;\n  companyType?: string;\n  status?: string;\n  location?: string;\n}\n\ninterface SearchAutocompleteProps {\n  placeholder?: string;\n  recentSearches?: { orgNr: string; name: string }[];\n  onSelectResult?: (result: SearchResult) => void;\n  className?: string;\n}\n\nexport function SearchAutocomplete({\n  placeholder = \"Sök företag...\",\n  recentSearches = [],\n  onSelectResult,\n  className,\n}: SearchAutocompleteProps) {\n  const [query, setQuery] = useState(\"\");\n  const [results, setResults] = useState<SearchResult[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  const [error, setError] = useState<string | null>(null);\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const router = useRouter();\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(e.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  // Debounced search\n  useEffect(() => {\n    if (query.length < 2) {\n      setResults([]);\n      setError(null);\n      return;\n    }\n\n    const controller = new AbortController();\n    const timeout = setTimeout(async () => {\n      setIsLoading(true);\n      setError(null);\n\n      try {\n        const response = await fetch(`/api/bolag/search?q=${encodeURIComponent(query)}`, {\n          signal: controller.signal,\n        });\n        const data = await response.json();\n\n        if (response.ok) {\n          setResults(data.results || []);\n          if (data.results?.length === 0) {\n            setError(\"Inga företag hittades\");\n          }\n        } else {\n          setError(data.error || \"Ett fel uppstod\");\n        }\n      } catch (err) {\n        if ((err as Error).name !== \"AbortError\") {\n          setError(\"Ett fel uppstod vid sökning\");\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    }, 250);\n\n    return () => {\n      controller.abort();\n      clearTimeout(timeout);\n    };\n  }, [query]);\n\n  // Keyboard navigation\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    const items = query.length >= 2 ? results : recentSearches;\n\n    if (e.key === \"ArrowDown\") {\n      e.preventDefault();\n      setSelectedIndex((prev) => Math.min(prev + 1, items.length - 1));\n    } else if (e.key === \"ArrowUp\") {\n      e.preventDefault();\n      setSelectedIndex((prev) => Math.max(prev - 1, -1));\n    } else if (e.key === \"Enter\") {\n      e.preventDefault();\n      if (selectedIndex >= 0 && items[selectedIndex]) {\n        handleSelect(items[selectedIndex]);\n      } else if (query.length >= 2) {\n        // Direct org number navigation\n        const cleanQuery = query.replace(/\\D/g, \"\");\n        if (cleanQuery.length === 10 || cleanQuery.length === 12) {\n          router.push(`/bolag/${cleanQuery}`);\n          setIsOpen(false);\n        }\n      }\n    } else if (e.key === \"Escape\") {\n      setIsOpen(false);\n      inputRef.current?.blur();\n    }\n  }, [query, results, recentSearches, selectedIndex, router]);\n\n  const handleSelect = (item: { orgNr: string; name: string }) => {\n    if (onSelectResult) {\n      onSelectResult(item as SearchResult);\n    }\n    router.push(`/bolag/${item.orgNr}`);\n    setIsOpen(false);\n    setQuery(\"\");\n  };\n\n  const formatOrgNr = (orgNr: string) => {\n    const clean = orgNr.replace(/\\D/g, \"\");\n    if (clean.length === 10) {\n      return `${clean.slice(0, 6)}-${clean.slice(6)}`;\n    }\n    return orgNr;\n  };\n\n  const showDropdown = isOpen && (query.length >= 2 || recentSearches.length > 0);\n  const showResults = query.length >= 2;\n  const items = showResults ? results : recentSearches.slice(0, 5);\n\n  return (\n    <div ref={containerRef} className={cn(\"relative\", className)}>\n      {/* Search Input */}\n      <div className=\"relative\">\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none\" />\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={query}\n          onChange={(e) => {\n            setQuery(e.target.value);\n            setSelectedIndex(-1);\n            setIsOpen(true);\n          }}\n          onFocus={() => setIsOpen(true)}\n          onKeyDown={handleKeyDown}\n          placeholder={placeholder}\n          className={cn(\n            \"w-full h-11 pl-10 pr-4 rounded-xl border border-border bg-background\",\n            \"text-sm placeholder:text-muted-foreground\",\n            \"focus:outline-none focus:ring-2 focus:ring-ring focus:border-transparent\",\n            \"transition-all duration-200\",\n            isOpen && \"ring-2 ring-ring border-transparent\"\n          )}\n        />\n        {isLoading && (\n          <Loader2 className=\"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground animate-spin\" />\n        )}\n      </div>\n\n      {/* Dropdown */}\n      <AnimatePresence>\n        {showDropdown && (\n          <motion.div\n            initial={{ opacity: 0, y: -8, scale: 0.98 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: -8, scale: 0.98 }}\n            transition={{ duration: 0.15, ease: [0.25, 0.1, 0.25, 1] }}\n            className={cn(\n              \"absolute top-full left-0 right-0 mt-2 z-50\",\n              \"rounded-xl border border-border/50 shadow-xl overflow-hidden\",\n              \"bg-background/95 backdrop-blur-xl\"\n            )}\n          >\n            {/* Header */}\n            <div className=\"px-3 py-2 border-b border-border/50\">\n              <p className=\"text-xs font-medium text-muted-foreground\">\n                {showResults ? (\n                  isLoading ? \"Söker...\" :\n                  error ? error :\n                  `${results.length} träffar`\n                ) : (\n                  <span className=\"flex items-center gap-1.5\">\n                    <Clock className=\"h-3 w-3\" />\n                    Senaste sökningar\n                  </span>\n                )}\n              </p>\n            </div>\n\n            {/* Results List */}\n            <div className=\"max-h-80 overflow-y-auto\">\n              {items.length > 0 ? (\n                <div className=\"py-1\">\n                  {items.map((item, index) => (\n                    <button\n                      key={item.orgNr}\n                      onClick={() => handleSelect(item)}\n                      onMouseEnter={() => setSelectedIndex(index)}\n                      className={cn(\n                        \"w-full px-3 py-2.5 flex items-center gap-3 text-left transition-colors\",\n                        selectedIndex === index\n                          ? \"bg-secondary\"\n                          : \"hover:bg-secondary/50\"\n                      )}\n                    >\n                      <div className={cn(\n                        \"w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0\",\n                        selectedIndex === index\n                          ? \"bg-foreground text-background\"\n                          : \"bg-secondary\"\n                      )}>\n                        <Building2 className=\"h-4 w-4\" />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium text-sm truncate\">{item.name}</p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {formatOrgNr(item.orgNr)}\n                          {\"location\" in item && (item as SearchResult).location && ` • ${(item as SearchResult).location}`}\n                        </p>\n                      </div>\n                      {selectedIndex === index && (\n                        <ArrowRight className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\n                      )}\n                    </button>\n                  ))}\n                </div>\n              ) : showResults && !isLoading && !error ? (\n                <div className=\"px-3 py-6 text-center text-sm text-muted-foreground\">\n                  Inga resultat\n                </div>\n              ) : null}\n            </div>\n\n            {/* Footer hint */}\n            <div className=\"px-3 py-2 border-t border-border/50 bg-secondary/30\">\n              <p className=\"text-[11px] text-muted-foreground\">\n                <kbd className=\"px-1.5 py-0.5 bg-background rounded text-[10px] font-mono\">↑↓</kbd>\n                {\" \"}navigera\n                <span className=\"mx-2\">•</span>\n                <kbd className=\"px-1.5 py-0.5 bg-background rounded text-[10px] font-mono\">↵</kbd>\n                {\" \"}välj\n                <span className=\"mx-2\">•</span>\n                <kbd className=\"px-1.5 py-0.5 bg-background rounded text-[10px] font-mono\">esc</kbd>\n                {\" \"}stäng\n              </p>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { Search, ChevronRight, ChevronLeft, X, Building2, Clock, Activity } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useClickOutside } from \"@/hooks/use-click-outside\";\nimport styles from \"./widget-styles.module.css\";\n\ntype WidgetState = \"button\" | \"menu\" | \"expanded\";\ntype ViewType = \"search\" | \"fetched\" | \"status\";\ntype StatusType = \"online\" | \"working\" | \"offline\";\n\ninterface FetchedCompany {\n  id: string;\n  orgNumber: string;\n  name: string;\n  fetchedAt?: string;\n}\n\ninterface LogEntry {\n  id: string;\n  time: string;\n  message: string;\n  type: \"info\" | \"success\" | \"warning\" | \"error\" | \"step\";\n}\n\ninterface SearchResult {\n  orgNr: string;\n  name: string;\n  status?: string;\n  location?: string;\n}\n\ninterface RecentSearch {\n  orgNr: string;\n  name: string;\n  timestamp: number;\n}\n\nexport function BolagsverketWidget() {\n  const router = useRouter();\n  const [state, setState] = useState<WidgetState>(\"button\");\n  const [currentView, setCurrentView] = useState<ViewType>(\"search\");\n  const [status, setStatus] = useState<StatusType>(\"online\");\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [expandedVisible, setExpandedVisible] = useState(false);\n\n  // Search state\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState<SearchResult[]>([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [logs, setLogs] = useState<LogEntry[]>([]);\n\n  // Recent searches\n  const [recentSearches, setRecentSearches] = useState<RecentSearch[]>([]);\n\n  // Fetched companies state\n  const [fetchedCompanies, setFetchedCompanies] = useState<FetchedCompany[]>([]);\n  const [loadingFetched, setLoadingFetched] = useState(false);\n\n  // Global loading state for button\n  const [isGloballyBusy, setIsGloballyBusy] = useState(false);\n\n  const logIdRef = useRef(0);\n  const logContainerRef = useRef<HTMLDivElement>(null);\n  const widgetRef = useRef<HTMLDivElement>(null);\n  const searchTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Click outside to close menu/expanded\n  useClickOutside(widgetRef, () => {\n    if (state === \"menu\") closeMenu();\n    if (state === \"expanded\") closeAll();\n  }, state !== \"button\");\n\n  const addLog = useCallback((message: string, type: LogEntry[\"type\"] = \"info\") => {\n    const time = new Date().toLocaleTimeString(\"sv-SE\", { hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\" });\n    const entry: LogEntry = {\n      id: `log-${++logIdRef.current}`,\n      time,\n      message,\n      type,\n    };\n    setLogs(prev => [...prev.slice(-50), entry]);\n  }, []);\n\n  // Auto-scroll logs\n  useEffect(() => {\n    if (logContainerRef.current) {\n      logContainerRef.current.scrollTop = logContainerRef.current.scrollHeight;\n    }\n  }, [logs]);\n\n  // Load recent searches from localStorage\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(\"bolagsverket-recent-searches\");\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        setRecentSearches(parsed.slice(0, 5));\n      }\n    } catch {\n      // Ignore\n    }\n  }, []);\n\n  // Update global busy state\n  useEffect(() => {\n    setIsGloballyBusy(isSearching);\n  }, [isSearching]);\n\n  const saveRecentSearch = (orgNr: string, name: string) => {\n    const newSearch: RecentSearch = { orgNr, name, timestamp: Date.now() };\n    setRecentSearches(prev => {\n      const filtered = prev.filter(s => s.orgNr !== orgNr);\n      const updated = [newSearch, ...filtered].slice(0, 5);\n      try {\n        localStorage.setItem(\"bolagsverket-recent-searches\", JSON.stringify(updated));\n      } catch {\n        // Ignore\n      }\n      return updated;\n    });\n  };\n\n  const clearLogs = () => setLogs([]);\n\n  const openMenu = () => {\n    setState(\"menu\");\n    setTimeout(() => setMenuVisible(true), 10);\n  };\n\n  const closeMenu = () => {\n    setMenuVisible(false);\n    setTimeout(() => setState(\"button\"), 250);\n  };\n\n  const openExpanded = (view: ViewType) => {\n    setMenuVisible(false);\n    setCurrentView(view);\n    setTimeout(() => {\n      setState(\"expanded\");\n      setTimeout(() => setExpandedVisible(true), 10);\n    }, 180);\n    setStatus(\"online\");\n  };\n\n  // Fetch watched/fetched companies\n  const fetchFetchedCompanies = useCallback(async () => {\n    setLoadingFetched(true);\n    try {\n      const response = await fetch(\"/api/bevakning\");\n      if (response.ok) {\n        const data = await response.json();\n        setFetchedCompanies(data.companies || []);\n      }\n    } catch {\n      // Ignore\n    }\n    setLoadingFetched(false);\n  }, []);\n\n  // Load fetched companies when view changes\n  useEffect(() => {\n    if (state === \"expanded\" && currentView === \"fetched\") {\n      fetchFetchedCompanies();\n    }\n  }, [state, currentView, fetchFetchedCompanies]);\n\n  // Test connection\n  const testConnection = async () => {\n    addLog(\"Testar anslutning...\", \"step\");\n    setStatus(\"working\");\n\n    try {\n      const response = await fetch(\"/api/health\");\n      if (response.ok) {\n        const data = await response.json();\n        addLog(\"API: OK\", \"success\");\n        addLog(`Databas: ${data.database === \"connected\" ? \"OK\" : \"Fel\"}`, data.database === \"connected\" ? \"success\" : \"error\");\n        if (data.proxy) {\n          addLog(`Proxy: ${data.proxy.status === \"active\" ? \"OK\" : \"Inaktiv\"}`, data.proxy.status === \"active\" ? \"success\" : \"warning\");\n        }\n        addLog(\"Anslutning verifierad\", \"success\");\n      } else {\n        addLog(\"Anslutning misslyckades\", \"error\");\n      }\n    } catch {\n      addLog(\"Kunde inte nå servern\", \"error\");\n    }\n\n    setStatus(\"online\");\n  };\n\n  const backToMenu = () => {\n    setExpandedVisible(false);\n    setTimeout(() => {\n      setState(\"menu\");\n      setTimeout(() => setMenuVisible(true), 10);\n    }, 220);\n  };\n\n  const closeAll = () => {\n    setExpandedVisible(false);\n    setTimeout(() => setState(\"button\"), 220);\n  };\n\n  // Debounced search\n  const doSearch = useCallback(async (query: string, retryCount = 0) => {\n    if (!query.trim() || query.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n\n    setIsSearching(true);\n    setStatus(\"working\");\n    addLog(`Söker: \"${query}\"...`, \"step\");\n\n    try {\n      const response = await fetch(`/api/bolag/search?q=${encodeURIComponent(query.trim())}`);\n\n      if (!response.ok) {\n        throw new Error(`API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.results && data.results.length > 0) {\n        setSearchResults(data.results.slice(0, 8));\n        addLog(`Hittade ${data.results.length} bolag`, \"success\");\n      } else {\n        setSearchResults([]);\n        addLog(\"Inga bolag hittades\", \"warning\");\n      }\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : \"Okänt fel\";\n\n      if (retryCount < 2) {\n        addLog(`Fel: ${errorMsg}. Försöker igen...`, \"warning\");\n        await new Promise(r => setTimeout(r, 1000));\n        return doSearch(query, retryCount + 1);\n      }\n\n      addLog(`Fel: ${errorMsg}`, \"error\");\n      setSearchResults([]);\n    }\n\n    setStatus(\"online\");\n    setIsSearching(false);\n  }, [addLog]);\n\n  // Handle search input with debounce\n  const handleSearchInput = (value: string) => {\n    setSearchQuery(value);\n\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n\n    if (value.length >= 2) {\n      searchTimeoutRef.current = setTimeout(() => {\n        doSearch(value);\n      }, 300);\n    } else {\n      setSearchResults([]);\n    }\n  };\n\n  // Navigate to company page\n  const selectCompany = (result: SearchResult) => {\n    saveRecentSearch(result.orgNr, result.name);\n    addLog(`Öppnar: ${result.name}`, \"success\");\n    closeAll();\n    router.push(`/bolag/${result.orgNr}`);\n  };\n\n  // Open recent search\n  const openRecent = (recent: RecentSearch) => {\n    saveRecentSearch(recent.orgNr, recent.name);\n    closeAll();\n    router.push(`/bolag/${recent.orgNr}`);\n  };\n\n  return (\n    <div className={styles.widget} ref={widgetRef}>\n      {/* STATE 1: Button */}\n      {state === \"button\" && (\n        <button\n          className={styles.button}\n          onClick={openMenu}\n          disabled={isGloballyBusy}\n        >\n          <div className={styles.btnLogo}>\n            <img src=\"/logos/bolagsverket.png\" alt=\"Bolagsverket\" />\n          </div>\n          <span className={styles.btnSubtitle}>Bolagssök</span>\n          <ChevronRight className={`${styles.chevron} w-4 h-4`} />\n          {isGloballyBusy && <div className={styles.loadingSpinner} />}\n        </button>\n      )}\n\n      {/* STATE 2: Menu */}\n      {state === \"menu\" && (\n        <div className={`${styles.menu} ${menuVisible ? styles.menuVisible : \"\"}`}>\n          <div className={styles.menuHeader}>\n            <div className={styles.menuTitle}>\n              <div className={`${styles.menuTitleIcon} ${styles.menuTitleIconGreen}`}>\n                <Building2 className=\"w-3 h-3\" />\n              </div>\n              Bolagsverket\n            </div>\n            <button className={styles.menuClose} onClick={closeMenu}>\n              <X className=\"w-3.5 h-3.5\" />\n            </button>\n          </div>\n          <div className={styles.menuItems}>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"search\")}>\n              <div className={styles.menuIcon}><Search className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Sök bolag</div>\n                <div className={styles.menuDesc}>Sök på namn eller org.nr</div>\n              </div>\n            </div>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"fetched\")}>\n              <div className={styles.menuIcon}><Building2 className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Hämtade bolag</div>\n                <div className={styles.menuDesc}>Visa bevakade bolag</div>\n              </div>\n            </div>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"status\")}>\n              <div className={styles.menuIcon}><Activity className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Status</div>\n                <div className={styles.menuDesc}>Anslutning och hälsa</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* STATE 3: Expanded */}\n      {state === \"expanded\" && (\n        <div className={`${styles.expanded} ${expandedVisible ? styles.expandedVisible : \"\"}`}>\n          <div className={styles.expandedHeader}>\n            <div className={styles.expandedTitle}>\n              <div className={`${styles.statusDot} ${status === \"online\" ? styles.statusDotOnline : status === \"working\" ? styles.statusDotWorking : \"\"}`} />\n              <span>{currentView === \"search\" ? \"Sök bolag\" : currentView === \"fetched\" ? \"Hämtade bolag\" : \"Status\"}</span>\n            </div>\n            <div className={styles.headerActions}>\n              <button className={styles.headerBtn} onClick={backToMenu}><ChevronLeft className=\"w-3.5 h-3.5\" /></button>\n              <button className={styles.headerBtn} onClick={closeAll}><X className=\"w-3.5 h-3.5\" /></button>\n            </div>\n          </div>\n\n          <div className={styles.expandedBody}>\n            {/* Search View */}\n            {currentView === \"search\" && (\n              <div className={styles.view}>\n                {/* Search Input */}\n                <div className={styles.inputGroup}>\n                  <input\n                    type=\"text\"\n                    className={styles.input}\n                    placeholder=\"Företagsnamn eller org.nr...\"\n                    value={searchQuery}\n                    onChange={(e) => handleSearchInput(e.target.value)}\n                    onKeyDown={(e) => e.key === \"Enter\" && doSearch(searchQuery)}\n                    autoFocus\n                  />\n                  <button\n                    className={`${styles.btn} ${styles.btnPrimary}`}\n                    onClick={() => doSearch(searchQuery)}\n                    disabled={isSearching || searchQuery.length < 2}\n                  >\n                    {isSearching ? \"...\" : \"Sök\"}\n                  </button>\n                </div>\n\n                {/* Search Results */}\n                {searchResults.length > 0 && (\n                  <div className={styles.projects}>\n                    <div className={styles.sectionTitle}>\n                      <Building2 className=\"w-3.5 h-3.5\" />\n                      Resultat ({searchResults.length})\n                    </div>\n                    {searchResults.map((result) => (\n                      <div\n                        key={result.orgNr}\n                        className={styles.project}\n                        onClick={() => selectCompany(result)}\n                      >\n                        <div className={styles.projectHeader}>\n                          <div className={styles.projectTitle}>{result.name}</div>\n                          <div className={styles.projectId}>{result.orgNr}</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Recent Searches (when no search results) */}\n                {searchResults.length === 0 && recentSearches.length > 0 && !searchQuery && (\n                  <div className={styles.projects}>\n                    <div className={styles.sectionTitle}>\n                      <Clock className=\"w-3.5 h-3.5\" />\n                      Senaste sökningar\n                    </div>\n                    {recentSearches.map((recent) => (\n                      <div\n                        key={recent.orgNr}\n                        className={styles.project}\n                        onClick={() => openRecent(recent)}\n                      >\n                        <div className={styles.projectHeader}>\n                          <div className={styles.projectTitle}>{recent.name}</div>\n                          <div className={styles.projectId}>{recent.orgNr}</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Live Log */}\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {logs.length > 0 && (\n                      <button className={styles.logClear} onClick={clearLogs}>Rensa</button>\n                    )}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {logs.length === 0 ? (\n                      <div className={styles.logEmpty}>Sök efter ett företag för att se aktivitet</div>\n                    ) : (\n                      logs.map(log => (\n                        <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                          <span className={styles.logTime}>{log.time}</span>\n                          <span className={styles.logMsg}>{log.message}</span>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Fetched Companies View */}\n            {currentView === \"fetched\" && (\n              <div className={styles.view}>\n                {loadingFetched ? (\n                  <div className={styles.logEmpty}>Laddar bolag...</div>\n                ) : fetchedCompanies.length === 0 ? (\n                  <div className={styles.logEmpty}>Inga bevakade bolag ännu</div>\n                ) : (\n                  <div className={styles.projects}>\n                    <div className={styles.sectionTitle}>\n                      <Building2 className=\"w-3.5 h-3.5\" />\n                      Bevakade bolag ({fetchedCompanies.length})\n                    </div>\n                    {fetchedCompanies.map((company) => (\n                      <div\n                        key={company.id}\n                        className={styles.project}\n                        onClick={() => {\n                          closeAll();\n                          router.push(`/bolag/${company.orgNumber}`);\n                        }}\n                      >\n                        <div className={styles.projectHeader}>\n                          <div className={styles.projectTitle}>{company.name}</div>\n                          <div className={styles.projectId}>{company.orgNumber}</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Live Log */}\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {logs.length > 0 && (\n                      <button className={styles.logClear} onClick={clearLogs}>Rensa</button>\n                    )}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {logs.length === 0 ? (\n                      <div className={styles.logEmpty}>Ingen aktivitet</div>\n                    ) : (\n                      logs.map(log => (\n                        <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                          <span className={styles.logTime}>{log.time}</span>\n                          <span className={styles.logMsg}>{log.message}</span>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Status View */}\n            {currentView === \"status\" && (\n              <div className={styles.view}>\n                <div className={styles.statsGrid}>\n                  <div className={styles.statCard}>\n                    <Activity className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>API</div>\n                      <div className={`${styles.statValue} ${styles.statValueOnline}`}>Ansluten</div>\n                    </div>\n                  </div>\n                  <div className={styles.statCard}>\n                    <Building2 className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Bevakade</div>\n                      <div className={styles.statValue}>{fetchedCompanies.length}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className={styles.actionRow}>\n                  <button className={`${styles.btn} ${styles.btnGhost}`} onClick={testConnection}>\n                    Testa anslutning\n                  </button>\n                </div>\n\n                {/* Live Log */}\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {logs.length > 0 && (\n                      <button className={styles.logClear} onClick={clearLogs}>Rensa</button>\n                    )}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {logs.length === 0 ? (\n                      <div className={styles.logEmpty}>Ingen aktivitet</div>\n                    ) : (\n                      logs.map(log => (\n                        <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                          <span className={styles.logTime}>{log.time}</span>\n                          <span className={styles.logMsg}>{log.message}</span>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { Search, Clock, CheckCircle, ChevronRight, ChevronLeft, X, Play, Square, Zap, FileText, RefreshCw, AlertTriangle, Activity, Building2 } from \"lucide-react\";\nimport { useClickOutside } from \"@/hooks/use-click-outside\";\nimport styles from \"./widget-styles.module.css\";\n\ntype WidgetState = \"button\" | \"menu\" | \"expanded\";\ntype ViewType = \"search\" | \"batch\" | \"status\";\ntype StatusType = \"online\" | \"working\" | \"offline\";\n\ninterface LogEntry {\n  id: string;\n  time: string;\n  message: string;\n  type: \"info\" | \"success\" | \"warning\" | \"error\" | \"step\";\n}\n\ninterface VinnovaProject {\n  id: string;\n  diarienummer: string;\n  titel: string;\n  programnamn?: string;\n  vinnovaBidrag?: number;\n  totalbudget?: number;\n  koordinator?: string;\n}\n\ninterface WatchedCompany {\n  id: string;\n  orgNumber: string;\n  name: string;\n}\n\nexport function VinnovaWidget() {\n  const [state, setState] = useState<WidgetState>(\"button\");\n  const [currentView, setCurrentView] = useState<ViewType>(\"search\");\n  const [status, setStatus] = useState<StatusType>(\"online\");\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [expandedVisible, setExpandedVisible] = useState(false);\n\n  // Search state\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [projects, setProjects] = useState<VinnovaProject[]>([]);\n  const [searchProgress, setSearchProgress] = useState(0);\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchLogs, setSearchLogs] = useState<LogEntry[]>([]);\n  const [expandedProject, setExpandedProject] = useState<string | null>(null);\n  const [searchError, setSearchError] = useState<string | null>(null);\n\n  // Batch state (Sök alla bevakade)\n  const [batchLogs, setBatchLogs] = useState<LogEntry[]>([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [batchProgress, setBatchProgress] = useState(0);\n  const [lastRun, setLastRun] = useState(\"--:--\");\n  const [watchedCompanies, setWatchedCompanies] = useState<WatchedCompany[]>([]);\n\n  // Status state\n  const [statusLogs, setStatusLogs] = useState<LogEntry[]>([]);\n\n  // Global loading state for button\n  const [isGloballyBusy, setIsGloballyBusy] = useState(false);\n\n  const logIdRef = useRef(0);\n  const logContainerRef = useRef<HTMLDivElement>(null);\n  const widgetRef = useRef<HTMLDivElement>(null);\n  const runningRef = useRef(false);\n\n  // Click outside to close menu/expanded\n  useClickOutside(widgetRef, () => {\n    if (state === \"menu\") closeMenu();\n    if (state === \"expanded\") closeAll();\n  }, state !== \"button\");\n\n  const addLog = useCallback((view: ViewType, message: string, type: LogEntry[\"type\"] = \"info\") => {\n    const time = new Date().toLocaleTimeString(\"sv-SE\", { hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\" });\n    const entry: LogEntry = {\n      id: `log-${++logIdRef.current}`,\n      time,\n      message,\n      type,\n    };\n\n    if (view === \"search\") {\n      setSearchLogs(prev => [...prev.slice(-50), entry]);\n    } else if (view === \"batch\") {\n      setBatchLogs(prev => [...prev.slice(-50), entry]);\n    } else {\n      setStatusLogs(prev => [...prev.slice(-50), entry]);\n    }\n  }, []);\n\n  // Auto-scroll logs\n  useEffect(() => {\n    if (logContainerRef.current) {\n      logContainerRef.current.scrollTop = logContainerRef.current.scrollHeight;\n    }\n  }, [searchLogs, batchLogs, statusLogs]);\n\n  // Fetch watched companies for batch view\n  const fetchWatchedCompanies = useCallback(async () => {\n    try {\n      const response = await fetch(\"/api/bevakning\");\n      if (response.ok) {\n        const data = await response.json();\n        setWatchedCompanies(data.companies || []);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch watched companies:\", error);\n    }\n  }, []);\n\n  // Load data when expanded\n  useEffect(() => {\n    if (state === \"expanded\") {\n      if (currentView === \"batch\") {\n        fetchWatchedCompanies();\n      }\n    }\n  }, [state, currentView, fetchWatchedCompanies]);\n\n  // Update global busy state\n  useEffect(() => {\n    setIsGloballyBusy(isSearching || isRunning);\n  }, [isSearching, isRunning]);\n\n  const clearLog = (view: ViewType) => {\n    if (view === \"search\") setSearchLogs([]);\n    else if (view === \"batch\") setBatchLogs([]);\n    else setStatusLogs([]);\n  };\n\n  const openMenu = () => {\n    setState(\"menu\");\n    setTimeout(() => setMenuVisible(true), 10);\n  };\n\n  const closeMenu = () => {\n    setMenuVisible(false);\n    setTimeout(() => setState(\"button\"), 250);\n  };\n\n  const openExpanded = (view: ViewType) => {\n    setMenuVisible(false);\n    setCurrentView(view);\n    setTimeout(() => {\n      setState(\"expanded\");\n      setTimeout(() => setExpandedVisible(true), 10);\n    }, 180);\n    setStatus(\"online\");\n  };\n\n  const backToMenu = () => {\n    setExpandedVisible(false);\n    setTimeout(() => {\n      setState(\"menu\");\n      setTimeout(() => setMenuVisible(true), 10);\n    }, 220);\n  };\n\n  const closeAll = () => {\n    setExpandedVisible(false);\n    setTimeout(() => setState(\"button\"), 220);\n  };\n\n  // Search with retry logic\n  const doSearch = async (retryCount = 0) => {\n    if (!searchQuery.trim()) return;\n\n    setIsSearching(true);\n    setStatus(\"working\");\n    setProjects([]);\n    setExpandedProject(null);\n    setSearchProgress(0);\n    setSearchError(null);\n\n    addLog(\"search\", `Initierar sökning...`, \"step\");\n    await sleep(200);\n    setSearchProgress(10);\n\n    addLog(\"search\", `Ansluter till Vinnova API...`, \"step\");\n    await sleep(300);\n    setSearchProgress(25);\n\n    addLog(\"search\", `Söker: \"${searchQuery}\"`, \"info\");\n    setSearchProgress(40);\n\n    try {\n      const params = new URLSearchParams();\n      params.set(\"company\", searchQuery.trim());\n\n      addLog(\"search\", `Hämtar projektdata...`, \"step\");\n      const response = await fetch(`/api/bolag/vinnova?${params.toString()}`);\n      setSearchProgress(70);\n\n      if (!response.ok) {\n        throw new Error(`API error: ${response.status}`);\n      }\n\n      addLog(\"search\", `Bearbetar resultat...`, \"step\");\n      const data = await response.json();\n      setSearchProgress(90);\n\n      await sleep(200);\n\n      if (data.projects && data.projects.length > 0) {\n        const projectList: VinnovaProject[] = data.projects.slice(0, 10);\n        setProjects(projectList);\n\n        const totalFunding = projectList.reduce((sum, p) => sum + (p.vinnovaBidrag || 0), 0);\n\n        addLog(\"search\", `Hittade ${data.projects.length} projekt`, \"success\");\n        if (totalFunding > 0) {\n          addLog(\"search\", `Total finansiering: ${formatCurrency(totalFunding)}`, \"info\");\n        }\n      } else {\n        addLog(\"search\", \"Inga Vinnova-projekt hittades för detta bolag\", \"warning\");\n      }\n\n      setSearchProgress(100);\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : \"Okänt fel\";\n\n      if (retryCount < 2) {\n        addLog(\"search\", `Fel: ${errorMsg}. Försöker igen...`, \"warning\");\n        await sleep(1000);\n        return doSearch(retryCount + 1);\n      }\n\n      addLog(\"search\", `Fel: ${errorMsg}`, \"error\");\n      setSearchError(errorMsg);\n    }\n\n    await sleep(300);\n    setStatus(\"online\");\n    setIsSearching(false);\n    setTimeout(() => setSearchProgress(0), 500);\n  };\n\n  const retrySearch = () => {\n    setSearchError(null);\n    doSearch();\n  };\n\n  const sleep = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n  const formatCurrency = (amount: number) => {\n    if (amount >= 1000000) {\n      return `${(amount / 1000000).toFixed(1)} MSEK`;\n    }\n    return new Intl.NumberFormat(\"sv-SE\", { style: \"currency\", currency: \"SEK\", maximumFractionDigits: 0 }).format(amount);\n  };\n\n  // Status functionality\n  const testConnection = async () => {\n    addLog(\"status\", \"Testar anslutning...\", \"step\");\n    setStatus(\"working\");\n\n    await sleep(500);\n\n    try {\n      const response = await fetch(\"/api/health\");\n      if (response.ok) {\n        addLog(\"status\", \"API: OK\", \"success\");\n        addLog(\"status\", \"Databas: OK\", \"success\");\n        addLog(\"status\", \"Anslutning verifierad\", \"success\");\n      } else {\n        addLog(\"status\", \"Anslutning misslyckades\", \"error\");\n      }\n    } catch {\n      addLog(\"status\", \"Kunde inte nå servern\", \"error\");\n    }\n\n    setStatus(\"online\");\n  };\n\n  // Run with real watched companies instead of hardcoded list\n  const startRun = async () => {\n    if (isRunning) {\n      runningRef.current = false;\n      setIsRunning(false);\n      addLog(\"batch\", \"Avbruten av användare\", \"warning\");\n      setStatus(\"online\");\n      setBatchProgress(0);\n      return;\n    }\n\n    // Fetch latest watched companies if not loaded\n    let companies = watchedCompanies;\n    if (companies.length === 0) {\n      addLog(\"batch\", \"Hämtar bevakade bolag...\", \"step\");\n      try {\n        const response = await fetch(\"/api/bevakning\");\n        if (response.ok) {\n          const data = await response.json();\n          companies = data.companies || [];\n          setWatchedCompanies(companies);\n        }\n      } catch {\n        addLog(\"batch\", \"Kunde inte hämta bevakade bolag\", \"error\");\n        return;\n      }\n    }\n\n    if (companies.length === 0) {\n      addLog(\"batch\", \"Inga bevakade bolag att söka\", \"warning\");\n      return;\n    }\n\n    runningRef.current = true;\n    setIsRunning(true);\n    addLog(\"batch\", `Startar sökning för ${companies.length} bolag...`, \"step\");\n    setStatus(\"working\");\n    setBatchProgress(0);\n\n    let successCount = 0;\n    let foundProjects = 0;\n\n    for (let i = 0; i < companies.length && runningRef.current; i++) {\n      const company = companies[i];\n      const progress = ((i + 1) / companies.length) * 100;\n\n      addLog(\"batch\", `Söker: ${company.name}...`, \"info\");\n      setBatchProgress(progress - 5);\n\n      try {\n        const response = await fetch(`/api/bolag/vinnova?company=${encodeURIComponent(company.name)}`);\n\n        if (!runningRef.current) break;\n\n        if (response.ok) {\n          const data = await response.json();\n          const count = data.projects?.length || 0;\n\n          if (count > 0) {\n            addLog(\"batch\", `${company.name}: ${count} projekt`, \"success\");\n            foundProjects += count;\n          } else {\n            addLog(\"batch\", `${company.name}: Inga projekt`, \"info\");\n          }\n          successCount++;\n        } else {\n          addLog(\"batch\", `${company.name}: API-fel`, \"warning\");\n        }\n      } catch {\n        addLog(\"batch\", `${company.name}: Misslyckades`, \"error\");\n      }\n\n      setBatchProgress(progress);\n\n      // Small delay between requests\n      if (runningRef.current && i < companies.length - 1) {\n        await sleep(500);\n      }\n    }\n\n    if (runningRef.current) {\n      addLog(\"batch\", `Körning slutförd: ${successCount}/${companies.length} bolag, ${foundProjects} projekt`, \"success\");\n      setLastRun(new Date().toLocaleTimeString(\"sv-SE\", { hour: \"2-digit\", minute: \"2-digit\" }));\n    }\n\n    runningRef.current = false;\n    setIsRunning(false);\n    setStatus(\"online\");\n    setTimeout(() => setBatchProgress(0), 1000);\n  };\n\n  useEffect(() => {\n    return () => {\n      runningRef.current = false;\n    };\n  }, []);\n\n  const viewTitles = { search: \"Sök projekt\", batch: \"Sök alla bevakade\", status: \"Status\" };\n\n  return (\n    <div className={styles.widget} ref={widgetRef}>\n      {/* STATE 1: Button */}\n      {state === \"button\" && (\n        <button\n          className={styles.button}\n          onClick={openMenu}\n          disabled={isGloballyBusy}\n        >\n          <div className={styles.btnLogo}>\n            <img src=\"/logos/vinnova.png\" alt=\"Vinnova\" />\n          </div>\n          <span className={styles.btnSubtitle}>Innovationsprojekt</span>\n          <ChevronRight className={`${styles.chevron} w-4 h-4`} />\n          {isGloballyBusy && <div className={styles.loadingSpinner} />}\n        </button>\n      )}\n\n      {/* STATE 2: Menu */}\n      {state === \"menu\" && (\n        <div className={`${styles.menu} ${menuVisible ? styles.menuVisible : \"\"}`}>\n          <div className={styles.menuHeader}>\n            <div className={styles.menuTitle}>\n              <div className={`${styles.menuTitleIcon} ${styles.menuTitleIconGreen}`}>\n                <Zap className=\"w-3 h-3\" />\n              </div>\n              Vinnova Scraper\n            </div>\n            <button className={styles.menuClose} onClick={closeMenu}>\n              <X className=\"w-3.5 h-3.5\" />\n            </button>\n          </div>\n          <div className={styles.menuItems}>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"search\")}>\n              <div className={styles.menuIcon}><Search className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Sök projekt</div>\n                <div className={styles.menuDesc}>Hitta Vinnova-projekt för företag</div>\n              </div>\n            </div>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"batch\")}>\n              <div className={styles.menuIcon}><RefreshCw className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Sök alla bevakade</div>\n                <div className={styles.menuDesc}>Kör sökning för alla bevakade bolag</div>\n              </div>\n            </div>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"status\")}>\n              <div className={styles.menuIcon}><Activity className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Status</div>\n                <div className={styles.menuDesc}>Anslutning och hälsa</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* STATE 3: Expanded */}\n      {state === \"expanded\" && (\n        <div className={`${styles.expanded} ${expandedVisible ? styles.expandedVisible : \"\"}`}>\n          <div className={styles.expandedHeader}>\n            <div className={styles.expandedTitle}>\n              <div className={`${styles.statusDot} ${status === \"online\" ? styles.statusDotOnline : status === \"working\" ? styles.statusDotWorking : \"\"}`} />\n              <span>{viewTitles[currentView]}</span>\n            </div>\n            <div className={styles.headerActions}>\n              <button className={styles.headerBtn} onClick={backToMenu}><ChevronLeft className=\"w-3.5 h-3.5\" /></button>\n              <button className={styles.headerBtn} onClick={closeAll}><X className=\"w-3.5 h-3.5\" /></button>\n            </div>\n          </div>\n\n          <div className={styles.expandedBody}>\n            {/* Search View */}\n            {currentView === \"search\" && (\n              <div className={styles.view}>\n                <div className={styles.inputGroup}>\n                  <input\n                    type=\"text\"\n                    className={styles.input}\n                    placeholder=\"Sök bolagsnamn...\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    onKeyDown={(e) => e.key === \"Enter\" && doSearch()}\n                  />\n                  <button className={`${styles.btn} ${styles.btnPrimary}`} onClick={() => doSearch()} disabled={isSearching}>\n                    {isSearching ? \"...\" : \"Sök\"}\n                  </button>\n                </div>\n\n                {/* Retry button on error */}\n                {searchError && (\n                  <button className={styles.retryBtn} onClick={retrySearch}>\n                    <RefreshCw className=\"w-3.5 h-3.5\" />\n                    Försök igen\n                  </button>\n                )}\n\n                {/* Progress */}\n                {searchProgress > 0 && (\n                  <div className={styles.progress}>\n                    <div className={styles.progressBar}>\n                      <div className={styles.progressFill} style={{ width: `${searchProgress}%` }} />\n                    </div>\n                  </div>\n                )}\n\n                {/* Results */}\n                {projects.length > 0 && (\n                  <div className={styles.projects}>\n                    <div className={styles.sectionTitle}>\n                      <FileText className=\"w-3.5 h-3.5\" />\n                      Projekt ({projects.length})\n                    </div>\n                    {projects.map((p) => (\n                      <div\n                        key={p.diarienummer}\n                        className={`${styles.project} ${expandedProject === p.diarienummer ? styles.projectExpanded : ''}`}\n                        onClick={() => setExpandedProject(expandedProject === p.diarienummer ? null : p.diarienummer)}\n                      >\n                        <div className={styles.projectHeader}>\n                          <div className={styles.projectTitle}>{p.titel || p.diarienummer}</div>\n                          <div className={styles.projectId}>{p.diarienummer}</div>\n                        </div>\n                        {expandedProject === p.diarienummer && (\n                          <div className={styles.projectDetails}>\n                            {p.programnamn && (\n                              <div className={styles.detailRow}>\n                                <span className={styles.detailLabel}>Program</span>\n                                <span className={styles.detailValue}>{p.programnamn}</span>\n                              </div>\n                            )}\n                            {p.koordinator && (\n                              <div className={styles.detailRow}>\n                                <span className={styles.detailLabel}>Koordinator</span>\n                                <span className={styles.detailValue}>{p.koordinator}</span>\n                              </div>\n                            )}\n                            {p.vinnovaBidrag && (\n                              <div className={styles.detailRow}>\n                                <span className={styles.detailLabel}>Bidrag</span>\n                                <span className={`${styles.detailValue} ${styles.detailValueHighlight}`}>{formatCurrency(p.vinnovaBidrag)}</span>\n                              </div>\n                            )}\n                            {p.totalbudget && (\n                              <div className={styles.detailRow}>\n                                <span className={styles.detailLabel}>Total budget</span>\n                                <span className={styles.detailValue}>{formatCurrency(p.totalbudget)}</span>\n                              </div>\n                            )}\n                          </div>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Live Log */}\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {searchLogs.length > 0 && (\n                      <button className={styles.logClear} onClick={() => clearLog(\"search\")}>Rensa</button>\n                    )}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {searchLogs.length === 0 ? (\n                      <div className={styles.logEmpty}>Sök efter ett bolag för att se aktivitet</div>\n                    ) : (\n                      searchLogs.map(log => (\n                        <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                          <span className={styles.logTime}>{log.time}</span>\n                          <span className={styles.logMsg}>{log.message}</span>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Batch View - Search all watched companies */}\n            {currentView === \"batch\" && (\n              <div className={styles.view}>\n                <div className={styles.statsGrid}>\n                  <div className={styles.statCard}>\n                    <Building2 className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Bevakade</div>\n                      <div className={styles.statValue}>{watchedCompanies.length || \"...\"}</div>\n                    </div>\n                  </div>\n                  <div className={styles.statCard}>\n                    <Clock className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Senaste</div>\n                      <div className={styles.statValue}>{lastRun}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className={styles.actionRow}>\n                  <button\n                    className={`${styles.btn} ${isRunning ? styles.btnDanger : styles.btnSuccess}`}\n                    onClick={startRun}\n                    style={{ flex: 1 }}\n                  >\n                    {isRunning ? <><Square className=\"w-3.5 h-3.5\" />Stoppa</> : <><Play className=\"w-3.5 h-3.5\" />Starta sökning</>}\n                  </button>\n                </div>\n\n                {batchProgress > 0 && (\n                  <div className={styles.progress}>\n                    <div className={styles.progressBar}>\n                      <div className={styles.progressFill} style={{ width: `${batchProgress}%` }} />\n                    </div>\n                  </div>\n                )}\n\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {batchLogs.length > 0 && <button className={styles.logClear} onClick={() => clearLog(\"batch\")}>Rensa</button>}\n                  </div>\n                  <div className={styles.logContent}>\n                    {batchLogs.length === 0 ? (\n                      <div className={styles.logEmpty}>Starta sökning för att se aktivitet</div>\n                    ) : batchLogs.map(log => (\n                      <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                        <span className={styles.logTime}>{log.time}</span>\n                        <span className={styles.logMsg}>{log.message}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Status View */}\n            {currentView === \"status\" && (\n              <div className={styles.view}>\n                <div className={styles.statsGrid}>\n                  <div className={styles.statCard}>\n                    <Activity className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>API</div>\n                      <div className={`${styles.statValue} ${styles.statValueOnline}`}>Ansluten</div>\n                    </div>\n                  </div>\n                  <div className={styles.statCard}>\n                    <Building2 className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Bevakade</div>\n                      <div className={styles.statValue}>{watchedCompanies.length}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className={styles.actionRow}>\n                  <button className={`${styles.btn} ${styles.btnGhost}`} onClick={testConnection}>\n                    Testa anslutning\n                  </button>\n                </div>\n\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {statusLogs.length > 0 && <button className={styles.logClear} onClick={() => clearLog(\"status\")}>Rensa</button>}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {statusLogs.length === 0 ? (\n                      <div className={styles.logEmpty}>Starta en körning för att se aktivitet</div>\n                    ) : statusLogs.map(log => (\n                      <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                        <span className={styles.logTime}>{log.time}</span>\n                        <span className={styles.logMsg}>{log.message}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { Database, RefreshCw, Clock, CheckCircle, ChevronRight, ChevronLeft, X, Play, Square, Activity, Building2, AlertTriangle, Check, Search } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useClickOutside } from \"@/hooks/use-click-outside\";\nimport styles from \"./widget-styles.module.css\";\n\ntype WidgetState = \"button\" | \"menu\" | \"expanded\";\ntype ViewType = \"search\" | \"enrich\" | \"status\";\ntype StatusType = \"online\" | \"working\" | \"offline\";\n\ninterface SearchResult {\n  orgNr: string;\n  name: string;\n  status?: string;\n  location?: string;\n}\n\ninterface RecentSearch {\n  orgNr: string;\n  name: string;\n  timestamp: number;\n}\n\ninterface LogEntry {\n  id: string;\n  time: string;\n  message: string;\n  type: \"info\" | \"success\" | \"warning\" | \"error\" | \"step\";\n}\n\ninterface EnrichStats {\n  total: number;\n  enriched: number;\n  failed: number;\n  skipped: number;\n}\n\ninterface WatchedCompany {\n  id: string;\n  orgNumber: string;\n  name: string;\n}\n\nexport function EnrichDataWidget() {\n  const router = useRouter();\n  const [state, setState] = useState<WidgetState>(\"button\");\n  const [currentView, setCurrentView] = useState<ViewType>(\"search\");\n  const [status, setStatus] = useState<StatusType>(\"online\");\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [expandedVisible, setExpandedVisible] = useState(false);\n\n  // Search state\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState<SearchResult[]>([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [recentSearches, setRecentSearches] = useState<RecentSearch[]>([]);\n  const searchTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Enrich state\n  const [isEnriching, setIsEnriching] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [logs, setLogs] = useState<LogEntry[]>([]);\n  const [stats, setStats] = useState<EnrichStats>({ total: 0, enriched: 0, failed: 0, skipped: 0 });\n  const [lastRun, setLastRun] = useState(\"--:--\");\n\n  // Company selection state (13)\n  const [companies, setCompanies] = useState<WatchedCompany[]>([]);\n  const [selectedCompanyIds, setSelectedCompanyIds] = useState<Set<string>>(new Set());\n  const [loadingCompanies, setLoadingCompanies] = useState(false);\n\n  // Confirmation dialog state (9)\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n\n  // Rate limiting state (20)\n  const [rateLimited, setRateLimited] = useState(false);\n  const [retryAfter, setRetryAfter] = useState<number | null>(null);\n\n  // Global loading state for button (8)\n  const [isGloballyBusy, setIsGloballyBusy] = useState(false);\n\n  const logIdRef = useRef(0);\n  const logContainerRef = useRef<HTMLDivElement>(null);\n  const abortControllerRef = useRef<AbortController | null>(null);\n  const widgetRef = useRef<HTMLDivElement>(null);\n\n  // Click outside to close menu/expanded (7)\n  useClickOutside(widgetRef, () => {\n    if (state === \"menu\") closeMenu();\n    if (state === \"expanded\") closeAll();\n  }, state !== \"button\");\n\n  const addLog = useCallback((message: string, type: LogEntry[\"type\"] = \"info\") => {\n    const time = new Date().toLocaleTimeString(\"sv-SE\", { hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\" });\n    const entry: LogEntry = {\n      id: `log-${++logIdRef.current}`,\n      time,\n      message,\n      type,\n    };\n    setLogs(prev => [...prev.slice(-100), entry]);\n  }, []);\n\n  // Auto-scroll logs\n  useEffect(() => {\n    if (logContainerRef.current) {\n      logContainerRef.current.scrollTop = logContainerRef.current.scrollHeight;\n    }\n  }, [logs]);\n\n  // Update global busy state\n  useEffect(() => {\n    setIsGloballyBusy(isEnriching || isSearching);\n  }, [isEnriching, isSearching]);\n\n  // Load recent searches from localStorage\n  useEffect(() => {\n    try {\n      const saved = localStorage.getItem(\"allabolag-recent-searches\");\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        setRecentSearches(parsed.slice(0, 5));\n      }\n    } catch {\n      // Ignore\n    }\n  }, []);\n\n  const saveRecentSearch = (orgNr: string, name: string) => {\n    const newSearch: RecentSearch = { orgNr, name, timestamp: Date.now() };\n    setRecentSearches(prev => {\n      const filtered = prev.filter(s => s.orgNr !== orgNr);\n      const updated = [newSearch, ...filtered].slice(0, 5);\n      try {\n        localStorage.setItem(\"allabolag-recent-searches\", JSON.stringify(updated));\n      } catch {\n        // Ignore\n      }\n      return updated;\n    });\n  };\n\n  // Search functionality\n  const doSearch = useCallback(async (query: string, retryCount = 0) => {\n    if (!query.trim() || query.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n\n    setIsSearching(true);\n    setStatus(\"working\");\n    addLog(`Söker: \"${query}\"...`, \"step\");\n\n    try {\n      const response = await fetch(`/api/bolag/search?q=${encodeURIComponent(query.trim())}`);\n\n      if (!response.ok) {\n        throw new Error(`API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.results && data.results.length > 0) {\n        setSearchResults(data.results.slice(0, 8));\n        addLog(`Hittade ${data.results.length} bolag`, \"success\");\n      } else {\n        setSearchResults([]);\n        addLog(\"Inga bolag hittades\", \"warning\");\n      }\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : \"Okänt fel\";\n\n      if (retryCount < 2) {\n        addLog(`Fel: ${errorMsg}. Försöker igen...`, \"warning\");\n        await new Promise(r => setTimeout(r, 1000));\n        return doSearch(query, retryCount + 1);\n      }\n\n      addLog(`Fel: ${errorMsg}`, \"error\");\n      setSearchResults([]);\n    }\n\n    setStatus(\"online\");\n    setIsSearching(false);\n  }, [addLog]);\n\n  const handleSearchInput = (value: string) => {\n    setSearchQuery(value);\n\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n\n    if (value.length >= 2) {\n      searchTimeoutRef.current = setTimeout(() => {\n        doSearch(value);\n      }, 300);\n    } else {\n      setSearchResults([]);\n    }\n  };\n\n  const selectCompany = (result: SearchResult) => {\n    saveRecentSearch(result.orgNr, result.name);\n    addLog(`Öppnar: ${result.name}`, \"success\");\n    closeAll();\n    router.push(`/bolag/${result.orgNr}`);\n  };\n\n  const openRecent = (recent: RecentSearch) => {\n    saveRecentSearch(recent.orgNr, recent.name);\n    closeAll();\n    router.push(`/bolag/${recent.orgNr}`);\n  };\n\n  // Fetch companies on mount and when expanded\n  const fetchCompanies = useCallback(async () => {\n    setLoadingCompanies(true);\n    try {\n      const response = await fetch(\"/api/bevakning\");\n      if (response.ok) {\n        const data = await response.json();\n        const companyList = data.companies || [];\n        setCompanies(companyList);\n        // Select all by default\n        setSelectedCompanyIds(new Set(companyList.map((c: WatchedCompany) => c.id)));\n      }\n    } catch {\n      // Ignore errors\n    }\n    setLoadingCompanies(false);\n  }, []);\n\n  // Load data when expanded\n  useEffect(() => {\n    if (state === \"expanded\") {\n      if (currentView === \"enrich\") {\n        fetchCompanies();\n      }\n    }\n  }, [state, currentView, fetchCompanies]);\n\n  const clearLogs = () => setLogs([]);\n\n  const openMenu = () => {\n    setState(\"menu\");\n    setTimeout(() => setMenuVisible(true), 10);\n  };\n\n  const closeMenu = () => {\n    setMenuVisible(false);\n    setTimeout(() => setState(\"button\"), 250);\n  };\n\n  const openExpanded = (view: ViewType) => {\n    setMenuVisible(false);\n    setCurrentView(view);\n    setTimeout(() => {\n      setState(\"expanded\");\n      setTimeout(() => setExpandedVisible(true), 10);\n    }, 180);\n    setStatus(\"online\");\n  };\n\n  const backToMenu = () => {\n    setExpandedVisible(false);\n    setTimeout(() => {\n      setState(\"menu\");\n      setTimeout(() => setMenuVisible(true), 10);\n    }, 220);\n  };\n\n  const closeAll = () => {\n    setExpandedVisible(false);\n    setTimeout(() => setState(\"button\"), 220);\n  };\n\n  // Company selection handlers (13)\n  const toggleCompany = (id: string) => {\n    setSelectedCompanyIds(prev => {\n      const newSet = new Set(prev);\n      if (newSet.has(id)) {\n        newSet.delete(id);\n      } else {\n        newSet.add(id);\n      }\n      return newSet;\n    });\n  };\n\n  const selectAllCompanies = () => {\n    setSelectedCompanyIds(new Set(companies.map(c => c.id)));\n  };\n\n  const deselectAllCompanies = () => {\n    setSelectedCompanyIds(new Set());\n  };\n\n  // Confirmation dialog (9)\n  const handleStartEnrichment = () => {\n    if (isEnriching) {\n      // Stop enrichment\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n      }\n      setIsEnriching(false);\n      setStatus(\"online\");\n      addLog(\"Avbruten av användare\", \"warning\");\n      return;\n    }\n\n    if (selectedCompanyIds.size === 0) {\n      addLog(\"Inga bolag valda\", \"warning\");\n      return;\n    }\n\n    // Show confirmation dialog\n    setShowConfirmDialog(true);\n  };\n\n  const confirmEnrichment = () => {\n    setShowConfirmDialog(false);\n    startEnrichment();\n  };\n\n  // Enrichment with retry logic (18)\n  const startEnrichment = async (retryCount = 0) => {\n    setIsEnriching(true);\n    setStatus(\"working\");\n    setProgress(0);\n    setStats({ total: 0, enriched: 0, failed: 0, skipped: 0 });\n    setRateLimited(false);\n    setRetryAfter(null);\n\n    const selectedCompanies = companies.filter(c => selectedCompanyIds.has(c.id));\n    addLog(`Startar berikning av ${selectedCompanies.length} bolag...`, \"step\");\n\n    try {\n      abortControllerRef.current = new AbortController();\n\n      const response = await fetch(\"/api/bevakning/enrich/stream\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          batchSize: 50,\n          companyIds: Array.from(selectedCompanyIds),\n        }),\n        signal: abortControllerRef.current.signal,\n      });\n\n      // Rate limiting check (20)\n      if (response.status === 429) {\n        const retryAfterHeader = response.headers.get(\"Retry-After\");\n        const waitTime = retryAfterHeader ? parseInt(retryAfterHeader, 10) : 60;\n        setRateLimited(true);\n        setRetryAfter(waitTime);\n        addLog(`Rate limited. Vänta ${waitTime} sekunder...`, \"warning\");\n\n        // Auto-retry after wait (18)\n        if (retryCount < 2) {\n          await sleep(waitTime * 1000);\n          setRateLimited(false);\n          return startEnrichment(retryCount + 1);\n        }\n\n        setIsEnriching(false);\n        setStatus(\"online\");\n        return;\n      }\n\n      if (!response.ok) {\n        throw new Error(`API error: ${response.status}`);\n      }\n\n      const reader = response.body?.getReader();\n      if (!reader) throw new Error(\"No response body\");\n\n      const decoder = new TextDecoder();\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        const chunk = decoder.decode(value);\n        const lines = chunk.split(\"\\n\").filter(Boolean);\n\n        for (const line of lines) {\n          if (line.startsWith(\"data: \")) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              handleStreamEvent(data);\n            } catch {\n              // Ignore parse errors\n            }\n          }\n        }\n      }\n\n      setLastRun(new Date().toLocaleTimeString(\"sv-SE\", { hour: \"2-digit\", minute: \"2-digit\" }));\n      addLog(\"Berikning slutförd\", \"success\");\n    } catch (error) {\n      if (error instanceof Error && error.name === \"AbortError\") {\n        // Already logged\n      } else {\n        const errorMsg = error instanceof Error ? error.message : \"Okänt fel\";\n\n        // Retry logic (18)\n        if (retryCount < 2) {\n          addLog(`Fel: ${errorMsg}. Försöker igen...`, \"warning\");\n          await sleep(1000);\n          return startEnrichment(retryCount + 1);\n        }\n\n        addLog(`Fel: ${errorMsg}`, \"error\");\n      }\n    }\n\n    setIsEnriching(false);\n    setStatus(\"online\");\n    abortControllerRef.current = null;\n    setTimeout(() => setProgress(0), 1000);\n  };\n\n  const handleStreamEvent = (data: {\n    type: string;\n    message?: string;\n    company?: string;\n    progress?: number;\n    total?: number;\n    enriched?: number;\n    failed?: number;\n    skipped?: number;\n  }) => {\n    switch (data.type) {\n      case \"start\":\n        addLog(data.message || \"Startar...\", \"step\");\n        if (data.total) {\n          setStats(prev => ({ ...prev, total: data.total! }));\n        }\n        break;\n      case \"progress\":\n        if (data.progress !== undefined) {\n          setProgress(data.progress);\n        }\n        if (data.company) {\n          addLog(`Bearbetar: ${data.company}`, \"info\");\n        }\n        break;\n      case \"success\":\n        addLog(data.message || `${data.company}: OK`, \"success\");\n        setStats(prev => ({ ...prev, enriched: prev.enriched + 1 }));\n        break;\n      case \"skip\":\n        addLog(data.message || `${data.company}: Hoppades över`, \"info\");\n        setStats(prev => ({ ...prev, skipped: prev.skipped + 1 }));\n        break;\n      case \"warning\":\n        addLog(data.message || \"Varning\", \"warning\");\n        break;\n      case \"error\":\n        addLog(data.message || `${data.company}: Misslyckades`, \"error\");\n        setStats(prev => ({ ...prev, failed: prev.failed + 1 }));\n        break;\n      case \"complete\":\n        if (data.enriched !== undefined) {\n          setStats({\n            total: data.total || 0,\n            enriched: data.enriched || 0,\n            failed: data.failed || 0,\n            skipped: data.skipped || 0,\n          });\n        }\n        setProgress(100);\n        break;\n    }\n  };\n\n  const sleep = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n  const testConnection = async () => {\n    addLog(\"Testar anslutning...\", \"step\");\n    setStatus(\"working\");\n\n    try {\n      const response = await fetch(\"/api/health\");\n      if (response.ok) {\n        const data = await response.json();\n        addLog(\"API: OK\", \"success\");\n        addLog(`Databas: ${data.database === \"connected\" ? \"OK\" : \"Fel\"}`, data.database === \"connected\" ? \"success\" : \"error\");\n        addLog(\"Anslutning verifierad\", \"success\");\n      } else {\n        addLog(\"Anslutning misslyckades\", \"error\");\n      }\n    } catch {\n      addLog(\"Kunde inte nå servern\", \"error\");\n    }\n\n    setStatus(\"online\");\n  };\n\n  const viewTitles = { search: \"Sök bolag\", enrich: \"Berika bolag\", status: \"Status\" };\n\n  return (\n    <div className={styles.widget} ref={widgetRef}>\n      {/* Confirmation Dialog (9) */}\n      {showConfirmDialog && (\n        <div className={styles.confirmOverlay} onClick={() => setShowConfirmDialog(false)}>\n          <div className={styles.confirmDialog} onClick={e => e.stopPropagation()}>\n            <div className={styles.confirmTitle}>Bekräfta berikning</div>\n            <div className={styles.confirmMessage}>\n              Du håller på att berika {selectedCompanyIds.size} bolag med data från Allabolag.\n              Detta kan ta några minuter beroende på antalet bolag.\n            </div>\n            <div className={styles.confirmActions}>\n              <button className={`${styles.btn} ${styles.btnGhost}`} onClick={() => setShowConfirmDialog(false)}>\n                Avbryt\n              </button>\n              <button className={`${styles.btn} ${styles.btnPrimaryBlue}`} onClick={confirmEnrichment}>\n                Starta berikning\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* STATE 1: Button */}\n      {state === \"button\" && (\n        <button\n          className={styles.button}\n          onClick={openMenu}\n          disabled={isGloballyBusy}\n        >\n          <div className={styles.btnLogo}>\n            <img src=\"/logos/allabolag.png\" alt=\"Allabolag\" />\n          </div>\n          <span className={styles.btnSubtitle}>Bolagsdata</span>\n          <ChevronRight className={`${styles.chevron} w-4 h-4`} />\n          {isGloballyBusy && <div className={`${styles.loadingSpinner} ${styles.loadingSpinnerBlue}`} />}\n        </button>\n      )}\n\n      {/* STATE 2: Menu */}\n      {state === \"menu\" && (\n        <div className={`${styles.menu} ${menuVisible ? styles.menuVisible : \"\"}`}>\n          <div className={styles.menuHeader}>\n            <div className={styles.menuTitle}>\n              <div className={`${styles.menuTitleIcon} ${styles.menuTitleIconBlue}`}>\n                <Database className=\"w-3 h-3\" />\n              </div>\n              Berika data\n            </div>\n            <button className={styles.menuClose} onClick={closeMenu}>\n              <X className=\"w-3.5 h-3.5\" />\n            </button>\n          </div>\n          <div className={styles.menuItems}>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"search\")}>\n              <div className={`${styles.menuIcon} ${styles.menuIconBlue}`}><Search className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Sök bolag</div>\n                <div className={styles.menuDesc}>Sök på namn eller org.nr</div>\n              </div>\n            </div>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"enrich\")}>\n              <div className={`${styles.menuIcon} ${styles.menuIconBlue}`}><RefreshCw className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Berika bolag</div>\n                <div className={styles.menuDesc}>\n                  {companies.length > 0 ? `Uppdatera ${companies.length} bolag från Allabolag` : \"Hämta data från Allabolag\"}\n                </div>\n              </div>\n            </div>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"status\")}>\n              <div className={`${styles.menuIcon} ${styles.menuIconBlue}`}><Activity className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Status</div>\n                <div className={styles.menuDesc}>Anslutning och hälsa</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* STATE 3: Expanded */}\n      {state === \"expanded\" && (\n        <div className={`${styles.expanded} ${expandedVisible ? styles.expandedVisible : \"\"}`}>\n          <div className={styles.expandedHeader}>\n            <div className={styles.expandedTitle}>\n              <div className={`${styles.statusDot} ${status === \"online\" ? styles.statusDotOnline : status === \"working\" ? styles.statusDotWorkingBlue : \"\"}`} />\n              <span>{viewTitles[currentView]}</span>\n            </div>\n            <div className={styles.headerActions}>\n              <button className={styles.headerBtn} onClick={backToMenu}><ChevronLeft className=\"w-3.5 h-3.5\" /></button>\n              <button className={styles.headerBtn} onClick={closeAll}><X className=\"w-3.5 h-3.5\" /></button>\n            </div>\n          </div>\n\n          <div className={styles.expandedBody}>\n            {/* Search View */}\n            {currentView === \"search\" && (\n              <div className={styles.view}>\n                {/* Search Input */}\n                <div className={styles.inputGroup}>\n                  <input\n                    type=\"text\"\n                    className={styles.input}\n                    placeholder=\"Företagsnamn eller org.nr...\"\n                    value={searchQuery}\n                    onChange={(e) => handleSearchInput(e.target.value)}\n                    onKeyDown={(e) => e.key === \"Enter\" && doSearch(searchQuery)}\n                    autoFocus\n                  />\n                  <button\n                    className={`${styles.btn} ${styles.btnPrimaryBlue}`}\n                    onClick={() => doSearch(searchQuery)}\n                    disabled={isSearching || searchQuery.length < 2}\n                  >\n                    {isSearching ? \"...\" : \"Sök\"}\n                  </button>\n                </div>\n\n                {/* Search Results */}\n                {searchResults.length > 0 && (\n                  <div className={styles.projects}>\n                    <div className={styles.sectionTitle}>\n                      <Building2 className=\"w-3.5 h-3.5\" />\n                      Resultat ({searchResults.length})\n                    </div>\n                    {searchResults.map((result) => (\n                      <div\n                        key={result.orgNr}\n                        className={styles.project}\n                        onClick={() => selectCompany(result)}\n                      >\n                        <div className={styles.projectHeader}>\n                          <div className={styles.projectTitle}>{result.name}</div>\n                          <div className={styles.projectId}>{result.orgNr}</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Recent Searches (when no search results) */}\n                {searchResults.length === 0 && recentSearches.length > 0 && !searchQuery && (\n                  <div className={styles.projects}>\n                    <div className={styles.sectionTitle}>\n                      <Clock className=\"w-3.5 h-3.5\" />\n                      Senaste sökningar\n                    </div>\n                    {recentSearches.map((recent) => (\n                      <div\n                        key={recent.orgNr}\n                        className={styles.project}\n                        onClick={() => openRecent(recent)}\n                      >\n                        <div className={styles.projectHeader}>\n                          <div className={styles.projectTitle}>{recent.name}</div>\n                          <div className={styles.projectId}>{recent.orgNr}</div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Live Log */}\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {logs.length > 0 && (\n                      <button className={styles.logClear} onClick={clearLogs}>Rensa</button>\n                    )}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {logs.length === 0 ? (\n                      <div className={styles.logEmpty}>Sök efter ett företag för att se aktivitet</div>\n                    ) : (\n                      logs.map(log => (\n                        <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                          <span className={styles.logTime}>{log.time}</span>\n                          <span className={styles.logMsg}>{log.message}</span>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Enrich View */}\n            {currentView === \"enrich\" && (\n              <div className={styles.view}>\n                {/* Rate limit warning (20) */}\n                {rateLimited && (\n                  <div className={styles.rateLimitWarning}>\n                    <AlertTriangle className=\"w-4 h-4\" />\n                    <span>Rate limited. {retryAfter ? `Försöker igen om ${retryAfter}s...` : \"Vänta innan du försöker igen.\"}</span>\n                  </div>\n                )}\n\n                {/* Stats grid */}\n                <div className={styles.statsGrid}>\n                  <div className={styles.statCard}>\n                    <Building2 className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Valda</div>\n                      <div className={styles.statValue}>{selectedCompanyIds.size} / {companies.length}</div>\n                    </div>\n                  </div>\n                  <div className={styles.statCard}>\n                    <CheckCircle className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Berikade</div>\n                      <div className={`${styles.statValue} ${styles.statValueSuccess}`}>{stats.enriched}</div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Company selection (13) */}\n                {!isEnriching && (\n                  <div className={styles.companyFilter}>\n                    <div className={styles.companyFilterHeader}>\n                      <span className={styles.companyFilterTitle}>Välj bolag</span>\n                      <div className={styles.companyFilterActions}>\n                        <button className={styles.companyFilterAction} onClick={selectAllCompanies}>Alla</button>\n                        <button className={styles.companyFilterAction} onClick={deselectAllCompanies}>Inga</button>\n                      </div>\n                    </div>\n                    {loadingCompanies ? (\n                      <div className={styles.logEmpty}>Laddar bolag...</div>\n                    ) : (\n                      <div className={styles.companyList}>\n                        {companies.map(company => (\n                          <div\n                            key={company.id}\n                            className={`${styles.companyItem} ${selectedCompanyIds.has(company.id) ? styles.companyItemSelected : \"\"}`}\n                            onClick={() => toggleCompany(company.id)}\n                          >\n                            <div className={`${styles.companyCheckbox} ${selectedCompanyIds.has(company.id) ? styles.companyCheckboxChecked : \"\"}`}>\n                              {selectedCompanyIds.has(company.id) && <Check className=\"w-3 h-3 text-white\" />}\n                            </div>\n                            <span className={styles.companyName}>{company.name}</span>\n                            <span className={styles.companyOrgNr}>{company.orgNumber}</span>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {/* Action button */}\n                <div className={styles.actionRow}>\n                  <button\n                    className={`${styles.btn} ${isEnriching ? styles.btnDanger : styles.btnPrimaryBlue}`}\n                    onClick={handleStartEnrichment}\n                    style={{ flex: 1 }}\n                    disabled={rateLimited}\n                  >\n                    {isEnriching ? (\n                      <><Square className=\"w-3.5 h-3.5\" />Stoppa</>\n                    ) : (\n                      <><Play className=\"w-3.5 h-3.5\" />Starta berikning</>\n                    )}\n                  </button>\n                </div>\n\n                {/* Progress */}\n                {progress > 0 && (\n                  <div className={`${styles.progress} ${styles.progressWithText}`}>\n                    <div className={styles.progressBar}>\n                      <div className={`${styles.progressFill} ${styles.progressFillBlue}`} style={{ width: `${progress}%` }} />\n                    </div>\n                    <span className={styles.progressText}>{Math.round(progress)}%</span>\n                  </div>\n                )}\n\n                {/* Stats summary when enriching */}\n                {(stats.enriched > 0 || stats.failed > 0 || stats.skipped > 0) && (\n                  <div className={styles.summary}>\n                    <span className={`${styles.summaryItem} ${styles.summaryItemSuccess}`}>{stats.enriched} berikade</span>\n                    {stats.skipped > 0 && <span className={styles.summaryItem}>{stats.skipped} hoppades över</span>}\n                    {stats.failed > 0 && <span className={`${styles.summaryItem} ${styles.summaryItemError}`}>{stats.failed} misslyckades</span>}\n                  </div>\n                )}\n\n                {/* Live Log */}\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {logs.length > 0 && (\n                      <button className={styles.logClear} onClick={clearLogs}>Rensa</button>\n                    )}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {logs.length === 0 ? (\n                      <div className={styles.logEmpty}>Starta berikning för att se aktivitet</div>\n                    ) : (\n                      logs.map(log => (\n                        <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                          <span className={styles.logTime}>{log.time}</span>\n                          <span className={styles.logMsg}>{log.message}</span>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Status View */}\n            {currentView === \"status\" && (\n              <div className={styles.view}>\n                <div className={styles.statsGrid}>\n                  <div className={styles.statCard}>\n                    <Activity className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>API</div>\n                      <div className={`${styles.statValue} ${styles.statValueOnline}`}>Ansluten</div>\n                    </div>\n                  </div>\n                  <div className={styles.statCard}>\n                    <Clock className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Senaste</div>\n                      <div className={styles.statValue}>{lastRun}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className={styles.actionRow}>\n                  <button className={`${styles.btn} ${styles.btnGhost}`} onClick={testConnection}>\n                    Testa anslutning\n                  </button>\n                </div>\n\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {logs.length > 0 && <button className={styles.logClear} onClick={clearLogs}>Rensa</button>}\n                  </div>\n                  <div className={styles.logContent}>\n                    {logs.length === 0 ? (\n                      <div className={styles.logEmpty}>Ingen aktivitet</div>\n                    ) : logs.map(log => (\n                      <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                        <span className={styles.logTime}>{log.time}</span>\n                        <span className={styles.logMsg}>{log.message}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { Search, Image, ChevronRight, ChevronLeft, X, Play, Square, Activity, Building2, Clock, RefreshCw, Download, ExternalLink, Linkedin } from \"lucide-react\";\nimport { useClickOutside } from \"@/hooks/use-click-outside\";\nimport styles from \"./widget-styles.module.css\";\n\ntype WidgetState = \"button\" | \"menu\" | \"expanded\";\ntype ViewType = \"search\" | \"batch\" | \"status\" | \"linkedin\";\ntype StatusType = \"online\" | \"working\" | \"offline\";\n\ninterface LogEntry {\n  id: string;\n  time: string;\n  message: string;\n  type: \"info\" | \"success\" | \"warning\" | \"error\" | \"step\";\n}\n\ninterface LogoFile {\n  url: string;\n  format: string;\n  width?: number;\n  height?: number;\n  type: string;\n}\n\ninterface LogoResult {\n  domain: string;\n  success: boolean;\n  source?: string;\n  files: LogoFile[];\n  error?: string;\n}\n\ninterface WatchedCompany {\n  id: string;\n  orgNumber: string;\n  name: string;\n  domain?: string;\n}\n\ninterface LinkedInCompany {\n  name: string | null;\n  about_us: string | null;\n  website: string | null;\n  headquarters: string | null;\n  founded: string | null;\n  industry: string | null;\n  company_type: string | null;\n  company_size: string | null;\n  specialties: string[] | null;\n  headcount: number | null;\n}\n\ninterface LinkedInResult {\n  success: boolean;\n  company: string;\n  data?: LinkedInCompany;\n  linkedinUrl?: string;\n  error?: string;\n}\n\nexport function MediaWidget() {\n  const [state, setState] = useState<WidgetState>(\"button\");\n  const [currentView, setCurrentView] = useState<ViewType>(\"search\");\n  const [status, setStatus] = useState<StatusType>(\"online\");\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [expandedVisible, setExpandedVisible] = useState(false);\n\n  // Search state\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [logoResult, setLogoResult] = useState<LogoResult | null>(null);\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchLogs, setSearchLogs] = useState<LogEntry[]>([]);\n\n  // Batch state\n  const [batchLogs, setBatchLogs] = useState<LogEntry[]>([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [batchProgress, setBatchProgress] = useState(0);\n  const [lastRun, setLastRun] = useState(\"--:--\");\n  const [watchedCompanies, setWatchedCompanies] = useState<WatchedCompany[]>([]);\n  const [batchResults, setBatchResults] = useState<LogoResult[]>([]);\n\n  // Status state\n  const [statusLogs, setStatusLogs] = useState<LogEntry[]>([]);\n  const [apiStats, setApiStats] = useState<Record<string, { success: number; fail: number }>>({});\n\n  // LinkedIn state\n  const [linkedinQuery, setLinkedinQuery] = useState(\"\");\n  const [linkedinResult, setLinkedinResult] = useState<LinkedInResult | null>(null);\n  const [linkedinLogs, setLinkedinLogs] = useState<LogEntry[]>([]);\n  const [isLinkedinSearching, setIsLinkedinSearching] = useState(false);\n\n  // Global loading state\n  const [isGloballyBusy, setIsGloballyBusy] = useState(false);\n\n  const logIdRef = useRef(0);\n  const logContainerRef = useRef<HTMLDivElement>(null);\n  const widgetRef = useRef<HTMLDivElement>(null);\n  const runningRef = useRef(false);\n\n  // Click outside to close\n  useClickOutside(widgetRef, () => {\n    if (state === \"menu\") closeMenu();\n    if (state === \"expanded\") closeAll();\n  }, state !== \"button\");\n\n  const addLog = useCallback((view: ViewType, message: string, type: LogEntry[\"type\"] = \"info\") => {\n    const time = new Date().toLocaleTimeString(\"sv-SE\", { hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\" });\n    const entry: LogEntry = {\n      id: `log-${++logIdRef.current}`,\n      time,\n      message,\n      type,\n    };\n\n    if (view === \"search\") {\n      setSearchLogs(prev => [...prev.slice(-50), entry]);\n    } else if (view === \"batch\") {\n      setBatchLogs(prev => [...prev.slice(-50), entry]);\n    } else if (view === \"linkedin\") {\n      setLinkedinLogs(prev => [...prev.slice(-50), entry]);\n    } else {\n      setStatusLogs(prev => [...prev.slice(-50), entry]);\n    }\n  }, []);\n\n  // Auto-scroll logs\n  useEffect(() => {\n    if (logContainerRef.current) {\n      logContainerRef.current.scrollTop = logContainerRef.current.scrollHeight;\n    }\n  }, [searchLogs, batchLogs, statusLogs, linkedinLogs]);\n\n  // Fetch watched companies\n  const fetchWatchedCompanies = useCallback(async () => {\n    try {\n      const response = await fetch(\"/api/bevakning\");\n      if (response.ok) {\n        const data = await response.json();\n        setWatchedCompanies(data.companies || []);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch watched companies:\", error);\n    }\n  }, []);\n\n  // Load data when expanded\n  useEffect(() => {\n    if (state === \"expanded\" && currentView === \"batch\") {\n      fetchWatchedCompanies();\n    }\n  }, [state, currentView, fetchWatchedCompanies]);\n\n  // Update global busy state\n  useEffect(() => {\n    setIsGloballyBusy(isSearching || isRunning || isLinkedinSearching);\n  }, [isSearching, isRunning, isLinkedinSearching]);\n\n  const clearLog = (view: ViewType) => {\n    if (view === \"search\") setSearchLogs([]);\n    else if (view === \"batch\") setBatchLogs([]);\n    else if (view === \"linkedin\") setLinkedinLogs([]);\n    else setStatusLogs([]);\n  };\n\n  const openMenu = () => {\n    setState(\"menu\");\n    setTimeout(() => setMenuVisible(true), 10);\n  };\n\n  const closeMenu = () => {\n    setMenuVisible(false);\n    setTimeout(() => setState(\"button\"), 250);\n  };\n\n  const openExpanded = (view: ViewType) => {\n    setMenuVisible(false);\n    setCurrentView(view);\n    setTimeout(() => {\n      setState(\"expanded\");\n      setTimeout(() => setExpandedVisible(true), 10);\n    }, 180);\n    setStatus(\"online\");\n  };\n\n  const backToMenu = () => {\n    setExpandedVisible(false);\n    setTimeout(() => {\n      setState(\"menu\");\n      setTimeout(() => setMenuVisible(true), 10);\n    }, 220);\n  };\n\n  const closeAll = () => {\n    setExpandedVisible(false);\n    setTimeout(() => setState(\"button\"), 220);\n  };\n\n  // Search for logo\n  const doSearch = async (retryCount = 0) => {\n    if (!searchQuery.trim()) return;\n\n    setIsSearching(true);\n    setStatus(\"working\");\n    setLogoResult(null);\n\n    addLog(\"search\", `Söker logo för: \"${searchQuery}\"...`, \"step\");\n\n    try {\n      const response = await fetch(`/api/media/logo?domain=${encodeURIComponent(searchQuery.trim())}&all=true`);\n\n      if (!response.ok) {\n        throw new Error(`API error: ${response.status}`);\n      }\n\n      const data: LogoResult = await response.json();\n\n      if (data.success && data.files.length > 0) {\n        setLogoResult(data);\n        addLog(\"search\", `Hittade ${data.files.length} logotyp(er) via ${data.source}`, \"success\");\n\n        // Log file details\n        for (const file of data.files) {\n          const dims = file.width ? `${file.width}x${file.height}` : \"okänd storlek\";\n          addLog(\"search\", `  ${file.format.toUpperCase()} (${file.type}) - ${dims}`, \"info\");\n        }\n      } else {\n        addLog(\"search\", data.error || \"Ingen logo hittades\", \"warning\");\n      }\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : \"Okänt fel\";\n\n      if (retryCount < 2) {\n        addLog(\"search\", `Fel: ${errorMsg}. Försöker igen...`, \"warning\");\n        await sleep(1000);\n        return doSearch(retryCount + 1);\n      }\n\n      addLog(\"search\", `Fel: ${errorMsg}`, \"error\");\n    }\n\n    setStatus(\"online\");\n    setIsSearching(false);\n  };\n\n  // Batch fetch logos for all watched companies\n  const startBatch = async () => {\n    if (isRunning) {\n      runningRef.current = false;\n      setIsRunning(false);\n      addLog(\"batch\", \"Avbruten av användare\", \"warning\");\n      setStatus(\"online\");\n      setBatchProgress(0);\n      return;\n    }\n\n    // Fetch latest watched companies if not loaded\n    let companies = watchedCompanies;\n    if (companies.length === 0) {\n      addLog(\"batch\", \"Hämtar bevakade bolag...\", \"step\");\n      try {\n        const response = await fetch(\"/api/bevakning\");\n        if (response.ok) {\n          const data = await response.json();\n          companies = data.companies || [];\n          setWatchedCompanies(companies);\n        }\n      } catch {\n        addLog(\"batch\", \"Kunde inte hämta bevakade bolag\", \"error\");\n        return;\n      }\n    }\n\n    if (companies.length === 0) {\n      addLog(\"batch\", \"Inga bevakade bolag att hämta logos för\", \"warning\");\n      return;\n    }\n\n    runningRef.current = true;\n    setIsRunning(true);\n    setBatchResults([]);\n    addLog(\"batch\", `Startar logo-hämtning för ${companies.length} bolag...`, \"step\");\n    setStatus(\"working\");\n    setBatchProgress(0);\n\n    let successCount = 0;\n    const results: LogoResult[] = [];\n    const stats: Record<string, { success: number; fail: number }> = {};\n\n    for (let i = 0; i < companies.length && runningRef.current; i++) {\n      const company = companies[i];\n      const progress = ((i + 1) / companies.length) * 100;\n\n      // Try to derive domain from company name\n      const domain = company.domain || guessDomainFromName(company.name);\n\n      addLog(\"batch\", `Söker: ${company.name} (${domain})...`, \"info\");\n      setBatchProgress(progress - 5);\n\n      try {\n        const response = await fetch(`/api/media/logo?domain=${encodeURIComponent(domain)}`);\n\n        if (!runningRef.current) break;\n\n        if (response.ok) {\n          const data: LogoResult = await response.json();\n          results.push(data);\n\n          if (data.success) {\n            addLog(\"batch\", `${company.name}: OK (${data.source})`, \"success\");\n            successCount++;\n\n            // Update stats\n            const source = data.source || \"unknown\";\n            if (!stats[source]) stats[source] = { success: 0, fail: 0 };\n            stats[source].success++;\n          } else {\n            addLog(\"batch\", `${company.name}: Ingen logo`, \"warning\");\n          }\n        } else {\n          addLog(\"batch\", `${company.name}: API-fel`, \"warning\");\n        }\n      } catch {\n        addLog(\"batch\", `${company.name}: Misslyckades`, \"error\");\n      }\n\n      setBatchProgress(progress);\n\n      // Small delay between requests\n      if (runningRef.current && i < companies.length - 1) {\n        await sleep(300);\n      }\n    }\n\n    if (runningRef.current) {\n      setBatchResults(results);\n      setApiStats(stats);\n      addLog(\"batch\", `Körning slutförd: ${successCount}/${companies.length} logos hämtade`, \"success\");\n      setLastRun(new Date().toLocaleTimeString(\"sv-SE\", { hour: \"2-digit\", minute: \"2-digit\" }));\n    }\n\n    runningRef.current = false;\n    setIsRunning(false);\n    setStatus(\"online\");\n    setTimeout(() => setBatchProgress(0), 1000);\n  };\n\n  // Test API connection\n  const testConnection = async () => {\n    addLog(\"status\", \"Testar API-anslutningar...\", \"step\");\n    setStatus(\"working\");\n\n    const apis = [\n      { name: \"Brandfetch API\", domain: \"google.com\" },\n      { name: \"Unavatar\", domain: \"spotify.com\" },\n      { name: \"Google Favicons\", domain: \"github.com\" },\n    ];\n\n    for (const api of apis) {\n      addLog(\"status\", `Testar ${api.name}...`, \"info\");\n      await sleep(300);\n\n      try {\n        const response = await fetch(`/api/media/logo?domain=${api.domain}`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.success) {\n            addLog(\"status\", `${api.name}: OK (${data.source})`, \"success\");\n          } else {\n            addLog(\"status\", `${api.name}: Ingen logo`, \"warning\");\n          }\n        } else {\n          addLog(\"status\", `${api.name}: Fel (${response.status})`, \"error\");\n        }\n      } catch {\n        addLog(\"status\", `${api.name}: Kunde inte nå`, \"error\");\n      }\n    }\n\n    addLog(\"status\", \"Test slutfört\", \"success\");\n    setStatus(\"online\");\n  };\n\n  const sleep = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n  // LinkedIn company search\n  const doLinkedinSearch = async () => {\n    if (!linkedinQuery.trim()) return;\n\n    setIsLinkedinSearching(true);\n    setStatus(\"working\");\n    setLinkedinResult(null);\n\n    addLog(\"linkedin\", `Söker LinkedIn-profil för: \"${linkedinQuery}\"...`, \"step\");\n\n    try {\n      const response = await fetch(`/api/media/linkedin?company=${encodeURIComponent(linkedinQuery.trim())}`);\n\n      if (!response.ok) {\n        throw new Error(`API error: ${response.status}`);\n      }\n\n      const data: LinkedInResult = await response.json();\n\n      if (data.success && data.data) {\n        setLinkedinResult(data);\n        addLog(\"linkedin\", `Hittade: ${data.data.name || linkedinQuery}`, \"success\");\n\n        if (data.data.industry) {\n          addLog(\"linkedin\", `Bransch: ${data.data.industry}`, \"info\");\n        }\n        if (data.data.company_size) {\n          addLog(\"linkedin\", `Storlek: ${data.data.company_size}`, \"info\");\n        }\n        if (data.data.headquarters) {\n          addLog(\"linkedin\", `HQ: ${data.data.headquarters}`, \"info\");\n        }\n      } else {\n        addLog(\"linkedin\", data.error || \"Ingen LinkedIn-profil hittades\", \"warning\");\n      }\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : \"Okänt fel\";\n      addLog(\"linkedin\", `Fel: ${errorMsg}`, \"error\");\n    }\n\n    setStatus(\"online\");\n    setIsLinkedinSearching(false);\n  };\n\n  // Helper to guess domain from company name\n  const guessDomainFromName = (name: string): string => {\n    // Remove common Swedish company suffixes\n    const domain = name\n      .toLowerCase()\n      .replace(/\\s*(ab|aktiebolag|hb|kb|ek\\.?\\s*för\\.?|ekonomisk förening)\\s*$/i, \"\")\n      .trim()\n      .replace(/\\s+/g, \"\")\n      .replace(/[åä]/g, \"a\")\n      .replace(/ö/g, \"o\")\n      .replace(/[^a-z0-9]/g, \"\");\n\n    return `${domain}.se`;\n  };\n\n  // Download logo\n  const downloadLogo = async (file: LogoFile, domain: string) => {\n    try {\n      const response = await fetch(file.url);\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `${domain.replace(/\\./g, \"_\")}_logo.${file.format}`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n      addLog(\"search\", `Laddade ner ${file.format.toUpperCase()} logo`, \"success\");\n    } catch {\n      addLog(\"search\", \"Kunde inte ladda ner logo\", \"error\");\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      runningRef.current = false;\n    };\n  }, []);\n\n  const viewTitles: Record<ViewType, string> = { search: \"Hämta logo\", batch: \"Batch-hämtning\", status: \"Status\", linkedin: \"LinkedIn\" };\n\n  return (\n    <div className={styles.widget} ref={widgetRef}>\n      {/* STATE 1: Button */}\n      {state === \"button\" && (\n        <button\n          className={styles.button}\n          onClick={openMenu}\n          disabled={isGloballyBusy}\n        >\n          <div className={styles.btnLogo}>\n            <Image className=\"w-8 h-8\" strokeWidth={1.5} />\n          </div>\n          <span className={styles.btnSubtitle}>Media & Logos</span>\n          <ChevronRight className={`${styles.chevron} w-4 h-4`} />\n          {isGloballyBusy && <div className={styles.loadingSpinner} />}\n        </button>\n      )}\n\n      {/* STATE 2: Menu */}\n      {state === \"menu\" && (\n        <div className={`${styles.menu} ${menuVisible ? styles.menuVisible : \"\"}`}>\n          <div className={styles.menuHeader}>\n            <div className={styles.menuTitle}>\n              <div className={`${styles.menuTitleIcon} ${styles.menuTitleIconGreen}`}>\n                <Image className=\"w-3 h-3\" />\n              </div>\n              Media\n            </div>\n            <button className={styles.menuClose} onClick={closeMenu}>\n              <X className=\"w-3.5 h-3.5\" />\n            </button>\n          </div>\n          <div className={styles.menuItems}>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"search\")}>\n              <div className={styles.menuIcon}><Search className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Hämta logo</div>\n                <div className={styles.menuDesc}>Sök på domän eller bolagsnamn</div>\n              </div>\n            </div>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"batch\")}>\n              <div className={styles.menuIcon}><RefreshCw className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Batch-hämtning</div>\n                <div className={styles.menuDesc}>Hämta logos för alla bevakade bolag</div>\n              </div>\n            </div>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"linkedin\")}>\n              <div className={styles.menuIcon}><Linkedin className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>LinkedIn</div>\n                <div className={styles.menuDesc}>Hämta bolagsprofil från LinkedIn</div>\n              </div>\n            </div>\n            <div className={styles.menuItem} onClick={() => openExpanded(\"status\")}>\n              <div className={styles.menuIcon}><Activity className=\"w-4 h-4\" /></div>\n              <div>\n                <div className={styles.menuLabel}>Status</div>\n                <div className={styles.menuDesc}>API-status och statistik</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* STATE 3: Expanded */}\n      {state === \"expanded\" && (\n        <div className={`${styles.expanded} ${expandedVisible ? styles.expandedVisible : \"\"}`}>\n          <div className={styles.expandedHeader}>\n            <div className={styles.expandedTitle}>\n              <div className={`${styles.statusDot} ${status === \"online\" ? styles.statusDotOnline : status === \"working\" ? styles.statusDotWorking : \"\"}`} />\n              <span>{viewTitles[currentView]}</span>\n            </div>\n            <div className={styles.headerActions}>\n              <button className={styles.headerBtn} onClick={backToMenu}><ChevronLeft className=\"w-3.5 h-3.5\" /></button>\n              <button className={styles.headerBtn} onClick={closeAll}><X className=\"w-3.5 h-3.5\" /></button>\n            </div>\n          </div>\n\n          <div className={styles.expandedBody}>\n            {/* Search View */}\n            {currentView === \"search\" && (\n              <div className={styles.view}>\n                <div className={styles.inputGroup}>\n                  <input\n                    type=\"text\"\n                    className={styles.input}\n                    placeholder=\"Domän (t.ex. volvo.com)...\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    onKeyDown={(e) => e.key === \"Enter\" && doSearch()}\n                    autoFocus\n                  />\n                  <button className={`${styles.btn} ${styles.btnPrimary}`} onClick={() => doSearch()} disabled={isSearching}>\n                    {isSearching ? \"...\" : \"Sök\"}\n                  </button>\n                </div>\n\n                {/* Logo Preview */}\n                {logoResult && logoResult.success && logoResult.files.length > 0 && (\n                  <div className={styles.projects}>\n                    <div className={styles.sectionTitle}>\n                      <Image className=\"w-3.5 h-3.5\" />\n                      Resultat ({logoResult.files.length})\n                    </div>\n                    <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"8px\", marginBottom: \"12px\" }}>\n                      {logoResult.files.slice(0, 4).map((file, idx) => (\n                        <div\n                          key={idx}\n                          style={{\n                            background: \"var(--widget-surface)\",\n                            borderRadius: \"8px\",\n                            padding: \"12px\",\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            alignItems: \"center\",\n                            gap: \"8px\",\n                            flex: \"1 1 calc(50% - 4px)\",\n                            minWidth: \"120px\",\n                          }}\n                        >\n                          <div style={{\n                            width: \"80px\",\n                            height: \"60px\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                            background: \"white\",\n                            borderRadius: \"4px\",\n                            padding: \"8px\",\n                          }}>\n                            <img\n                              src={file.url}\n                              alt={`Logo ${file.type}`}\n                              style={{ maxWidth: \"100%\", maxHeight: \"100%\", objectFit: \"contain\" }}\n                              onError={(e) => {\n                                (e.target as HTMLImageElement).style.display = \"none\";\n                              }}\n                            />\n                          </div>\n                          <div style={{ fontSize: \"10px\", color: \"var(--widget-text-dim)\", textAlign: \"center\" }}>\n                            {file.format.toUpperCase()} {file.width ? `(${file.width}px)` : \"\"}\n                          </div>\n                          <div style={{ display: \"flex\", gap: \"4px\" }}>\n                            <button\n                              className={`${styles.btn} ${styles.btnGhost}`}\n                              style={{ padding: \"4px 8px\", fontSize: \"10px\" }}\n                              onClick={() => downloadLogo(file, logoResult.domain)}\n                            >\n                              <Download className=\"w-3 h-3\" />\n                            </button>\n                            <a\n                              href={file.url}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className={`${styles.btn} ${styles.btnGhost}`}\n                              style={{ padding: \"4px 8px\", fontSize: \"10px\" }}\n                            >\n                              <ExternalLink className=\"w-3 h-3\" />\n                            </a>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Live Log */}\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {searchLogs.length > 0 && (\n                      <button className={styles.logClear} onClick={() => clearLog(\"search\")}>Rensa</button>\n                    )}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {searchLogs.length === 0 ? (\n                      <div className={styles.logEmpty}>Sök efter en domän för att hämta logo</div>\n                    ) : (\n                      searchLogs.map(log => (\n                        <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                          <span className={styles.logTime}>{log.time}</span>\n                          <span className={styles.logMsg}>{log.message}</span>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Batch View */}\n            {currentView === \"batch\" && (\n              <div className={styles.view}>\n                <div className={styles.statsGrid}>\n                  <div className={styles.statCard}>\n                    <Building2 className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Bevakade</div>\n                      <div className={styles.statValue}>{watchedCompanies.length || \"...\"}</div>\n                    </div>\n                  </div>\n                  <div className={styles.statCard}>\n                    <Clock className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Senaste</div>\n                      <div className={styles.statValue}>{lastRun}</div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className={styles.actionRow}>\n                  <button\n                    className={`${styles.btn} ${isRunning ? styles.btnDanger : styles.btnSuccess}`}\n                    onClick={startBatch}\n                    style={{ flex: 1 }}\n                  >\n                    {isRunning ? <><Square className=\"w-3.5 h-3.5\" />Stoppa</> : <><Play className=\"w-3.5 h-3.5\" />Starta hämtning</>}\n                  </button>\n                </div>\n\n                {batchProgress > 0 && (\n                  <div className={styles.progress}>\n                    <div className={styles.progressBar}>\n                      <div className={styles.progressFill} style={{ width: `${batchProgress}%` }} />\n                    </div>\n                  </div>\n                )}\n\n                {/* Results summary */}\n                {batchResults.length > 0 && !isRunning && (\n                  <div className={styles.summary}>\n                    <span className={`${styles.summaryItem} ${styles.summaryItemSuccess}`}>\n                      {batchResults.filter(r => r.success).length} hämtade\n                    </span>\n                    <span className={styles.summaryItem}>\n                      {batchResults.filter(r => !r.success).length} missade\n                    </span>\n                  </div>\n                )}\n\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {batchLogs.length > 0 && <button className={styles.logClear} onClick={() => clearLog(\"batch\")}>Rensa</button>}\n                  </div>\n                  <div className={styles.logContent}>\n                    {batchLogs.length === 0 ? (\n                      <div className={styles.logEmpty}>Starta hämtning för att se aktivitet</div>\n                    ) : batchLogs.map(log => (\n                      <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                        <span className={styles.logTime}>{log.time}</span>\n                        <span className={styles.logMsg}>{log.message}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* LinkedIn View */}\n            {currentView === \"linkedin\" && (\n              <div className={styles.view}>\n                <div className={styles.inputGroup}>\n                  <input\n                    type=\"text\"\n                    className={styles.input}\n                    placeholder=\"Bolagsnamn (t.ex. volvo, klarna)...\"\n                    value={linkedinQuery}\n                    onChange={(e) => setLinkedinQuery(e.target.value)}\n                    onKeyDown={(e) => e.key === \"Enter\" && doLinkedinSearch()}\n                    autoFocus\n                  />\n                  <button className={`${styles.btn} ${styles.btnPrimary}`} onClick={doLinkedinSearch} disabled={isLinkedinSearching}>\n                    {isLinkedinSearching ? \"...\" : \"Sök\"}\n                  </button>\n                </div>\n\n                {/* LinkedIn Result */}\n                {linkedinResult && linkedinResult.success && linkedinResult.data && (\n                  <div className={styles.projects}>\n                    <div className={styles.sectionTitle}>\n                      <Linkedin className=\"w-3.5 h-3.5\" />\n                      {linkedinResult.data.name || linkedinResult.company}\n                    </div>\n                    <div style={{ background: \"var(--widget-surface)\", borderRadius: \"8px\", padding: \"12px\", marginBottom: \"12px\" }}>\n                      {linkedinResult.data.about_us && (\n                        <p style={{ fontSize: \"12px\", color: \"var(--widget-text)\", lineHeight: \"1.5\", marginBottom: \"12px\" }}>\n                          {linkedinResult.data.about_us.length > 200\n                            ? linkedinResult.data.about_us.slice(0, 200) + \"...\"\n                            : linkedinResult.data.about_us}\n                        </p>\n                      )}\n                      <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: \"8px\", fontSize: \"11px\" }}>\n                        {linkedinResult.data.industry && (\n                          <div>\n                            <span style={{ color: \"var(--widget-text-dim)\" }}>Bransch:</span>{\" \"}\n                            <span style={{ color: \"var(--widget-text)\" }}>{linkedinResult.data.industry}</span>\n                          </div>\n                        )}\n                        {linkedinResult.data.company_size && (\n                          <div>\n                            <span style={{ color: \"var(--widget-text-dim)\" }}>Storlek:</span>{\" \"}\n                            <span style={{ color: \"var(--widget-text)\" }}>{linkedinResult.data.company_size}</span>\n                          </div>\n                        )}\n                        {linkedinResult.data.headquarters && (\n                          <div>\n                            <span style={{ color: \"var(--widget-text-dim)\" }}>HQ:</span>{\" \"}\n                            <span style={{ color: \"var(--widget-text)\" }}>{linkedinResult.data.headquarters}</span>\n                          </div>\n                        )}\n                        {linkedinResult.data.founded && (\n                          <div>\n                            <span style={{ color: \"var(--widget-text-dim)\" }}>Grundat:</span>{\" \"}\n                            <span style={{ color: \"var(--widget-text)\" }}>{linkedinResult.data.founded}</span>\n                          </div>\n                        )}\n                        {linkedinResult.data.headcount && (\n                          <div>\n                            <span style={{ color: \"var(--widget-text-dim)\" }}>Anställda:</span>{\" \"}\n                            <span style={{ color: \"var(--widget-text)\" }}>{linkedinResult.data.headcount.toLocaleString()}</span>\n                          </div>\n                        )}\n                        {linkedinResult.data.website && (\n                          <div>\n                            <span style={{ color: \"var(--widget-text-dim)\" }}>Webb:</span>{\" \"}\n                            <a href={linkedinResult.data.website} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: \"var(--widget-accent)\" }}>\n                              {linkedinResult.data.website.replace(/^https?:\\/\\//, \"\")}\n                            </a>\n                          </div>\n                        )}\n                      </div>\n                      {linkedinResult.data.specialties && linkedinResult.data.specialties.length > 0 && (\n                        <div style={{ marginTop: \"8px\", display: \"flex\", flexWrap: \"wrap\", gap: \"4px\" }}>\n                          {linkedinResult.data.specialties.slice(0, 5).map((spec, idx) => (\n                            <span key={idx} style={{\n                              background: \"var(--widget-bg)\",\n                              padding: \"2px 6px\",\n                              borderRadius: \"4px\",\n                              fontSize: \"10px\",\n                              color: \"var(--widget-text-dim)\"\n                            }}>\n                              {spec}\n                            </span>\n                          ))}\n                        </div>\n                      )}\n                      {linkedinResult.linkedinUrl && (\n                        <div style={{ marginTop: \"12px\" }}>\n                          <a\n                            href={linkedinResult.linkedinUrl}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className={`${styles.btn} ${styles.btnGhost}`}\n                            style={{ fontSize: \"11px\" }}\n                          >\n                            <ExternalLink className=\"w-3 h-3\" />\n                            Öppna på LinkedIn\n                          </a>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                {/* Live Log */}\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {linkedinLogs.length > 0 && (\n                      <button className={styles.logClear} onClick={() => clearLog(\"linkedin\")}>Rensa</button>\n                    )}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {linkedinLogs.length === 0 ? (\n                      <div className={styles.logEmpty}>Sök efter ett bolag för att hämta LinkedIn-profil</div>\n                    ) : (\n                      linkedinLogs.map(log => (\n                        <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                          <span className={styles.logTime}>{log.time}</span>\n                          <span className={styles.logMsg}>{log.message}</span>\n                        </div>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Status View */}\n            {currentView === \"status\" && (\n              <div className={styles.view}>\n                <div className={styles.statsGrid}>\n                  <div className={styles.statCard}>\n                    <Activity className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>API</div>\n                      <div className={`${styles.statValue} ${styles.statValueOnline}`}>6 källor</div>\n                    </div>\n                  </div>\n                  <div className={styles.statCard}>\n                    <Image className=\"w-4 h-4\" />\n                    <div className={styles.statContent}>\n                      <div className={styles.statLabel}>Format</div>\n                      <div className={styles.statValue}>SVG, PNG</div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* API sources list */}\n                <div className={styles.projects} style={{ marginBottom: \"12px\" }}>\n                  <div className={styles.sectionTitle}>\n                    <Activity className=\"w-3.5 h-3.5\" />\n                    API-källor (prioritetsordning)\n                  </div>\n                  {[\n                    { name: \"Brandfetch API\", desc: \"SVG/PNG, flera storlekar\" },\n                    { name: \"Brandfetch CDN\", desc: \"Snabb, en fil\" },\n                    { name: \"Unavatar\", desc: \"Aggregerar källor\" },\n                    { name: \"Google Favicons\", desc: \"128px ikoner\" },\n                    { name: \"DuckDuckGo\", desc: \"ICO-ikoner\" },\n                    { name: \"Logo.dev\", desc: \"Backup\" },\n                  ].map((api, idx) => (\n                    <div key={idx} className={styles.project} style={{ cursor: \"default\" }}>\n                      <div className={styles.projectHeader}>\n                        <div className={styles.projectTitle}>{idx + 1}. {api.name}</div>\n                        <div className={styles.projectId}>{api.desc}</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <div className={styles.actionRow}>\n                  <button className={`${styles.btn} ${styles.btnGhost}`} onClick={testConnection}>\n                    Testa anslutningar\n                  </button>\n                </div>\n\n                <div className={styles.logPanel}>\n                  <div className={styles.logHeader}>\n                    <span className={styles.logTitle}>Aktivitet</span>\n                    {statusLogs.length > 0 && <button className={styles.logClear} onClick={() => clearLog(\"status\")}>Rensa</button>}\n                  </div>\n                  <div className={styles.logContent} ref={logContainerRef}>\n                    {statusLogs.length === 0 ? (\n                      <div className={styles.logEmpty}>Testa anslutningar för att se status</div>\n                    ) : statusLogs.map(log => (\n                      <div key={log.id} className={`${styles.logLine} ${log.type === \"success\" ? styles.logLineSuccess : log.type === \"warning\" ? styles.logLineWarning : log.type === \"error\" ? styles.logLineError : log.type === \"step\" ? styles.logLineStep : styles.logLineInfo}`}>\n                        <span className={styles.logTime}>{log.time}</span>\n                        <span className={styles.logMsg}>{log.message}</span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { Card, CardContent, CardDescription, CardHeader } from \"@/components/ui/card\";\nimport { FavoritesList } from \"@/components/bolag/favorites-list\";\nimport { SearchHistory, useSearchHistory } from \"@/components/bolag/search-history\";\nimport { SearchAutocomplete } from \"@/components/ui/search-autocomplete\";\nimport { BolagsverketWidget } from \"@/components/bolag/bolagsverket-widget\";\nimport { VinnovaWidget } from \"@/components/bolag/vinnova-widget\";\nimport { EnrichDataWidget } from \"@/components/bolag/enrich-data-widget\";\nimport { MediaWidget } from \"@/components/bolag/media-widget\";\nimport { Building2, FileText, Lightbulb, Image, Search, Database, TrendingUp } from \"lucide-react\";\n\nexport default function Home() {\n  const { history, addToHistory, clearHistory } = useSearchHistory();\n\n  return (\n    <main className=\"min-h-screen bg-background text-foreground\">\n      <div className=\"page-wrapper page-content\">\n        {/* Hero Header */}\n        <header className=\"page-header text-center max-w-2xl mx-auto\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white mb-6 shadow-lg\">\n            <Building2 className=\"w-8 h-8\" />\n          </div>\n          <h1 className=\"page-title\">Bolagsinfo</h1>\n          <p className=\"page-subtitle\">\n            Utforska svenska bolag med data från flera officiella källor\n          </p>\n        </header>\n\n        {/* Search Section */}\n        <div className=\"max-w-2xl mx-auto\">\n          <Card className=\"shadow-lg border-2 border-border/50 hover:border-blue-200 dark:hover:border-blue-800/50 transition-colors\">\n            <CardHeader className=\"text-center pb-2\">\n              <div className=\"inline-flex items-center justify-center gap-2 text-muted-foreground mb-2\">\n                <Search className=\"w-4 h-4\" />\n                <span className=\"text-xs font-medium uppercase tracking-wider\">Sök företag</span>\n              </div>\n              <CardDescription className=\"text-base\">\n                Sök på företagsnamn eller organisationsnummer\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"pt-0\">\n              <SearchAutocomplete\n                placeholder=\"T.ex. Spotify eller 556703-7485...\"\n                recentSearches={history}\n                onSelectResult={(result) => addToHistory(result.orgNr, result.name)}\n              />\n\n              {/* Search History */}\n              <div className=\"mt-4\">\n                <SearchHistory history={history} onClear={clearHistory} />\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Tool Widgets - Improved Grid */}\n          <div className=\"mt-8\">\n            <h2 className=\"text-section mb-4 flex items-center gap-2\">\n              <Database className=\"w-4 h-4 text-muted-foreground\" />\n              Verktyg\n            </h2>\n            <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\n              <BolagsverketWidget />\n              <VinnovaWidget />\n              <EnrichDataWidget />\n              <MediaWidget />\n            </div>\n          </div>\n\n          {/* Favorites */}\n          <div className=\"mt-8\">\n            <FavoritesList />\n          </div>\n        </div>\n\n        {/* Data Sources - Enhanced Design */}\n        <div className=\"mt-16\">\n          <div className=\"text-center mb-8\">\n            <h2 className=\"section-title mb-2\">Datakällor</h2>\n            <p className=\"text-sm text-muted-foreground\">\n              Information aggregeras från flera officiella källor\n            </p>\n          </div>\n\n          <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4 max-w-4xl mx-auto\">\n            <div className=\"source-card group\">\n              <div className=\"flex items-center gap-3 mb-3\">\n                <div className=\"w-10 h-10 rounded-lg bg-emerald-500/10 dark:bg-emerald-500/20 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                  <FileText className=\"w-5 h-5 text-emerald-600 dark:text-emerald-400\" />\n                </div>\n                <h3 className=\"font-semibold text-foreground\">Bolagsverket</h3>\n              </div>\n              <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                Officiell registreringsinformation, styrelse och kungörelser\n              </p>\n            </div>\n\n            <div className=\"source-card group\">\n              <div className=\"flex items-center gap-3 mb-3\">\n                <div className=\"w-10 h-10 rounded-lg bg-orange-500/10 dark:bg-orange-500/20 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                  <TrendingUp className=\"w-5 h-5 text-orange-600 dark:text-orange-400\" />\n                </div>\n                <h3 className=\"font-semibold text-foreground\">Allabolag</h3>\n              </div>\n              <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                Bokslut, nyckeltal, ägare och befattningshavare\n              </p>\n            </div>\n\n            <div className=\"source-card group\">\n              <div className=\"flex items-center gap-3 mb-3\">\n                <div className=\"w-10 h-10 rounded-lg bg-green-500/10 dark:bg-green-500/20 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                  <Lightbulb className=\"w-5 h-5 text-green-600 dark:text-green-400\" />\n                </div>\n                <h3 className=\"font-semibold text-foreground\">Vinnova</h3>\n              </div>\n              <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                Innovationsbidrag och forskningsprojekt\n              </p>\n            </div>\n\n            <div className=\"source-card group\">\n              <div className=\"flex items-center gap-3 mb-3\">\n                <div className=\"w-10 h-10 rounded-lg bg-purple-500/10 dark:bg-purple-500/20 flex items-center justify-center group-hover:scale-110 transition-transform\">\n                  <Image className=\"w-5 h-5 text-purple-600 dark:text-purple-400\" />\n                </div>\n                <h3 className=\"font-semibold text-foreground\">Media</h3>\n              </div>\n              <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                Logotyper och varumärken via 6 API-källor\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Footer */}\n        <div className=\"mt-16 pt-8 border-t border-border\">\n          <div className=\"flex flex-wrap justify-center gap-8 text-center\">\n            <div>\n              <p className=\"text-2xl font-bold text-foreground font-mono\">1.2M+</p>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">Registrerade bolag</p>\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground font-mono\">4</p>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">Datakällor</p>\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground font-mono\">Realtid</p>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">Uppdateringar</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { useSession } from \"next-auth/react\";\nimport Link from \"next/link\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { type Favorite, getLocalFavorites } from \"./favorite-button\";\n\nconst FAVORITES_KEY = \"bolagsinfo_favorites\";\n\nexport function FavoritesList() {\n  const { data: session, status } = useSession();\n  const [favorites, setFavorites] = useState<Favorite[]>([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const hasSyncedRef = useRef(false);\n\n  useEffect(() => {\n    const loadFavorites = async () => {\n      // First load from localStorage\n      const localFavorites = getLocalFavorites();\n      setFavorites(localFavorites);\n\n      // Then try to fetch from database if logged in\n      if (status === \"authenticated\" && session?.user && !hasSyncedRef.current) {\n        try {\n          const res = await fetch(\"/api/bolag/favorites\");\n          if (res.ok) {\n            const data = await res.json();\n            if (data.favorites) {\n              setFavorites(data.favorites);\n              // Sync localStorage with database\n              saveLocalFavorites(data.favorites);\n              hasSyncedRef.current = true;\n            }\n          }\n        } catch {\n          // Use localStorage value\n        }\n      }\n\n      setIsLoaded(true);\n    };\n\n    loadFavorites();\n  }, [session?.user, status]);\n\n  // Sync localStorage to database on first login\n  useEffect(() => {\n    const syncToDatabase = async () => {\n      if (status !== \"authenticated\" || !session?.user || hasSyncedRef.current) return;\n\n      const localFavorites = getLocalFavorites();\n      if (localFavorites.length === 0) return;\n\n      // Check if database already has favorites\n      try {\n        const res = await fetch(\"/api/bolag/favorites\");\n        if (res.ok) {\n          const data = await res.json();\n          if (data.favorites && data.favorites.length > 0) {\n            // Database already has favorites, use those\n            return;\n          }\n        }\n\n        // Sync localStorage favorites to database\n        for (const fav of localFavorites) {\n          await fetch(\"/api/bolag/favorites\", {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ orgNumber: fav.orgNumber, name: fav.name }),\n          });\n        }\n      } catch {\n        // Ignore sync errors\n      }\n    };\n\n    syncToDatabase();\n  }, [session?.user, status]);\n\n  if (!isLoaded || favorites.length === 0) {\n    return null;\n  }\n\n  const formatOrgNr = (orgNr: string) => {\n    const clean = orgNr.replace(/\\D/g, \"\");\n    if (clean.length === 10) {\n      return `${clean.slice(0, 6)}-${clean.slice(6)}`;\n    }\n    return orgNr;\n  };\n\n  return (\n    <Card>\n      <CardHeader className=\"pb-3\">\n        <CardTitle className=\"text-lg\">Bevakade bolag</CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-2\">\n          {favorites.map((fav) => (\n            <Link\n              key={fav.orgNumber}\n              href={`/bolag/${fav.orgNumber}`}\n              className=\"block p-2 rounded hover:bg-secondary dark:hover:bg-gray-800 transition-colors\"\n            >\n              <p className=\"font-medium text-sm\">{fav.name}</p>\n              <p className=\"text-xs text-muted-foreground\">{formatOrgNr(fav.orgNumber)}</p>\n            </Link>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction saveLocalFavorites(favorites: Favorite[]) {\n  if (typeof window === \"undefined\") return;\n\n  try {\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\n  } catch {\n    // Ignore storage errors\n  }\n}\n","import { useEffect, RefObject } from \"react\";\n\n/**\n * Hook that triggers a callback when clicking outside of the referenced element\n */\nexport function useClickOutside<T extends HTMLElement>(\n  ref: RefObject<T | null>,\n  callback: () => void,\n  enabled: boolean = true\n) {\n  useEffect(() => {\n    if (!enabled) return;\n\n    function handleClickOutside(event: MouseEvent) {\n      if (ref.current && !ref.current.contains(event.target as Node)) {\n        callback();\n      }\n    }\n\n    // Add event listener with a small delay to prevent immediate triggering\n    const timeoutId = setTimeout(() => {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    }, 10);\n\n    return () => {\n      clearTimeout(timeoutId);\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [ref, callback, enabled]);\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n];\n\n/**\n * @component @name Square\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Square = createLucideIcon('square', __iconNode);\n\nexport default Square;\n"],"names":[],"mappings":"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","ignoreList":[10]}}]
}