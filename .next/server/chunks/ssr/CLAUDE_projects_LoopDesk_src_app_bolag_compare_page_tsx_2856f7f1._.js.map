{
  "version": 3,
  "sources": [],
  "debugId": "060af00d-96b4-82ef-f2ed-861adbb5b21e",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../../../../CLAUDE/projects/LoopDesk/src/app/bolag/compare/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, Suspense, useMemo } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Breadcrumbs } from \"@/components/bolag/breadcrumbs\";\nimport {\n  Building2,\n  Scale,\n  TrendingUp,\n  TrendingDown,\n  Minus,\n  ArrowRight,\n  Users,\n  Calendar,\n  MapPin,\n  BarChart3,\n  Trophy,\n  Target,\n  Zap,\n} from \"lucide-react\";\nimport type { CompanyData } from \"@/lib/bolag\";\n\n// Color palette for companies in charts\nconst COMPANY_COLORS = [\n  { bg: \"bg-blue-500\", text: \"text-blue-600\", hex: \"#3b82f6\", light: \"bg-blue-100 dark:bg-blue-900/30\" },\n  { bg: \"bg-emerald-500\", text: \"text-emerald-600\", hex: \"#10b981\", light: \"bg-emerald-100 dark:bg-emerald-900/30\" },\n  { bg: \"bg-purple-500\", text: \"text-purple-600\", hex: \"#8b5cf6\", light: \"bg-purple-100 dark:bg-purple-900/30\" },\n];\n\n// Radar chart component for visual comparison\nfunction RadarChart({ companies, metrics }: { companies: CompanyData[]; metrics: { label: string; getValue: (d: CompanyData) => number | undefined }[] }) {\n  const size = 280;\n  const center = size / 2;\n  const radius = 100;\n  const levels = 5;\n\n  // Normalize values to 0-100 scale\n  const normalizedData = useMemo(() => {\n    return metrics.map((metric) => {\n      const values = companies.map((c) => metric.getValue(c) ?? 0);\n      const max = Math.max(...values, 1);\n      const min = Math.min(...values.filter((v) => v !== 0), 0);\n      return {\n        label: metric.label,\n        values: values.map((v) => ((v - min) / (max - min || 1)) * 100),\n        rawValues: values,\n      };\n    });\n  }, [companies, metrics]);\n\n  const angleStep = (Math.PI * 2) / metrics.length;\n\n  const getPoint = (angle: number, distance: number) => ({\n    x: center + Math.cos(angle - Math.PI / 2) * distance,\n    y: center + Math.sin(angle - Math.PI / 2) * distance,\n  });\n\n  return (\n    <div className=\"flex justify-center\">\n      <svg width={size} height={size} className=\"overflow-visible\">\n        {/* Background circles */}\n        {Array.from({ length: levels }).map((_, i) => (\n          <circle\n            key={`level-${i}`}\n            cx={center}\n            cy={center}\n            r={(radius / levels) * (i + 1)}\n            fill=\"none\"\n            stroke=\"currentColor\"\n            strokeOpacity={0.1}\n            className=\"text-muted-foreground\"\n          />\n        ))}\n\n        {/* Axis lines and labels */}\n        {metrics.map((metric, i) => {\n          const angle = angleStep * i;\n          const labelPoint = getPoint(angle, radius + 40);\n\n          return (\n            <g key={`axis-${metric.label}`}>\n              <line\n                x1={center}\n                y1={center}\n                x2={getPoint(angle, radius).x}\n                y2={getPoint(angle, radius).y}\n                stroke=\"currentColor\"\n                strokeOpacity={0.2}\n                className=\"text-muted-foreground\"\n              />\n              <text\n                x={labelPoint.x}\n                y={labelPoint.y}\n                textAnchor=\"middle\"\n                dominantBaseline=\"middle\"\n                className=\"fill-muted-foreground text-[10px]\"\n              >\n                {metric.label}\n              </text>\n            </g>\n          );\n        })}\n\n        {/* Company polygons */}\n        {companies.map((company, companyIdx) => {\n          const points = normalizedData.map((data, metricIdx) => {\n            const angle = angleStep * metricIdx;\n            const value = (data.values[companyIdx] / 100) * radius;\n            return getPoint(angle, value);\n          });\n\n          const pathD = points.map((p, i) => `${i === 0 ? \"M\" : \"L\"} ${p.x} ${p.y}`).join(\" \") + \" Z\";\n\n          return (\n            <g key={company.basic.orgNr}>\n              <path\n                d={pathD}\n                fill={COMPANY_COLORS[companyIdx].hex}\n                fillOpacity={0.15}\n                stroke={COMPANY_COLORS[companyIdx].hex}\n                strokeWidth={2}\n                strokeLinejoin=\"round\"\n              />\n              {points.map((p, i) => (\n                <circle\n                  key={`point-${company.basic.orgNr}-${i}`}\n                  cx={p.x}\n                  cy={p.y}\n                  r={4}\n                  fill={COMPANY_COLORS[companyIdx].hex}\n                />\n              ))}\n            </g>\n          );\n        })}\n      </svg>\n    </div>\n  );\n}\n\n// Bar comparison chart\nfunction BarComparisonChart({ companies, label, values }: { companies: CompanyData[]; label: string; values: number[] }) {\n  const max = Math.max(...values.filter((v) => !isNaN(v)), 1);\n\n  return (\n    <div className=\"space-y-2\">\n      <p className=\"text-xs font-medium text-muted-foreground\">{label}</p>\n      <div className=\"space-y-1.5\">\n        {companies.map((company, i) => {\n          const value = values[i];\n          const width = isNaN(value) ? 0 : (Math.abs(value) / max) * 100;\n          const isNegative = value < 0;\n\n          return (\n            <div key={company.basic.orgNr} className=\"flex items-center gap-2\">\n              <div className=\"w-16 text-xs text-muted-foreground truncate\">\n                {company.basic.name.slice(0, 8)}...\n              </div>\n              <div className=\"flex-1 h-6 bg-secondary rounded-full overflow-hidden relative\">\n                <div\n                  className={`absolute h-full rounded-full transition-all duration-500 ${\n                    isNegative ? \"bg-red-500\" : COMPANY_COLORS[i].bg\n                  }`}\n                  style={{ width: `${width}%` }}\n                />\n                <div className=\"absolute inset-0 flex items-center justify-end pr-2\">\n                  <span className={`text-xs font-medium ${width > 50 ? \"text-white\" : \"text-foreground\"}`}>\n                    {isNaN(value) ? \"-\" : value.toLocaleString(\"sv-SE\")}\n                  </span>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n// Helper functions outside component to avoid hook dependency issues\nconst formatAmount = (value: string | number | undefined): string => {\n  if (!value) return \"-\";\n  let num: number;\n  if (typeof value === \"number\") {\n    num = value;\n  } else {\n    num = parseInt(value.replace(/\\D/g, \"\"), 10);\n  }\n  if (isNaN(num)) return String(value);\n  if (Math.abs(num) >= 1000) return `${(num / 1000).toFixed(0)} MSEK`;\n  return `${num} TSEK`;\n};\n\nconst formatOrgNr = (orgNr: string) => {\n  const clean = orgNr.replace(/\\D/g, \"\");\n  if (clean.length === 10) return `${clean.slice(0, 6)}-${clean.slice(6)}`;\n  return orgNr;\n};\n\nconst getKeyFigure = (data: CompanyData, key: string): number | undefined => {\n  const kf = data.financials?.keyFigures;\n  if (!kf) return undefined;\n  return kf[key as keyof typeof kf] as number | undefined;\n};\n\nconst getNumericValue = (value: string | number | undefined): number => {\n  if (value === undefined || value === null) return 0;\n  if (typeof value === \"number\") return value;\n  const num = parseFloat(value.replace(/[^\\d.-]/g, \"\"));\n  return isNaN(num) ? 0 : num;\n};\n\nconst getEmployeesNumeric = (d: CompanyData): number => {\n  const emp = d.financials?.employees;\n  if (typeof emp === 'number') return emp;\n  if (typeof emp === 'string') {\n    const num = parseInt(emp, 10);\n    return isNaN(num) ? 0 : num;\n  }\n  return 0;\n};\n\nconst findBest = (values: (number | undefined)[]): number => {\n  const valid = values.filter((v): v is number => v !== undefined);\n  if (valid.length === 0) return -1;\n  return values.indexOf(Math.max(...valid));\n};\n\nfunction CompareContent() {\n  const searchParams = useSearchParams();\n  const companiesParam = searchParams.get(\"companies\");\n  const [companies, setCompanies] = useState<CompanyData[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [viewMode, setViewMode] = useState<\"table\" | \"visual\">(\"visual\");\n\n  // Define metrics array with useMemo to avoid recreation every render\n  const metrics = useMemo(() => [\n    { label: \"Oms√§ttning\", key: \"revenue\", getValue: (d: CompanyData) => formatAmount(d.financials?.revenue), getNumeric: (d: CompanyData) => getNumericValue(d.financials?.revenue), unit: \"TSEK\" },\n    { label: \"Resultat\", key: \"profit\", getValue: (d: CompanyData) => formatAmount(d.financials?.profit), getNumeric: (d: CompanyData) => getNumericValue(d.financials?.profit), unit: \"TSEK\" },\n    { label: \"Anst√§llda\", key: \"employees\", getValue: (d: CompanyData) => d.financials?.employees?.toString() || \"-\", getNumeric: (d: CompanyData) => getEmployeesNumeric(d), unit: \"st\" },\n    { label: \"EBITDA\", key: \"ebitda\", getValue: (d: CompanyData) => { const v = getKeyFigure(d, \"ebitda\"); return v ? `${(v / 1000).toFixed(0)} MSEK` : \"-\"; }, getNumeric: (d: CompanyData) => getKeyFigure(d, \"ebitda\") ?? 0, unit: \"TSEK\" },\n    { label: \"Avkastning EK\", key: \"returnOnEquity\", getValue: (d: CompanyData) => { const v = getKeyFigure(d, \"returnOnEquity\"); return v ? `${v.toFixed(1)}%` : \"-\"; }, getNumeric: (d: CompanyData) => getKeyFigure(d, \"returnOnEquity\") ?? 0, unit: \"%\" },\n    { label: \"Tillv√§xt\", key: \"growthRate\", getValue: (d: CompanyData) => { const v = getKeyFigure(d, \"growthRate\"); return v ? `${v >= 0 ? \"+\" : \"\"}${v.toFixed(1)}%` : \"-\"; }, getNumeric: (d: CompanyData) => getKeyFigure(d, \"growthRate\") ?? 0, unit: \"%\" },\n    { label: \"Soliditet\", key: \"solidityRatio\", getValue: (d: CompanyData) => { const v = getKeyFigure(d, \"solidityRatio\"); return v ? `${v.toFixed(1)}%` : \"-\"; }, getNumeric: (d: CompanyData) => getKeyFigure(d, \"solidityRatio\") ?? 0, unit: \"%\" },\n  ], []);\n\n  const radarMetrics: { label: string; getValue: (d: CompanyData) => number | undefined }[] = useMemo(() => [\n    { label: \"Oms√§ttning\", getValue: (d: CompanyData) => getNumericValue(d.financials?.revenue) },\n    { label: \"Resultat\", getValue: (d: CompanyData) => getNumericValue(d.financials?.profit) },\n    { label: \"Anst√§llda\", getValue: (d: CompanyData) => getEmployeesNumeric(d) },\n    { label: \"Avkastning\", getValue: (d: CompanyData) => getKeyFigure(d, \"returnOnEquity\") ?? 0 },\n    { label: \"Tillv√§xt\", getValue: (d: CompanyData) => getKeyFigure(d, \"growthRate\") ?? 0 },\n  ], []);\n\n  // Calculate winners for each metric\n  const winners = useMemo(() => {\n    if (companies.length === 0) return {};\n    const result: { [key: string]: number } = {};\n    metrics.forEach((metric) => {\n      const values: (number | undefined)[] = companies.map((c) => metric.getNumeric(c));\n      const maxIdx = findBest(values);\n      if (maxIdx >= 0) {\n        result[metric.key] = maxIdx;\n      }\n    });\n    return result;\n  }, [companies, metrics]);\n\n  // Count wins per company\n  const winsPerCompany = useMemo(() => {\n    if (companies.length === 0) return [];\n    const counts: number[] = companies.map(() => 0);\n    Object.values(winners).forEach((idx) => {\n      if (idx >= 0 && idx < counts.length) {\n        counts[idx]++;\n      }\n    });\n    return counts;\n  }, [winners, companies]);\n\n  useEffect(() => {\n    const fetchCompanies = async () => {\n      if (!companiesParam) return;\n\n      const orgNrs = companiesParam.split(\",\").slice(0, 3);\n      setLoading(true);\n\n      const results = await Promise.all(\n        orgNrs.map(async (orgNr) => {\n          try {\n            const res = await fetch(`/api/bolag/company/${orgNr}`);\n            if (res.ok) return res.json();\n            return null;\n          } catch {\n            return null;\n          }\n        })\n      );\n\n      setCompanies(results.filter(Boolean));\n      setLoading(false);\n    };\n\n    fetchCompanies();\n  }, [companiesParam]);\n\n  const infoFields = [\n    { label: \"Grundat\", icon: Calendar, getValue: (d: CompanyData) => d.basic.foundationYear || \"-\" },\n    { label: \"Bransch\", icon: Building2, getValue: (d: CompanyData) => d.industries?.[0]?.name || \"-\" },\n    { label: \"Ort\", icon: MapPin, getValue: (d: CompanyData) => d.location?.municipality || d.domicile?.municipality || \"-\" },\n    { label: \"VD\", icon: Users, getValue: (d: CompanyData) => d.people?.ceo?.name || \"-\" },\n  ];\n\n  const getTrendIcon = (current: number | undefined, isProfit: boolean = false) => {\n    if (current === undefined) return <Minus className=\"w-3 h-3 text-muted-foreground\" />;\n    if (isProfit && current < 0) return <TrendingDown className=\"w-3 h-3 text-red-500\" />;\n    return <TrendingUp className=\"w-3 h-3 text-emerald-500\" />;\n  };\n\n  if (!companiesParam) {\n    return (\n      <Card className=\"border-dashed\">\n        <CardContent className=\"py-16 text-center\">\n          <div className=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-secondary mb-4\">\n            <Scale className=\"w-8 h-8 text-muted-foreground\" />\n          </div>\n          <h3 className=\"text-lg font-semibold mb-2\">Inga f√∂retag valda</h3>\n          <p className=\"text-muted-foreground mb-6 max-w-md mx-auto\">\n            V√§lj upp till 3 f√∂retag att j√§mf√∂ra genom att klicka p√• j√§mf√∂relseknappen p√• bolagssidan.\n          </p>\n          <Link href=\"/bolag\">\n            <Button className=\"gap-2\">\n              <Building2 className=\"w-4 h-4\" />\n              S√∂k f√∂retag\n            </Button>\n          </Link>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"grid gap-4 md:grid-cols-3\">\n          {[1, 2, 3].map((n) => (\n            <Card key={`compare-skeleton-${n}`}>\n              <CardContent className=\"p-6\">\n                <Skeleton className=\"h-6 w-40 mb-2\" />\n                <Skeleton className=\"h-4 w-24 mb-4\" />\n                <div className=\"space-y-3\">\n                  <Skeleton className=\"h-4 w-full\" />\n                  <Skeleton className=\"h-4 w-full\" />\n                  <Skeleton className=\"h-4 w-3/4\" />\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n        <Skeleton className=\"h-96\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* View Mode Toggle */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant={viewMode === \"visual\" ? \"default\" : \"outline\"}\n            size=\"sm\"\n            onClick={() => setViewMode(\"visual\")}\n            className=\"gap-2\"\n          >\n            <BarChart3 className=\"w-4 h-4\" />\n            Visuell\n          </Button>\n          <Button\n            variant={viewMode === \"table\" ? \"default\" : \"outline\"}\n            size=\"sm\"\n            onClick={() => setViewMode(\"table\")}\n            className=\"gap-2\"\n          >\n            <Scale className=\"w-4 h-4\" />\n            Tabell\n          </Button>\n        </div>\n\n        {/* Legend */}\n        <div className=\"flex items-center gap-3\">\n          {companies.map((company, i) => (\n            <div key={company.basic.orgNr} className=\"flex items-center gap-1.5\">\n              <div className={`w-3 h-3 rounded-full ${COMPANY_COLORS[i].bg}`} />\n              <span className=\"text-xs text-muted-foreground truncate max-w-[100px]\">\n                {company.basic.name}\n              </span>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Company Headers with Win Counts */}\n      <div className=\"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\">\n        {companies.map((company, i) => (\n          <Card\n            key={company.basic.orgNr}\n            className={`group transition-all ${COMPANY_COLORS[i].light} border-2 ${\n              winsPerCompany[i] === Math.max(...winsPerCompany)\n                ? \"border-amber-400 dark:border-amber-500\"\n                : \"border-transparent\"\n            }`}\n          >\n            <CardHeader className=\"pb-3\">\n              <div className=\"flex items-start justify-between gap-2\">\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-2 mb-1\">\n                    <div className={`w-3 h-3 rounded-full ${COMPANY_COLORS[i].bg}`} />\n                    <Link href={`/bolag/${company.basic.orgNr}`} className=\"group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors\">\n                      <CardTitle className=\"text-lg truncate\">{company.basic.name}</CardTitle>\n                    </Link>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground font-mono\">{formatOrgNr(company.basic.orgNr)}</p>\n                </div>\n                <div className=\"flex flex-col items-end gap-1\">\n                  <Badge\n                    variant={company.basic.status.active ? \"default\" : \"secondary\"}\n                    className={company.basic.status.active ? \"bg-emerald-500/90 hover:bg-emerald-500 shrink-0\" : \"shrink-0\"}\n                  >\n                    {company.basic.status.active ? \"Aktiv\" : company.basic.status.status}\n                  </Badge>\n                  {winsPerCompany[i] > 0 && (\n                    <div className=\"flex items-center gap-1 text-amber-600 dark:text-amber-400\">\n                      <Trophy className=\"w-3.5 h-3.5\" />\n                      <span className=\"text-xs font-medium\">{winsPerCompany[i]} vinster</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Quick info */}\n              <div className=\"mt-3 pt-3 border-t border-border/50 space-y-1.5\">\n                {infoFields.slice(0, 3).map((field) => {\n                  const Icon = field.icon;\n                  return (\n                    <div key={field.label} className=\"flex items-center gap-2 text-sm\">\n                      <Icon className=\"w-3.5 h-3.5 text-muted-foreground shrink-0\" />\n                      <span className=\"text-muted-foreground\">{field.label}:</span>\n                      <span className=\"font-medium text-foreground truncate\">{field.getValue(company)}</span>\n                    </div>\n                  );\n                })}\n              </div>\n\n              {/* Link to full profile */}\n              <Link\n                href={`/bolag/${company.basic.orgNr}`}\n                className=\"mt-3 inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\"\n              >\n                Visa fullst√§ndig profil\n                <ArrowRight className=\"w-3 h-3\" />\n              </Link>\n            </CardHeader>\n          </Card>\n        ))}\n      </div>\n\n      {viewMode === \"visual\" ? (\n        <>\n          {/* Radar Chart */}\n          <Card>\n            <CardHeader className=\"border-b border-border\">\n              <div className=\"flex items-center gap-2\">\n                <Target className=\"w-5 h-5 text-muted-foreground\" />\n                <CardTitle>√ñvergripande j√§mf√∂relse</CardTitle>\n              </div>\n              <p className=\"text-sm text-muted-foreground mt-1\">\n                Visualisering av relativa styrkor inom olika omr√•den\n              </p>\n            </CardHeader>\n            <CardContent className=\"py-6\">\n              <RadarChart companies={companies} metrics={radarMetrics} />\n            </CardContent>\n          </Card>\n\n          {/* Bar Charts Grid */}\n          <div className=\"grid gap-6 md:grid-cols-2\">\n            {metrics.slice(0, 6).map((metric) => (\n              <Card key={metric.key}>\n                <CardContent className=\"p-4\">\n                  <BarComparisonChart\n                    companies={companies}\n                    label={metric.label}\n                    values={companies.map((c) => metric.getNumeric(c) ?? 0)}\n                  />\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </>\n      ) : (\n        /* Table View */\n        <Card>\n          <CardHeader className=\"border-b border-border\">\n            <div className=\"flex items-center gap-2\">\n              <Scale className=\"w-5 h-5 text-muted-foreground\" />\n              <CardTitle>Nyckeltalsj√§mf√∂relse</CardTitle>\n            </div>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"financial-table w-full\">\n                <thead>\n                  <tr>\n                    <th className=\"w-40\">Nyckeltal</th>\n                    {companies.map((c, i) => (\n                      <th key={c.basic.orgNr}>\n                        <div className=\"flex items-center justify-end gap-2\">\n                          <div className={`w-2 h-2 rounded-full ${COMPANY_COLORS[i].bg}`} />\n                          <span className=\"hidden sm:inline\">{c.basic.name.length > 20 ? `${c.basic.name.slice(0, 20)}...` : c.basic.name}</span>\n                          <span className=\"sm:hidden\">{c.basic.name.length > 10 ? `${c.basic.name.slice(0, 10)}...` : c.basic.name}</span>\n                        </div>\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody>\n                  {metrics.map((metric) => {\n                    const values: (number | undefined)[] = companies.map((c) => metric.getNumeric(c));\n                    const bestIdx = findBest(values);\n\n                    return (\n                      <tr key={metric.label}>\n                        <td className=\"font-medium\">{metric.label}</td>\n                        {companies.map((c, i) => {\n                          const value = metric.getValue(c);\n                          const numericValue = values[i] ?? 0;\n                          const isBest = bestIdx === i && numericValue !== 0;\n                          const isNegative = value.startsWith(\"-\") || value.startsWith(\"‚àí\");\n\n                          return (\n                            <td\n                              key={c.basic.orgNr}\n                              className={`${\n                                isBest ? \"text-emerald-600 dark:text-emerald-400 font-semibold\" :\n                                isNegative ? \"text-red-600 dark:text-red-400\" : \"\"\n                              }`}\n                            >\n                              <div className=\"flex items-center justify-end gap-1.5\">\n                                {metric.key === \"profit\" && numericValue !== 0 && getTrendIcon(numericValue, true)}\n                                {metric.key === \"growthRate\" && numericValue !== 0 && getTrendIcon(numericValue)}\n                                {value}\n                                {isBest && <span className=\"text-xs ml-1\">üèÜ</span>}\n                              </div>\n                            </td>\n                          );\n                        })}\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Summary Card */}\n      <Card className=\"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 border-indigo-200 dark:border-indigo-800\">\n        <CardContent className=\"p-6\">\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Zap className=\"w-5 h-5 text-indigo-600 dark:text-indigo-400\" />\n            <h3 className=\"font-semibold text-foreground\">Sammanfattning</h3>\n          </div>\n          <div className=\"grid gap-4 sm:grid-cols-3\">\n            {companies.map((company, i) => {\n              const winningMetrics = Object.entries(winners)\n                .filter(([_, idx]) => idx === i)\n                .map(([key]) => metrics.find((m) => m.key === key)?.label || key);\n\n              return (\n                <div key={company.basic.orgNr} className=\"p-4 rounded-lg bg-white/60 dark:bg-gray-800/60\">\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    <div className={`w-3 h-3 rounded-full ${COMPANY_COLORS[i].bg}`} />\n                    <span className=\"font-medium text-sm truncate\">{company.basic.name}</span>\n                  </div>\n                  {winningMetrics.length > 0 ? (\n                    <div className=\"flex flex-wrap gap-1\">\n                      {winningMetrics.map((metric) => (\n                        <Badge key={metric} variant=\"secondary\" className=\"text-xs bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300\">\n                          üèÜ {metric}\n                        </Badge>\n                      ))}\n                    </div>\n                  ) : (\n                    <span className=\"text-xs text-muted-foreground\">Inga toppnoteringar</span>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Status Comparison */}\n      <Card>\n        <CardHeader className=\"border-b border-border\">\n          <CardTitle className=\"text-lg\">Status & Flaggor</CardTitle>\n        </CardHeader>\n        <CardContent className=\"pt-6\">\n          <div className=\"grid gap-6\" style={{ gridTemplateColumns: `repeat(${companies.length}, 1fr)` }}>\n            {companies.map((company, i) => (\n              <div key={company.basic.orgNr} className=\"space-y-3\">\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <div className={`w-2 h-2 rounded-full ${COMPANY_COLORS[i].bg}`} />\n                  <p className=\"text-sm font-medium text-muted-foreground truncate\">{company.basic.name}</p>\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  {company.flags?.paymentRemarks && (\n                    <Badge variant=\"destructive\" className=\"gap-1\">\n                      <span className=\"w-1.5 h-1.5 rounded-full bg-current\" />\n                      Betalningsanm√§rkningar\n                    </Badge>\n                  )}\n                  {company.flags?.gaselle && (\n                    <Badge className=\"bg-gradient-to-r from-amber-400 to-yellow-500 text-white border-0\">\n                      ‚≠ê Gasellf√∂retag\n                    </Badge>\n                  )}\n                  {company.flags?.vatRegistered && (\n                    <Badge variant=\"outline\" className=\"text-emerald-600 border-emerald-300 dark:text-emerald-400 dark:border-emerald-700\">\n                      Momsregistrerad\n                    </Badge>\n                  )}\n                  {company.flags?.registeredForPayrollTax && (\n                    <Badge variant=\"outline\">Arbetsgivaravgift</Badge>\n                  )}\n                  {company.flags?.mortgages && (\n                    <Badge variant=\"secondary\" className=\"text-amber-700 dark:text-amber-400\">\n                      F√∂retagsinteckningar\n                    </Badge>\n                  )}\n                  {!company.flags?.paymentRemarks && !company.flags?.gaselle && !company.flags?.vatRegistered && !company.flags?.registeredForPayrollTax && !company.flags?.mortgages && (\n                    <span className=\"text-sm text-muted-foreground/70 italic\">Inga s√§rskilda flaggor</span>\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Back link */}\n      <div className=\"flex justify-center pt-4\">\n        <Link href=\"/bolag\">\n          <Button variant=\"outline\" className=\"gap-2\">\n            <Building2 className=\"w-4 h-4\" />\n            S√∂k fler f√∂retag\n          </Button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n\nexport default function ComparePage() {\n  return (\n    <main className=\"min-h-screen bg-background text-foreground\">\n      <div className=\"page-wrapper page-content max-w-6xl\">\n        <Breadcrumbs\n          items={[\n            { label: \"Hem\", href: \"/\" },\n            { label: \"Bolag\", href: \"/bolag\" },\n            { label: \"J√§mf√∂r\" },\n          ]}\n        />\n\n        <header className=\"page-header\">\n          <div className=\"flex items-center gap-3 mb-2\">\n            <div className=\"w-10 h-10 rounded-lg bg-indigo-500/10 dark:bg-indigo-500/20 flex items-center justify-center\">\n              <Scale className=\"w-5 h-5 text-indigo-600 dark:text-indigo-400\" />\n            </div>\n            <h1 className=\"text-display\">J√§mf√∂r f√∂retag</h1>\n          </div>\n          <p className=\"text-muted-foreground\">\n            J√§mf√∂r nyckeltal och information sida vid sida med interaktiva visualiseringar\n          </p>\n        </header>\n\n        <Suspense fallback={<Skeleton className=\"h-64 w-full\" />}>\n          <CompareContent />\n        </Suspense>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAkBA,IAAM,EAAiB,CACrB,CAAE,GAAI,cAAe,KAAM,gBAAiB,IAAK,UAAW,MAAO,iCAAkC,EACrG,CAAE,GAAI,iBAAkB,KAAM,mBAAoB,IAAK,UAAW,MAAO,uCAAwC,EACjH,CAAE,GAAI,gBAAiB,KAAM,kBAAmB,IAAK,UAAW,MAAO,qCAAsC,EAC9G,CAGD,SAAS,EAAW,CAAE,WAAS,SAAE,CAAO,CAAgH,EAEtJ,IAKM,EALA,AAKiB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACtB,EAAQ,GAAG,CAAC,AAAC,IAClB,IAAM,EAAS,EAAU,GAAG,CAAC,AAAC,GAAM,EAAO,QAAQ,CAAC,IAAM,GACpD,EAAM,KAAK,GAAG,IAAI,EAAQ,GAC1B,EAAM,KAAK,GAAG,IAAI,EAAO,MAAM,CAAC,AAAC,GAAM,AAAM,OAAI,GACvD,MAAO,CACL,MAAO,EAAO,KAAK,CACnB,OAAQ,EAAO,GAAG,CAAC,AAAC,GAAO,CAAC,EAAI,CAAA,CAAG,CAAK,GAAM,AAAP,IAAc,CAAC,CAAK,KAC3D,UAAW,CACb,CACF,GACC,CAAC,EAAW,EAAQ,EAEjB,EAAuB,EAAV,KAAK,EAAE,CAAQ,EAAQ,MAAM,CAE1C,EAAW,CAAC,EAAe,KAAsB,CACrD,EAAG,GADiD,CACxC,KAAK,GAAG,CAAC,EAAQ,KAAK,EAAE,CAAG,GAAK,EAC5C,EAAG,IAAS,KAAK,GAAG,CAAC,EAAQ,KAAK,EAAE,CAAG,GAAK,EAC9C,CAAC,CAED,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,OAAO,GAAM,OA5BT,CA4BiB,GAAM,UAAU,6BAEvC,MAAM,IAAI,CAAC,CAAE,OA3BL,CA2Ba,AAAO,GAAG,GAAG,CAAC,CAAC,EAAG,IACtC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,IAAI,GACJ,IAAI,GACJ,EAAI,IAAoB,GAAI,CAAC,CAAhB,AACb,KAAK,IADkB,GAEvB,OAAO,eACP,cAAe,GACf,UAAU,yBAPL,CAAC,MAAM,EAAE,EAAA,CAAG,GAYpB,EAAQ,GAAG,CAAC,CAAC,EAAQ,KACpB,IAAM,EAAQ,EAAY,EACpB,EAAa,EAAS,EAAO,KAEnC,IAF4C,EAG1C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,IAAI,GACJ,GAnDC,CAmDG,GACJ,GApDQ,AAoDJ,EAAS,OAAe,AAAR,CAAS,CAC7B,GAAI,EAAS,OAAO,AAAQ,CAAC,CAC7B,OAAO,eACP,cAAe,GACf,UAAU,0BAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,EAAG,EAAW,CAAC,CACf,EAAG,EAAW,CAAC,CACf,WAAW,SACX,iBAAiB,SACjB,UAAU,6CAET,EAAO,KAAK,KAjBT,CAAC,KAAK,EAAE,EAAO,KAAK,CAAA,CAAE,CAqBlC,GAGC,EAAU,GAAG,CAAC,CAAC,EAAS,KACvB,IAAM,EAAS,EAAe,GAAG,CAAC,CAAC,EAAM,IAGhC,EAFO,EAAY,EACX,EAAK,CACJ,KADU,CAAC,CACJ,CADe,CAAG,IA1EpC,EA0E2C,IAI5C,EAAQ,EAAO,GAAG,CAAC,CAAC,EAAG,IAAM,CAAA,EAAS,IAAN,EAAU,IAAM,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA,CAAE,EAAE,IAAI,CAAC,KAAO,KAEvF,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,EAAG,EACH,KAAM,CAAc,CAAC,EAAW,CAAC,GAAG,CACpC,YAAa,IACb,OAAQ,CAAc,CAAC,EAAW,CAAC,GAAG,CACtC,YAAa,EACb,eAAe,UAEhB,EAAO,GAAG,CAAC,CAAC,EAAG,IACd,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,GAAI,EAAE,CAAC,CACP,GAAI,EAAE,CAAC,CACP,EAAG,EACH,KAAM,CAAc,CAAC,EAAW,CAAC,GAAG,EAJ/B,CAAC,MAAM,EAAE,EAAQ,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,EAAA,CAAG,KAXtC,EAAQ,KAAK,CAAC,KAAK,CAoB/B,OAIR,CAGA,SAAS,EAAmB,WAAE,CAAS,OAAE,CAAK,QAAE,CAAM,CAAiE,EACrH,IAAM,EAAM,KAAK,GAAG,IAAI,EAAO,MAAM,CAAC,AAAC,GAAM,CAAC,MAAM,IAAK,GAEzD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qDAA6C,IAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBACZ,EAAU,GAAG,CAAC,CAAC,EAAS,KACvB,IAAM,EAAQ,CAAM,CAAC,EAAE,CACjB,EAAQ,MAAM,GAAS,EAAK,KAAK,GAAG,CAAC,GAAS,EAAO,IACrD,EAAa,EAAQ,EAE3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAA8B,UAAU,oCACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACZ,EAAQ,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAG,GAAG,SAElC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAC,yDAAyD,EACnE,EAAa,aAAe,CAAc,CAAC,EAAE,CAAC,EAAE,CAAA,CAChD,CACF,MAAO,CAAE,MAAO,CAAA,EAAG,EAAM,CAAC,CAAC,AAAC,IAE9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAC,oBAAoB,EAAE,EAAQ,GAAK,aAAe,kBAAA,CAAmB,UACpF,MAAM,GAAS,IAAM,EAAM,cAAc,CAAC,kBAbzC,EAAQ,KAAK,CAAC,KAAK,CAmBjC,OAIR,CAGA,IAAM,EAAe,AAAC,QAEhB,SADJ,AAAK,EAOD,EAPA,GAAQ,CAOF,AAJR,EADmB,IAKL,MALZ,AAA2B,OAApB,EACH,EAEA,SAAS,EAAM,OAAO,CAAC,MAAO,IAAK,KAEpB,OAAO,GAC1B,KAAK,GAAG,CAAC,IAAQ,IAAa,CAAA,CAAP,CAAU,CAAC,EAAM,GAAA,CAAI,CAAE,OAAO,CAAC,GAAG,KAAK,CAAC,CAC5D,CAAA,EAAG,EAAI,KAAK,CAAC,CATD,GAUrB,EAQM,EAAe,CAAC,EAAmB,KACvC,IAAM,EAAK,EAAK,UAAU,EAAE,WAC5B,GAAK,CAAD,CACJ,EADS,KACF,CAAE,CADO,AACN,EACZ,AADmC,EAG7B,EAAkB,AAAC,IACvB,SAAI,EAAuC,OAAO,CAApC,CACd,GAAqB,SADM,CACvB,OAAO,EAD0B,AACN,OAAO,EACtC,IAAM,EAAM,WAAW,EAAM,OAAO,CAAC,WAAY,KACjD,OAAO,MAAM,GAAO,EAAI,CAC1B,EAEM,EAAsB,AAAC,IAC3B,IAAM,EAAM,EAAE,UAAU,EAAE,UAC1B,GAAmB,UAAf,OAAO,EAAkB,OAAO,EACpC,GAAmB,UAAf,OAAO,EAAkB,CAC3B,IAAM,EAAM,SAAS,EAAK,IAC1B,OAAO,MAAM,GAAO,EAAI,CAC1B,CACA,OAAO,CACT,EAEM,EAAW,AAAC,IAChB,IAAM,EAAQ,EAAO,MAAM,CAAC,AAAC,QAAyB,IAAN,UAChD,AAAqB,GAAG,CAApB,EAAM,MAAM,CAAe,CAAC,EACzB,EAAO,OAAO,CAAC,KAAK,GAAG,IAAI,GACpC,EAEA,SAAS,IAEP,IAAM,EAAiB,AADF,CAAA,EAAA,EAAA,eAAA,AAAe,IACA,GAAG,CAAC,aAClC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,EAAE,EACtD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,UAGvD,EAAU,CAAA,EAAA,EAAA,OAAO,AAAP,EAAQ,IAAM,CAC5B,CAAE,MAAO,aAAc,IAAK,UAAW,SAAU,AAAC,GAAmB,EAAa,EAAE,UAAU,EAAE,SAAU,WAAY,AAAC,GAAmB,EAAgB,EAAE,UAAU,EAAE,SAAU,KAAM,MAAO,EAC/L,CAAE,MAAO,WAAY,IAAK,SAAU,SAAU,AAAC,GAAmB,EAAa,EAAE,UAAU,EAAE,QAAS,WAAY,AAAC,GAAmB,EAAgB,EAAE,UAAU,EAAE,QAAS,KAAM,MAAO,EAC1L,CAAE,MAAO,YAAa,IAAK,YAAa,SAAU,AAAC,GAAmB,EAAE,UAAU,EAAE,WAAW,YAAc,IAAK,WAAY,AAAC,GAAmB,EAAoB,GAAI,KAAM,IAAK,EACrL,CAAE,MAAO,SAAU,IAAK,SAAU,SAAU,AAAC,IAAqB,IAAM,EAAI,EAAa,EAAG,UAAW,OAAO,EAAI,CAAA,EAAG,CAAC,EAAI,GAAA,CAAI,CAAE,OAAO,CAAC,GAAG,KAAK,CAAC,CAAG,GAAK,EAAG,WAAY,AAAC,GAAmB,EAAa,EAAG,WAAa,EAAG,KAAM,MAAO,EACzO,CAAE,MAAO,gBAAiB,IAAK,iBAAkB,SAAU,AAAC,IAAqB,IAAM,EAAI,EAAa,EAAG,kBAAmB,OAAO,EAAI,CAAA,EAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAG,GAAK,EAAG,WAAY,AAAC,GAAmB,EAAa,EAAG,mBAAqB,EAAG,KAAM,GAAI,EACxP,CAAE,MAAO,WAAY,IAAK,aAAc,SAAU,AAAC,IAAqB,IAAM,EAAI,EAAa,EAAG,cAAe,OAAO,EAAI,CAAA,EAAG,GAAK,EAAI,IAAM,GAAA,EAAK,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAG,GAAK,EAAG,WAAY,AAAC,GAAmB,EAAa,EAAG,eAAiB,EAAG,KAAM,GAAI,EAC3P,CAAE,MAAO,YAAa,IAAK,gBAAiB,SAAU,AAAC,IAAqB,IAAM,EAAI,EAAa,EAAG,iBAAkB,OAAO,EAAI,CAAA,EAAG,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAG,GAAK,EAAG,WAAa,AAAD,GAAoB,EAAa,EAAG,kBAAoB,EAAG,KAAM,GAAI,EAClP,CAAE,EAAE,EAEC,EAAsF,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,CACxG,CAAE,MAAO,aAAc,SAAU,AAAC,GAAmB,EAAgB,EAAE,UAAU,EAAE,QAAS,EAC5F,CAAE,MAAO,WAAY,SAAU,AAAC,GAAmB,EAAgB,EAAE,UAAU,EAAE,OAAQ,EACzF,CAAE,MAAO,YAAa,SAAU,AAAC,GAAmB,EAAoB,EAAG,EAC3E,CAAE,MAAO,aAAc,SAAU,AAAC,GAAmB,EAAa,EAAG,mBAAqB,CAAE,EAC5F,CAAE,MAAO,WAAY,SAAU,AAAC,GAAmB,EAAa,EAAG,eAAiB,CAAE,EACvF,CAAE,EAAE,EAGC,EAAU,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACtB,GAAyB,IAArB,EAAU,MAAM,CAAQ,MAAO,CAAC,EACpC,IAAM,EAAoC,CAAC,EAQ3C,OAPA,EAAQ,OAAO,CAAE,AAAD,IAEd,IAAM,EAAS,EADwB,EAAU,GAAG,CAAE,AAAD,CAC7B,EADoC,EAAO,UAAU,CAAC,IAE1E,IAAU,GAAG,CACf,CAAM,CAAC,EAAO,GAAG,CAAC,CAAG,CAAA,CAEzB,GACO,CACT,EAAG,CAAC,EAAW,EAAQ,EAGjB,EAAiB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC7B,GAAyB,IAArB,EAAU,MAAM,CAAQ,MAAO,EAAE,CACrC,IAAM,EAAmB,EAAU,GAAG,CAAC,IAAM,GAM7C,OALA,OAAO,MAAM,CAAC,GAAS,OAAO,CAAC,AAAC,IAC1B,GAAO,GAAK,EAAM,EAAO,MAAM,EAAE,AACnC,CAAM,CAAC,EAAI,EAEf,GACO,CACT,EAAG,CAAC,EAAS,EAAU,EAEvB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACe,AAsBvB,WArBE,GAAI,CAAC,EAAgB,OAErB,IAAM,EAAS,EAAe,KAAK,CAAC,KAAK,KAAK,CAAC,EAAG,GAClD,GAAW,GAcX,EAAa,CAZG,MAAM,QAAQ,GAAG,CAC/B,EAAO,GAAG,CAAC,MAAO,IAChB,GAAI,CACF,IAAM,EAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,EAAA,CAAO,EACrD,GAAI,EAAI,EAAE,CAAE,OAAO,EAAI,IAAI,GAC3B,OAAO,IACT,CAAE,KAAM,CACN,OAAO,IACT,CACF,GAAA,EAGmB,MAAM,CAAC,UAC5B,GAAW,GACb,GAGF,EAAG,CAAC,EAAe,EAEnB,IAAM,EAAa,CACjB,CAAE,MAAO,UAAW,KAAM,EAAA,QAAQ,CAAE,SAAU,AAAC,GAAmB,EAAE,KAAK,CAAC,cAAc,EAAI,GAAI,EAChG,CAAE,MAAO,UAAW,KAAM,EAAA,SAAS,CAAE,SAAU,AAAC,GAAmB,EAAE,UAAU,EAAE,CAAC,EAAE,EAAE,MAAQ,GAAI,EAClG,CAAE,MAAO,MAAO,KAAM,EAAA,MAAM,CAAE,SAAW,AAAD,GAAoB,EAAE,QAAQ,EAAE,cAAgB,EAAE,QAAQ,EAAE,cAAgB,GAAI,EACxH,CAAE,MAAO,KAAM,KAAM,EAAA,KAAK,CAAE,SAAU,AAAC,GAAmB,EAAE,MAAM,EAAE,KAAK,MAAQ,GAAI,EACtF,CAEK,EAAe,CAAC,EAA6B,GAAoB,CAAK,GAC1E,KAAgB,IAAZ,EAA8B,CAAA,EAAA,EAAP,AAAO,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,kCAC/C,GAAY,EAAU,EAAU,CAAP,AAAO,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,yBACrD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,oCAG/B,AAAK,EAsBD,EAEA,AAxBA,CAwBA,EAAA,EAAA,EAFS,EAET,EAAC,CAxBgB,KAwBhB,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,CAAC,EAAG,EAAG,EAAE,CAAC,GAAG,CAAC,AAAC,GACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,kBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,kBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,eACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,eACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,qBAPf,CAAC,iBAAiB,EAAE,EAAA,CAAG,KAatC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YAMxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAsB,WAAb,EAAwB,UAAY,UAC7C,KAAK,KACL,QAAS,IAAM,EAAY,UAC3B,UAAU,kBAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YAAY,aAGnC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAsB,UAAb,EAAuB,UAAY,UAC5C,KAAK,KACL,QAAS,IAAM,EAAY,SAC3B,UAAU,kBAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,eAMjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACZ,EAAU,GAAG,CAAC,CAAC,EAAS,IACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAA8B,UAAU,sCACvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,qBAAqB,EAAE,CAAc,CAAC,EAAE,CAAC,EAAE,CAAA,CAAE,GAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gEACb,EAAQ,KAAK,CAAC,IAAI,KAHb,EAAQ,KAAK,CAAC,KAAK,QAWnC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACZ,EAAU,GAAG,CAAC,CAAC,EAAS,uBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAEH,UAAW,CAAC,qBAAqB,EAAE,CAAc,CAAC,EAAE,CAAC,KAAK,CAAC,UAAU,EACnE,CAAc,CAAC,EAAE,GAAK,KAAK,GAAG,IAAI,GAC9B,yCACA,qBAAA,CACJ,UAEF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,qBAAqB,EAAE,CAAc,CAAC,EAAE,CAAC,EAAE,CAAA,CAAE,GAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,OAAO,EAAE,EAAQ,KAAK,CAAC,KAAK,CAAA,CAAE,CAAE,UAAU,sFACrD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,4BAAoB,EAAQ,KAAK,CAAC,IAAI,QAG/D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAnOR,CAmOmD,GAnO/C,CAArB,CADE,EAAQ,CADK,EAqOiE,EAAQ,KAAK,CAAC,KAAK,EApOnF,OAAO,CAAC,MAAO,KACzB,MAAM,CAAgB,CAAA,EAAG,EAAM,KAAK,CAAC,EAAG,GAAG,CAAC,EAAE,EAAM,KAAK,CAAC,GAAA,CAAI,CACjE,OAoOO,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,EAAQ,KAAK,CAAC,MAAM,CAAC,MAAM,CAAG,UAAY,YACnD,UAAW,EAAQ,KAAK,CAAC,MAAM,CAAC,MAAM,CAAG,kDAAoD,oBAE5F,EAAQ,KAAK,CAAC,MAAM,CAAC,MAAM,CAAG,QAAU,EAAQ,KAAK,CAAC,MAAM,CAAC,MAAM,GAErE,CAAc,CAAC,EAAE,CAAG,GACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,gBAClB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,gCAAuB,CAAc,CAAC,EAAE,CAAC,uBAOjE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2DACZ,EAAW,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,IAC3B,IAAM,EAAO,EAAM,IAAI,CACvB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAsB,UAAU,4CAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,+CAChB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kCAAyB,EAAM,KAAK,CAAC,OACrD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gDAAwC,EAAM,QAAQ,CAAC,OAH/D,EAAM,KAAK,CAMzB,KAIF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAM,CAAC,OAAO,EAAE,EAAQ,KAAK,CAAC,KAAK,CAAA,CAAE,CACrC,UAAU,sIACX,0BAEC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,mBAtDrB,EAAQ,KAAK,CAAC,KAAK,MA6DhB,WAAb,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,mCACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,kCAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,+BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,4DAIpD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,UAAW,EAAW,QAAS,SAK/C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAQ,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,eACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,UAAW,EACX,MAAO,EAAO,KAAK,CACnB,OAAQ,EAAU,GAAG,CAAC,AAAC,GAAM,EAAO,UAAU,CAAC,IAAM,QALhD,EAAO,GAAG,QAc3B,CAAA,CADA,CACA,EAAA,IAAA,EAAC,EAAA,GADa,CACT,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,kCACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,kCACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,8BAGf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,eACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,mCACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gBAAO,cACpB,EAAU,GAAG,CAAC,CAAC,EAAG,IACjB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,qBAAqB,EAAE,CAAc,CAAC,EAAE,CAAC,EAAE,CAAA,CAAE,GAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAoB,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAG,GAAK,CAAA,EAAG,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAG,IAAI,GAAG,CAAC,CAAG,EAAE,KAAK,CAAC,IAAI,GAC/G,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAa,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAG,GAAK,CAAA,EAAG,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,EAAG,IAAI,GAAG,CAAC,CAAG,EAAE,KAAK,CAAC,IAAI,OAJnG,EAAE,KAAK,CAAC,KAAK,QAU5B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UACE,EAAQ,GAAG,CAAE,AAAD,IACX,IAAM,EAAiC,EAAU,GAAG,CAAC,AAAC,GAAM,EAAO,UAAU,CAAC,IACxE,EAAU,EAAS,GAEzB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,uBAAe,EAAO,KAAK,GACxC,EAAU,GAAG,CAAC,CAAC,EAAG,KACjB,IAAM,EAAQ,EAAO,QAAQ,CAAC,GACxB,EAAe,CAAM,CAAC,EAAE,EAAI,EAC5B,EAAS,IAAY,GAAsB,IAAjB,EAC1B,EAAa,EAAM,UAAU,CAAC,MAAQ,EAAM,UAAU,CAAC,KAE7D,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAEC,UAAW,CAAA,EACT,EAAS,uDACT,EAAa,iCAAmC,GAAA,CAChD,UAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACG,WAAf,EAAO,GAAG,EAAkC,IAAjB,GAAsB,EAAa,GAAc,GAC7D,eAAf,EAAO,GAAG,EAAsC,IAAjB,GAAsB,EAAa,GAClE,EACA,GAAU,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,WAVvC,EAAE,KAAK,CAAC,KAAK,CAcxB,KAxBO,EAAO,KAAK,CA2BzB,eASZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,gJACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,iDACf,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yCAAgC,sBAEhD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAU,GAAG,CAAC,CAAC,EAAS,KACvB,IAAM,EAAiB,OAAO,OAAO,CAAC,GACnC,MAAM,CAAC,CAAC,CAAC,EAAG,EAAI,GAAK,IAAQ,GAC7B,GAAG,CAAC,CAAC,CAAC,EAAI,GAAK,EAAQ,IAAI,CAAE,AAAD,GAAO,EAAE,GAAG,GAAK,IAAM,OAAS,GAE/D,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAA8B,UAAU,2DACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,qBAAqB,EAAE,CAAc,CAAC,EAAE,CAAC,EAAE,CAAA,CAAE,GAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAgC,EAAQ,KAAK,CAAC,IAAI,MAEnE,EAAe,MAAM,CAAG,EACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAe,GAAG,CAAC,AAAC,GACnB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAc,QAAQ,YAAY,UAAU,yFAA+E,MAC3H,IADM,MAMhB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCAAgC,0BAd1C,EAAQ,KAAK,CAAC,KAAK,CAkBjC,UAMN,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,kCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,mBAAU,uBAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,aAAa,MAAO,CAAE,oBAAqB,CAAC,OAAO,EAAE,EAAU,MAAM,CAAC,MAAM,CAAC,AAAC,WAC1F,EAAU,GAAG,CAAC,CAAC,EAAS,IACvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAA8B,UAAU,sBACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,qBAAqB,EAAE,CAAc,CAAC,EAAE,CAAC,EAAE,CAAA,CAAE,GAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8DAAsD,EAAQ,KAAK,CAAC,IAAI,MAEvF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACZ,EAAQ,KAAK,EAAE,gBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,cAAc,UAAU,kBACrC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAwC,4BAI3D,EAAQ,KAAK,EAAE,SACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,6EAAoE,oBAItF,EAAQ,KAAK,EAAE,eACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,6FAAoF,oBAIxH,EAAQ,KAAK,EAAE,yBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAU,sBAE1B,EAAQ,KAAK,EAAE,WACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,8CAAqC,yBAI3E,CAAC,EAAQ,KAAK,EAAE,gBAAkB,CAAC,EAAQ,KAAK,EAAE,SAAW,CAAC,EAAQ,KAAK,EAAE,eAAiB,CAAC,EAAQ,KAAK,EAAE,yBAA2B,CAAC,EAAQ,KAAK,EAAE,WACxJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mDAA0C,gCA/BtD,EAAQ,KAAK,CAAC,KAAK,UAyCrC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,kBACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,UAAU,kBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YAAY,6BA/UvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,8BACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4FACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,oCAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sCAA6B,uBAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA8C,8FAG3D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAK,kBACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,kBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YAAY,uBA2U/C,CAEe,SAAS,IACtB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sDACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CACV,MAAO,CACL,CAAE,MAAO,MAAO,KAAM,GAAI,EAC1B,CAAE,MAAO,QAAS,KAAM,QAAS,EACjC,CAAE,MAAO,QAAS,EACnB,GAGH,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAU,wBAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wGACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,mDAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,wBAAe,sBAE/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,sFAKvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,yBACtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,SAKX"}}]
}