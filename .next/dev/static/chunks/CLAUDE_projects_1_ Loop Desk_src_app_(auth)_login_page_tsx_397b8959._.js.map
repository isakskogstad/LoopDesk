{
  "version": 3,
  "sources": [],
  "debugId": "a4019f5b-99ea-014f-90f0-fd94a4a64c63",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/isak/CLAUDE/projects/1.%20Loop%20Desk/src/app/%28auth%29/login/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { Suspense, useEffect, useState, useRef, useCallback, useMemo } from \"react\";\nimport { signIn } from \"next-auth/react\";\nimport { useSearchParams } from \"next/navigation\";\nimport { Sun, Moon, Settings, AlertCircle } from \"lucide-react\";\n\n// Stable floating animation parameters (generated once)\nconst floatParams = [\n  { speedX: 0.22, speedY: 0.18, amplitudeX: 3, amplitudeY: 4, phaseX: 0, phaseY: 1.05 },\n  { speedX: 0.28, speedY: 0.20, amplitudeX: 4, amplitudeY: 3, phaseX: 0.79, phaseY: 1.83 },\n  { speedX: 0.25, speedY: 0.16, amplitudeX: 3.5, amplitudeY: 4.5, phaseX: 1.57, phaseY: 2.62 },\n  { speedX: 0.30, speedY: 0.22, amplitudeX: 2.5, amplitudeY: 3.5, phaseX: 2.36, phaseY: 3.40 },\n  { speedX: 0.24, speedY: 0.19, amplitudeX: 4, amplitudeY: 3, phaseX: 3.14, phaseY: 4.19 },\n  { speedX: 0.26, speedY: 0.17, amplitudeX: 3, amplitudeY: 4, phaseX: 3.93, phaseY: 4.97 },\n  { speedX: 0.23, speedY: 0.21, amplitudeX: 3.5, amplitudeY: 3.5, phaseX: 4.71, phaseY: 5.76 },\n  { speedX: 0.27, speedY: 0.18, amplitudeX: 4, amplitudeY: 4, phaseX: 5.50, phaseY: 0.52 },\n];\n\ntype Profile = {\n  id: string;\n  name: string;\n  firstName: string;\n  role: string;\n  image: string;\n  provider: \"google\";\n  loginHint?: string;\n};\n\nconst profiles: Profile[] = [\n  { id: \"andreas-jennische\", name: \"Andreas Jennische\", firstName: \"Andreas\", role: \"Nyhetschef och redaktör\", image: \"/avatars/andreas-jennische.png\", provider: \"google\", loginHint: \"andreas@loop.se\" },\n  { id: \"johann-bernovall\", name: \"Johann Bernövall\", firstName: \"Johann\", role: \"Reporter och redaktör\", image: \"/avatars/johann-bernovall.png\", provider: \"google\", loginHint: \"johann@loop.se\" },\n  { id: \"jenny-kjellen\", name: \"Jenny Kjellén\", firstName: \"Jenny\", role: \"Reporter\", image: \"/avatars/jenny-kjellen.png\", provider: \"google\", loginHint: \"jenny@loop.se\" },\n  { id: \"camilla-bergman\", name: \"Camilla Bergman\", firstName: \"Camilla\", role: \"Chefredaktör och vd\", image: \"/avatars/camilla-bergman.png\", provider: \"google\", loginHint: \"camilla@loop.se\" },\n  { id: \"diana-demin\", name: \"Diana Demin\", firstName: \"Diana\", role: \"CMO och Head of Expansion\", image: \"/avatars/diana-demin.png\", provider: \"google\", loginHint: \"diana@loop.se\" },\n  { id: \"sandra-norberg\", name: \"Sandra Norberg\", firstName: \"Sandra\", role: \"Kommersiell chef\", image: \"/avatars/sandra-norberg.png\", provider: \"google\", loginHint: \"sandra@loop.se\" },\n  { id: \"christian-von-essen\", name: \"Christian von Essen\", firstName: \"Christian\", role: \"Kommersiell redaktör\", image: \"/avatars/christian-von-essen.png\", provider: \"google\", loginHint: \"christian@loop.se\" },\n  { id: \"isak-skogstad\", name: \"Isak Skogstad\", firstName: \"Isak\", role: \"Utvecklare\", image: \"/avatars/isak-skogstad.png\", provider: \"google\", loginHint: \"isak.skogstad@me.com\" },\n];\n\nfunction getGreeting(name: string): string {\n  const hour = new Date().getHours();\n  if (hour >= 5 && hour < 9) return `Godmorgon, ${name}!`;\n  if (hour >= 9 && hour < 12) return `God förmiddag, ${name}!`;\n  if (hour >= 12 && hour < 14) return `God dag, ${name}!`;\n  if (hour >= 14 && hour < 18) return `God eftermiddag, ${name}!`;\n  if (hour >= 18 && hour < 22) return `God kväll, ${name}!`;\n  return `God natt, ${name}!`;\n}\n\nfunction LoginEntry() {\n  const searchParams = useSearchParams();\n  const callbackUrl = searchParams.get(\"callbackUrl\") || \"/\";\n\n  const [mounted, setMounted] = useState(false);\n  const [selectedProfile, setSelectedProfile] = useState<Profile | null>(null);\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\n  const [loginPhase, setLoginPhase] = useState<\"idle\" | \"shrinking\" | \"loading\" | \"welcome\">(\"idle\");\n  const [loadingStep, setLoadingStep] = useState({ text: \"Loggar in...\", progress: 0 });\n  const [settingsOpen, setSettingsOpen] = useState(false);\n  const [isDark, setIsDark] = useState(false);\n\n  const passwordInputRef = useRef<HTMLInputElement>(null);\n  const titleRef = useRef<HTMLHeadingElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const animationFrameRef = useRef<number>(0);\n\n  // Layout state\n  const [windowSize, setWindowSize] = useState({ width: 0, height: 0 });\n  const [titleRect, setTitleRect] = useState({ width: 0, height: 0 });\n  const [mousePos, setMousePos] = useState({ x: 0, y: 0 });\n  const [profilePositions, setProfilePositions] = useState<{ x: number; y: number }[]>([]);\n  const [tiltAngles, setTiltAngles] = useState<Record<string, { rotateX: number; rotateY: number }>>({});\n  const [layoutReady, setLayoutReady] = useState(false);\n\n  // Responsive breakpoints\n  const isMobile = windowSize.width > 0 && windowSize.width <= 640;\n  const isTablet = windowSize.width > 640 && windowSize.width <= 1024;\n\n  // Dynamic avatar size based on viewport\n  const avatarSize = useMemo(() => {\n    if (isMobile) return Math.min(Math.max(windowSize.width * 0.18, 56), 72);\n    if (isTablet) return Math.min(Math.max(windowSize.width * 0.10, 70), 100);\n    return Math.min(Math.max(windowSize.width * 0.08, 80), 120);\n  }, [windowSize.width, isMobile, isTablet]);\n\n  // Calculate orbit radius based on title size\n  const orbitRadius = useMemo(() => {\n    if (!titleRect.width || !titleRect.height) return 200;\n\n    // Calculate diagonal of title bounding box\n    const diagonal = Math.sqrt(titleRect.width ** 2 + titleRect.height ** 2);\n\n    // Add padding between title and avatars\n    const padding = avatarSize * 0.8;\n    const baseRadius = (diagonal / 2) + padding + (avatarSize / 2);\n\n    // Constrain to viewport\n    const maxRadius = Math.min(windowSize.width, windowSize.height) * 0.42;\n    const minRadius = avatarSize * 2.5;\n\n    return Math.max(minRadius, Math.min(baseRadius, maxRadius));\n  }, [titleRect, avatarSize, windowSize]);\n\n  // Initialize\n  useEffect(() => {\n    setMounted(true);\n    const saved = localStorage.getItem(\"theme\");\n    if (saved === \"dark\" || (!saved && window.matchMedia(\"(prefers-color-scheme: dark)\").matches)) {\n      setIsDark(true);\n      document.documentElement.classList.add(\"dark\");\n    }\n  }, []);\n\n  // Handle window resize and title measurement\n  useEffect(() => {\n    const updateLayout = () => {\n      setWindowSize({ width: window.innerWidth, height: window.innerHeight });\n\n      if (titleRef.current) {\n        const rect = titleRef.current.getBoundingClientRect();\n        setTitleRect({ width: rect.width, height: rect.height });\n      }\n    };\n\n    updateLayout();\n\n    // Delay to ensure fonts are loaded\n    const timer = setTimeout(() => {\n      updateLayout();\n      setLayoutReady(true);\n    }, 100);\n\n    window.addEventListener(\"resize\", updateLayout);\n    return () => {\n      window.removeEventListener(\"resize\", updateLayout);\n      clearTimeout(timer);\n    };\n  }, [mounted]);\n\n  // Mouse tracking for parallax (desktop only)\n  useEffect(() => {\n    if (isMobile) return;\n\n    const handleMouseMove = (e: MouseEvent) => {\n      setMousePos({ x: e.clientX, y: e.clientY });\n    };\n    window.addEventListener(\"mousemove\", handleMouseMove);\n    return () => window.removeEventListener(\"mousemove\", handleMouseMove);\n  }, [isMobile]);\n\n  // Floating animation loop (desktop only)\n  useEffect(() => {\n    if (!mounted || !layoutReady || isMobile) {\n      // Set static positions for mobile\n      if (isMobile && layoutReady) {\n        setProfilePositions(profiles.map(() => ({ x: 0, y: 0 })));\n      }\n      return;\n    }\n\n    const centerX = windowSize.width / 2;\n    const centerY = windowSize.height / 2;\n\n    const updatePositions = (time: number) => {\n      const mouseDeltaX = centerX > 0 ? (mousePos.x - centerX) / centerX : 0;\n      const mouseDeltaY = centerY > 0 ? (mousePos.y - centerY) / centerY : 0;\n\n      const newPositions = profiles.map((_, i) => {\n        // Distribute evenly around circle, starting from top\n        const angle = (i / profiles.length) * Math.PI * 2 - Math.PI / 2;\n\n        // Base position on orbit\n        const baseX = centerX + Math.cos(angle) * orbitRadius;\n        const baseY = centerY + Math.sin(angle) * orbitRadius;\n\n        // Floating animation\n        const params = floatParams[i];\n        const floatX = Math.sin(time * 0.001 * params.speedX + params.phaseX) * params.amplitudeX;\n        const floatY = Math.cos(time * 0.001 * params.speedY + params.phaseY) * params.amplitudeY;\n\n        // Subtle parallax effect\n        const parallaxStrength = 12;\n        const parallaxX = mouseDeltaX * parallaxStrength * (i % 2 === 0 ? 1 : -0.5);\n        const parallaxY = mouseDeltaY * parallaxStrength * (i % 2 === 0 ? -0.5 : 1);\n\n        return {\n          x: baseX + floatX + parallaxX,\n          y: baseY + floatY + parallaxY,\n        };\n      });\n\n      setProfilePositions(newPositions);\n      animationFrameRef.current = requestAnimationFrame(updatePositions);\n    };\n\n    animationFrameRef.current = requestAnimationFrame(updatePositions);\n    return () => cancelAnimationFrame(animationFrameRef.current);\n  }, [mounted, layoutReady, mousePos, orbitRadius, windowSize, isMobile]);\n\n  const toggleTheme = () => {\n    const newIsDark = !isDark;\n    setIsDark(newIsDark);\n    document.documentElement.classList.toggle(\"dark\", newIsDark);\n    localStorage.setItem(\"theme\", newIsDark ? \"dark\" : \"light\");\n  };\n\n  const handleProfileClick = (profile: Profile) => {\n    setSelectedProfile(profile);\n    setPassword(\"\");\n    setError(null);\n    setTimeout(() => passwordInputRef.current?.focus(), 150);\n  };\n\n  const handleAvatarMouseMove = useCallback((e: React.MouseEvent, profileId: string) => {\n    const rect = e.currentTarget.getBoundingClientRect();\n    const x = e.clientX - rect.left - rect.width / 2;\n    const y = e.clientY - rect.top - rect.height / 2;\n    setTiltAngles(prev => ({\n      ...prev,\n      [profileId]: { rotateX: -(y / rect.height) * 15, rotateY: (x / rect.width) * 15 }\n    }));\n  }, []);\n\n  const handleAvatarMouseLeave = useCallback((profileId: string) => {\n    setTiltAngles(prev => ({ ...prev, [profileId]: { rotateX: 0, rotateY: 0 } }));\n  }, []);\n\n  const closeModal = () => {\n    setSelectedProfile(null);\n    setPassword(\"\");\n    setError(null);\n    setLoginPhase(\"idle\");\n    setIsLoggingIn(false);\n  };\n\n  const showError = (message: string) => {\n    setError(message);\n    setPassword(\"\");\n    passwordInputRef.current?.classList.add(\"animate-shake\");\n    setTimeout(() => passwordInputRef.current?.classList.remove(\"animate-shake\"), 500);\n  };\n\n  const runSuccessAnimation = async () => {\n    setLoginPhase(\"shrinking\");\n    await new Promise(r => setTimeout(r, 300));\n\n    setLoginPhase(\"loading\");\n    setLoadingStep({ text: \"Loggar in...\", progress: 20 });\n    await new Promise(r => setTimeout(r, 400));\n\n    setLoadingStep({ text: \"Ansluter...\", progress: 70 });\n    await new Promise(r => setTimeout(r, 800));\n\n    setLoadingStep({ text: \"Öppnar...\", progress: 100 });\n    await new Promise(r => setTimeout(r, 400));\n\n    setLoginPhase(\"welcome\");\n  };\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!selectedProfile || !password || isLoggingIn) return;\n\n    setError(null);\n    setIsLoggingIn(true);\n\n    try {\n      const checkRes = await fetch(\"/api/auth/check-login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email: selectedProfile.loginHint }),\n      });\n      const checkData = await checkRes.json();\n\n      if (!checkData.allowed) {\n        showError(checkData.message);\n        setIsLoggingIn(false);\n        return;\n      }\n\n      const result = await signIn(\"credentials\", {\n        email: selectedProfile.loginHint,\n        password,\n        redirect: false,\n        callbackUrl,\n      });\n\n      if (result?.error) {\n        const statusRes = await fetch(\"/api/auth/check-login\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ email: selectedProfile.loginHint }),\n        });\n        const statusData = await statusRes.json();\n\n        if (!statusData.allowed) {\n          showError(statusData.message);\n        } else if (statusData.remainingAttempts !== undefined && statusData.remainingAttempts <= 3) {\n          showError(`Fel lösenord. ${statusData.remainingAttempts} försök kvar.`);\n        } else {\n          showError(\"Fel lösenord\");\n        }\n        setIsLoggingIn(false);\n      } else if (result?.url) {\n        await runSuccessAnimation();\n        window.location.assign(result.url);\n      }\n    } catch {\n      showError(\"Något gick fel. Försök igen.\");\n      setIsLoggingIn(false);\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    if (!selectedProfile) return;\n    setIsLoggingIn(true);\n\n    setLoginPhase(\"shrinking\");\n    await new Promise(r => setTimeout(r, 200));\n\n    setLoginPhase(\"loading\");\n    setLoadingStep({ text: \"Förbereder...\", progress: 30 });\n    await new Promise(r => setTimeout(r, 300));\n\n    setLoadingStep({ text: \"Ansluter till Google...\", progress: 70 });\n    await new Promise(r => setTimeout(r, 200));\n\n    setLoadingStep({ text: \"Omdirigerar...\", progress: 95 });\n\n    signIn(\"google\", {\n      callbackUrl,\n      ...(selectedProfile.loginHint ? { login_hint: selectedProfile.loginHint } : {}),\n    });\n  };\n\n  if (!mounted) return null;\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"relative min-h-screen w-full overflow-hidden bg-background\"\n    >\n      {/* Loading Overlay */}\n      <div className={`fixed inset-0 z-[300] flex items-center justify-center bg-background transition-opacity duration-300 ${\n        loginPhase === \"loading\" || loginPhase === \"welcome\" ? \"opacity-100\" : \"opacity-0 pointer-events-none\"\n      }`}>\n        {loginPhase === \"loading\" && (\n          <div className=\"flex flex-col items-center gap-6\">\n            <p className=\"text-sm text-muted-foreground font-mono tracking-wider\">\n              {loadingStep.text}\n            </p>\n            <div className=\"w-48 h-0.5 bg-border rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-foreground rounded-full transition-all duration-300 ease-out\"\n                style={{ width: `${loadingStep.progress}%` }}\n              />\n            </div>\n          </div>\n        )}\n        {loginPhase === \"welcome\" && (\n          <h2 className=\"text-3xl md:text-4xl font-bold tracking-tight font-mono animate-fade-in\">\n            Välkommen.\n          </h2>\n        )}\n      </div>\n\n      {/* Main Content */}\n      <div className={`relative min-h-screen flex items-center justify-center transition-opacity duration-300 ${\n        loginPhase !== \"idle\" && loginPhase !== \"shrinking\" ? \"opacity-0\" : \"opacity-100\"\n      }`}>\n\n        {/* Title - Centered */}\n        <h1\n          ref={titleRef}\n          className={`absolute text-center font-mono font-bold leading-[0.85] tracking-[-0.04em] z-10 pointer-events-none select-none transition-all duration-300 ${\n            selectedProfile ? \"opacity-5 scale-95\" : \"opacity-100\"\n          }`}\n          style={{\n            fontSize: isMobile\n              ? \"clamp(48px, 18vw, 80px)\"\n              : isTablet\n                ? \"clamp(60px, 12vw, 100px)\"\n                : \"clamp(80px, 10vw, 140px)\",\n          }}\n        >\n          <span className=\"block animate-title-reveal\" style={{ animationDelay: \"0.2s\" }}>LOOP</span>\n          <span className=\"block animate-title-reveal\" style={{ animationDelay: \"0.4s\" }}>DESK</span>\n        </h1>\n\n        {/* Profiles - Orbit around title (Desktop) */}\n        {!isMobile && layoutReady && (\n          <div className=\"absolute inset-0 z-20\">\n            {profiles.map((profile, index) => {\n              const pos = profilePositions[index];\n              if (!pos) return null;\n\n              const tilt = tiltAngles[profile.id] || { rotateX: 0, rotateY: 0 };\n              const animDelay = 0.6 + index * 0.08;\n\n              return (\n                <button\n                  key={profile.id}\n                  onClick={() => handleProfileClick(profile)}\n                  onMouseMove={(e) => handleAvatarMouseMove(e, profile.id)}\n                  onMouseLeave={() => handleAvatarMouseLeave(profile.id)}\n                  className=\"absolute flex flex-col items-center gap-2 bg-transparent border-none cursor-pointer group animate-profile-enter\"\n                  style={{\n                    left: pos.x,\n                    top: pos.y,\n                    transform: \"translate(-50%, -50%)\",\n                    animationDelay: `${animDelay}s`,\n                    width: avatarSize,\n                  }}\n                >\n                  <div\n                    className=\"relative w-full aspect-square\"\n                    style={{\n                      transformStyle: \"preserve-3d\",\n                      transform: `perspective(500px) rotateX(${tilt.rotateX}deg) rotateY(${tilt.rotateY}deg)`,\n                      transition: \"transform 0.15s ease-out\",\n                    }}\n                  >\n                    <Image\n                      src={profile.image}\n                      alt={profile.name}\n                      fill\n                      sizes={`${avatarSize}px`}\n                      className=\"rounded-full object-cover grayscale group-hover:grayscale-0 group-focus:grayscale-0 transition-all duration-300 shadow-avatar group-hover:shadow-avatar-hover group-hover:scale-110\"\n                      priority={index < 4}\n                    />\n                  </div>\n                  <span className=\"text-[10px] font-mono text-muted-foreground opacity-0 -translate-y-1 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-200 whitespace-nowrap\">\n                    {profile.firstName}\n                  </span>\n                </button>\n              );\n            })}\n          </div>\n        )}\n\n        {/* Profiles - Grid layout (Mobile) */}\n        {isMobile && layoutReady && (\n          <div className=\"absolute bottom-[15vh] left-0 right-0 z-20 px-6\">\n            <div className=\"grid grid-cols-4 gap-4 max-w-sm mx-auto\">\n              {profiles.map((profile, index) => (\n                <button\n                  key={profile.id}\n                  onClick={() => handleProfileClick(profile)}\n                  className=\"flex flex-col items-center gap-1 bg-transparent border-none cursor-pointer group animate-profile-enter\"\n                  style={{ animationDelay: `${0.4 + index * 0.05}s` }}\n                >\n                  <div className=\"relative w-full aspect-square\">\n                    <Image\n                      src={profile.image}\n                      alt={profile.name}\n                      fill\n                      sizes=\"80px\"\n                      className=\"rounded-full object-cover grayscale active:grayscale-0 transition-all duration-300 shadow-avatar active:scale-95\"\n                      priority={index < 4}\n                    />\n                  </div>\n                  <span className=\"text-[9px] font-mono text-muted-foreground truncate w-full text-center\">\n                    {profile.firstName}\n                  </span>\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Settings Button */}\n      <button\n        onClick={() => setSettingsOpen(!settingsOpen)}\n        className={`fixed bottom-6 right-6 w-10 h-10 flex items-center justify-center z-50 rounded-full bg-secondary/50 backdrop-blur-sm border border-border/50 transition-all duration-200 hover:bg-secondary ${\n          settingsOpen ? \"rotate-45\" : \"\"\n        }`}\n        aria-label=\"Inställningar\"\n      >\n        <Settings className=\"w-4 h-4 text-muted-foreground\" />\n      </button>\n\n      {/* Settings Menu */}\n      <div className={`fixed bottom-20 right-6 flex flex-col gap-2 z-50 transition-all duration-200 ${\n        settingsOpen ? \"opacity-100 translate-y-0\" : \"opacity-0 translate-y-2 pointer-events-none\"\n      }`}>\n        <div className=\"flex items-center justify-center p-2 bg-card border border-border rounded-lg shadow-lg\">\n          <button\n            onClick={toggleTheme}\n            className=\"relative w-12 h-7 bg-secondary rounded-full transition-colors\"\n            aria-label=\"Växla tema\"\n          >\n            <Sun className=\"absolute left-1.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-foreground transition-opacity\" style={{ opacity: isDark ? 0.4 : 1 }} />\n            <Moon className=\"absolute right-1.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-foreground transition-opacity\" style={{ opacity: isDark ? 1 : 0.4 }} />\n            <span\n              className=\"absolute top-1 left-1 w-5 h-5 bg-card rounded-full shadow-sm transition-transform duration-200\"\n              style={{ transform: isDark ? \"translateX(20px)\" : \"translateX(0)\" }}\n            />\n          </button>\n        </div>\n        <a\n          href=\"mailto:isak.skogstad@me.com?subject=Support%20för%20LoopDesk\"\n          className=\"px-4 py-2 text-center font-mono text-xs text-muted-foreground bg-card border border-border rounded-lg shadow-lg hover:text-foreground transition-colors\"\n        >\n          Support\n        </a>\n      </div>\n\n      {/* Login Modal */}\n      <div\n        className={`fixed inset-0 z-[100] flex items-center justify-center transition-all duration-300 ${\n          selectedProfile ? \"opacity-100 visible\" : \"opacity-0 invisible pointer-events-none\"\n        }`}\n        style={{\n          background: \"var(--modal-backdrop)\",\n          backdropFilter: \"blur(24px)\",\n          WebkitBackdropFilter: \"blur(24px)\",\n        }}\n        onClick={(e) => e.target === e.currentTarget && closeModal()}\n      >\n        {/* Close Button */}\n        <button\n          onClick={closeModal}\n          className=\"absolute top-6 right-6 w-10 h-10 flex items-center justify-center rounded-full text-muted-foreground hover:text-foreground hover:bg-secondary/50 transition-colors\"\n          aria-label=\"Stäng\"\n        >\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n            <path d=\"M4 4L12 12M12 4L4 12\" />\n          </svg>\n        </button>\n\n        {/* Modal Content */}\n        <div\n          className={`flex flex-col items-center gap-6 p-6 max-w-sm w-full mx-4 transition-all duration-300 ${\n            loginPhase === \"shrinking\" ? \"scale-90 opacity-0\" : \"scale-100 opacity-100\"\n          }`}\n        >\n          {selectedProfile && (\n            <>\n              {/* Avatar */}\n              <div className=\"relative w-24 h-24 md:w-28 md:h-28\">\n                <Image\n                  src={selectedProfile.image}\n                  alt={selectedProfile.name}\n                  fill\n                  sizes=\"112px\"\n                  className=\"rounded-full object-cover shadow-xl\"\n                  priority\n                />\n              </div>\n\n              {/* Greeting */}\n              <h2 className=\"text-2xl md:text-3xl font-bold tracking-tight font-mono text-center\">\n                {getGreeting(selectedProfile.firstName)}\n              </h2>\n\n              {/* Password Form */}\n              <form onSubmit={handleLogin} className=\"flex flex-col items-center gap-4 w-full\">\n                <div className=\"relative w-full\">\n                  <input\n                    ref={passwordInputRef}\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => {\n                      setPassword(e.target.value);\n                      setError(null);\n                    }}\n                    placeholder=\"••••••••\"\n                    className={`w-full py-4 text-center font-mono text-lg tracking-[0.25em] bg-transparent border-b-2 border-border outline-none transition-all duration-200 focus:border-foreground placeholder:text-muted-foreground/30 ${\n                      error ? \"border-destructive\" : \"\"\n                    }`}\n                    autoComplete=\"current-password\"\n                  />\n                </div>\n\n                {/* Error Message */}\n                {error && (\n                  <div className=\"flex items-center gap-2 text-sm text-destructive animate-fade-in\">\n                    <AlertCircle className=\"w-4 h-4 flex-shrink-0\" />\n                    <span>{error}</span>\n                  </div>\n                )}\n\n                {/* Submit Button */}\n                <button\n                  type=\"submit\"\n                  disabled={!password || isLoggingIn}\n                  className={`w-full py-3.5 font-mono text-sm uppercase tracking-widest bg-foreground text-background rounded-lg transition-all duration-200 ${\n                    password && !isLoggingIn\n                      ? \"opacity-100 hover:opacity-90 hover:shadow-lg active:scale-[0.98]\"\n                      : \"opacity-0 pointer-events-none\"\n                  }`}\n                >\n                  {isLoggingIn ? \"Loggar in...\" : \"Logga in\"}\n                </button>\n              </form>\n\n              {/* Forgot Password Link */}\n              <Link\n                href=\"/forgot-password\"\n                className=\"text-xs text-muted-foreground hover:text-foreground font-mono transition-colors\"\n              >\n                Glömt lösenord?\n              </Link>\n\n              {/* Divider */}\n              <div className=\"relative w-full flex items-center gap-4\">\n                <div className=\"flex-1 h-px bg-border\" />\n                <span className=\"text-xs uppercase tracking-widest text-muted-foreground font-mono\">\n                  eller\n                </span>\n                <div className=\"flex-1 h-px bg-border\" />\n              </div>\n\n              {/* Google Login */}\n              <button\n                type=\"button\"\n                onClick={handleGoogleLogin}\n                disabled={isLoggingIn}\n                className=\"flex items-center justify-center gap-3 w-full py-3 rounded-lg border border-border bg-card text-sm font-medium transition-all hover:bg-secondary hover:shadow-md active:scale-[0.98] disabled:opacity-50\"\n              >\n                <svg className=\"h-5 w-5\" viewBox=\"0 0 24 24\">\n                  <path d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\" fill=\"#4285F4\" />\n                  <path d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\" fill=\"#34A853\" />\n                  <path d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\" fill=\"#FBBC05\" />\n                  <path d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\" fill=\"#EA4335\" />\n                </svg>\n                Fortsätt med Google\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function LoginPage() {\n  return (\n    <Suspense fallback={null}>\n      <LoginEntry />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}