;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="42339391-3549-f6e8-fd3a-a089d8a72cfd")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,550230,e=>{"use strict";var t=e.i(221390),a=e.i(906140);e.i(352579);var s=e.i(411775),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let n=(0,s.createSlot)(`Primitive.${r}`),i=a.forwardRef((e,a)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?n:r,{...i,ref:a})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),n=a.forwardRef((e,a)=>(0,t.jsx)(r.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var i=e.i(297551),d=e.i(963310);let l=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(n,{ref:s,className:(0,d.cn)(l(),e),...a}));o.displayName=n.displayName,e.s(["Label",()=>o],550230)},31810,e=>{"use strict";var t=e.i(221390),a=e.i(963310);function s({className:e,gradient:s=!1,...r}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-2xl border border-border py-6 shadow-sm","transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5",s&&"relative overflow-hidden gradient-border",e),...r})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold font-display",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>n])},243163,e=>{"use strict";var t=e.i(221390),a=e.i(906140),s=e.i(963310);let r=a.forwardRef(({className:e,type:a,...r},n)=>(0,t.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-lg border border-input bg-card px-3 py-2 text-base text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/40 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));r.displayName="Input",e.s(["Input",()=>r])},948291,e=>{"use strict";var t=e.i(221390),a=e.i(906140),s=e.i(333601),r=e.i(529276),n=e.i(835604),i=e.i(31810),d=e.i(267385),l=e.i(243163),o=e.i(550230),c=e.i(824131),u=e.i(708806);function m(){let{data:e,status:m}=(0,s.useSession)(),x=(0,r.useRouter)(),{isDark:h,toggle:p,isLoaded:f}=(0,u.useDarkMode)(),[g,j]=(0,a.useState)(null),[b,v]=(0,a.useState)(""),[N,y]=(0,a.useState)(""),[C,w]=(0,a.useState)(!0),[k,S]=(0,a.useState)(!1),[D,T]=(0,a.useState)(null);(0,a.useEffect)(()=>{"unauthenticated"===m&&x.push("/login?callbackUrl=/konto")},[m,x]),(0,a.useEffect)(()=>{"authenticated"===m&&H()},[m]);let H=async()=>{try{let e=await fetch("/api/konto");if(e.ok){let t=await e.json();j(t),v(t.name||""),y(t.phone||"")}}catch(e){console.error("Failed to fetch profile:",e)}finally{w(!1)}},P=async e=>{e.preventDefault(),S(!0),T(null);try{let e=await fetch("/api/konto",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,phone:N})}),t=await e.json();e.ok?(j(t),T({type:"success",text:"Profilen har sparats"})):T({type:"error",text:t.error||"Något gick fel"})}catch{T({type:"error",text:"Något gick fel"})}finally{S(!1)}};return"loading"===m||C?(0,t.jsx)("main",{className:"min-h-screen bg-background text-foreground",children:(0,t.jsx)("div",{className:"page-wrapper",children:(0,t.jsxs)("div",{className:"max-w-2xl",children:[(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 w-32 bg-muted rounded mb-2"}),(0,t.jsx)("div",{className:"h-5 w-48 bg-muted rounded mb-8"})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)("div",{className:"h-6 w-24 bg-muted animate-pulse rounded"})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"h-10 bg-muted animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-10 bg-muted animate-pulse rounded"}),(0,t.jsx)("div",{className:"h-10 bg-muted animate-pulse rounded"})]})]})]})})}):"unauthenticated"===m?null:(0,t.jsx)("main",{className:"min-h-screen bg-background text-foreground",children:(0,t.jsxs)("div",{className:"page-wrapper page-content",children:[(0,t.jsxs)("header",{className:"page-header",children:[(0,t.jsx)("h1",{className:"page-title",children:"Konto"}),(0,t.jsx)("p",{className:"page-subtitle",children:"Hantera din profil och inställningar"})]}),(0,t.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:"Profil"}),(0,t.jsx)(i.CardDescription,{children:"Hantera din kontoinformation"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"name",children:"Namn"}),(0,t.jsx)(l.Input,{id:"name",type:"text",value:b,onChange:e=>v(e.target.value),placeholder:"Ditt namn",disabled:k})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"email",children:"E-post"}),(0,t.jsx)(l.Input,{id:"email",type:"email",value:g?.email||"",disabled:!0,className:"bg-muted"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"E-postadressen kan inte ändras"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"phone",children:"Mobilnummer"}),(0,t.jsx)(l.Input,{id:"phone",type:"tel",value:N,onChange:e=>y(e.target.value),placeholder:"+46 70 123 45 67",disabled:k}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Används för notifikationer och kontoåterställning"})]}),D&&(0,t.jsx)("div",{className:`p-3 rounded-lg text-sm ${"success"===D.type?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-destructive/10 text-destructive"}`,children:D.text}),(0,t.jsx)(d.Button,{type:"submit",disabled:k,children:k?"Sparar...":"Spara ändringar"})]})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:"Säkerhet"}),(0,t.jsx)(i.CardDescription,{children:"Hantera ditt lösenord"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Lösenord"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Byt ditt lösenord för att hålla kontot säkert"})]}),(0,t.jsx)(d.Button,{variant:"outline",asChild:!0,children:(0,t.jsx)(n.default,{href:"/konto/losenord",children:"Byt lösenord"})})]})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:"Utseende"}),(0,t.jsx)(i.CardDescription,{children:"Anpassa hur appen ser ut"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Mörkt läge"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Aktivera mörkt färgschema"})]}),f&&(0,t.jsx)(c.Switch,{checked:h,onCheckedChange:p,"aria-label":"Växla mörkt läge"})]})})]})]})]})})}e.s(["default",()=>m])}]);

//# debugId=42339391-3549-f6e8-fd3a-a089d8a72cfd
//# sourceMappingURL=237e5855b4ae92c2.js.map